var Km=Object.defineProperty;var Hm=(e,t,r)=>t in e?Km(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Xr=(e,t,r)=>(Hm(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function nr(){}function qm(e,t){for(const r in t)e[r]=t[r];return e}function Ld(e){return e()}function fh(){return Object.create(null)}function mn(e){e.forEach(Ld)}function As(e){return typeof e=="function"}function Bn(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let is;function Dd(e,t){return e===t?!0:(is||(is=document.createElement("a")),is.href=t,e===is.href)}function zm(e){return Object.keys(e).length===0}function Gm(e,t,r,n){if(e){const i=Pd(e,t,r,n);return e[0](i)}}function Pd(e,t,r,n){return e[1]&&n?qm(r.ctx.slice(),e[1](n(t))):r.ctx}function Wm(e,t,r,n){if(e[2]&&n){const i=e[2](n(r));if(t.dirty===void 0)return i;if(typeof i=="object"){const s=[],l=Math.max(t.dirty.length,i.length);for(let u=0;u<l;u+=1)s[u]=t.dirty[u]|i[u];return s}return t.dirty|i}return t.dirty}function Qm(e,t,r,n,i,s){if(i){const l=Pd(t,r,n,s);e.p(l,i)}}function Ym(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let n=0;n<r;n++)t[n]=-1;return t}return-1}function L(e,t){e.appendChild(t)}function We(e,t,r){e.insertBefore(t,r||null)}function Ge(e){e.parentNode&&e.parentNode.removeChild(e)}function du(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function Y(e){return document.createElement(e)}function Xm(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function wt(e){return document.createTextNode(e)}function ye(){return wt(" ")}function pu(){return wt("")}function Me(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function H(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function zn(e){return e===""?null:+e}function Zm(e){return Array.from(e.childNodes)}function hn(e,t){t=""+t,e.data!==t&&(e.data=t)}function yt(e,t){e.value=t??""}function W(e,t,r,n){r==null?e.style.removeProperty(t):e.style.setProperty(t,r,n?"important":"")}function ch(e,t,r){for(let n=0;n<e.options.length;n+=1){const i=e.options[n];if(i.__value===t){i.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function Jm(e){const t=e.querySelector(":checked");return t&&t.__value}function jm(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}class vu{constructor(t=!1){Xr(this,"is_svg",!1);Xr(this,"e");Xr(this,"n");Xr(this,"t");Xr(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,r,n=null){this.e||(this.is_svg?this.e=Xm(r.nodeName):this.e=Y(r.nodeType===11?"TEMPLATE":r.nodeName),this.t=r.tagName!=="TEMPLATE"?r:r.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let r=0;r<this.n.length;r+=1)We(this.t,this.n[r],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(Ge)}}let u0;function i0(e){u0=e}function gu(){if(!u0)throw new Error("Function called outside component initialization");return u0}function ti(e){gu().$$.on_mount.push(e)}function $m(e){gu().$$.after_update.push(e)}function Bs(){const e=gu();return(t,r,{cancelable:n=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=jm(t,r,{cancelable:n});return i.slice().forEach(l=>{l.call(e,s)}),!s.defaultPrevented}return!0}}const bi=[],jt=[];let wi=[];const Ql=[],eC=Promise.resolve();let Yl=!1;function tC(){Yl||(Yl=!0,eC.then(yu))}function ps(e){wi.push(e)}function dn(e){Ql.push(e)}const il=new Set;let Ei=0;function yu(){if(Ei!==0)return;const e=u0;do{try{for(;Ei<bi.length;){const t=bi[Ei];Ei++,i0(t),rC(t.$$)}}catch(t){throw bi.length=0,Ei=0,t}for(i0(null),bi.length=0,Ei=0;jt.length;)jt.pop()();for(let t=0;t<wi.length;t+=1){const r=wi[t];il.has(r)||(il.add(r),r())}wi.length=0}while(bi.length);for(;Ql.length;)Ql.pop()();Yl=!1,il.clear(),i0(e)}function rC(e){if(e.fragment!==null){e.update(),mn(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ps)}}function nC(e){const t=[],r=[];wi.forEach(n=>e.indexOf(n)===-1?t.push(n):r.push(n)),r.forEach(n=>n()),wi=t}const fs=new Set;let Za;function ja(){Za={r:0,c:[],p:Za}}function $a(){Za.r||mn(Za.c),Za=Za.p}function at(e,t){e&&e.i&&(fs.delete(e),e.i(t))}function _t(e,t,r,n){if(e&&e.o){if(fs.has(e))return;fs.add(e),Za.c.push(()=>{fs.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}else n&&n()}function Ri(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function pn(e,t,r){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}function _r(e){e&&e.c()}function cr(e,t,r){const{fragment:n,after_update:i}=e.$$;n&&n.m(t,r),ps(()=>{const s=e.$$.on_mount.map(Ld).filter(As);e.$$.on_destroy?e.$$.on_destroy.push(...s):mn(s),e.$$.on_mount=[]}),i.forEach(ps)}function hr(e,t){const r=e.$$;r.fragment!==null&&(nC(r.after_update),mn(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function aC(e,t){e.$$.dirty[0]===-1&&(bi.push(e),tC(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function In(e,t,r,n,i,s,l,u=[-1]){const c=u0;i0(e);const f=e.$$={fragment:null,ctx:[],props:s,update:nr,not_equal:i,bound:fh(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:fh(),dirty:u,skip_bound:!1,root:t.target||c.$$.root};l&&l(f.root);let d=!1;if(f.ctx=r?r(e,t.props||{},(p,v,...y)=>{const x=y.length?y[0]:v;return f.ctx&&i(f.ctx[p],f.ctx[p]=x)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](x),d&&aC(e,p)),v}):[],f.update(),d=!0,mn(f.before_update),f.fragment=n?n(f.ctx):!1,t.target){if(t.hydrate){const p=Zm(t.target);f.fragment&&f.fragment.l(p),p.forEach(Ge)}else f.fragment&&f.fragment.c();t.intro&&at(e.$$.fragment),cr(e,t.target,t.anchor),yu()}i0(c)}class wn{constructor(){Xr(this,"$$");Xr(this,"$$set")}$destroy(){hr(this,1),this.$destroy=nr}$on(t,r){if(!As(r))return nr;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!zm(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const iC="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(iC);var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ud(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Od={exports:{}};function oC(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sl={exports:{}};const lC={},uC=Object.freeze(Object.defineProperty({__proto__:null,default:lC},Symbol.toStringTag,{value:"Module"})),Is=sC(uC);var hh;function gt(){return hh||(hh=1,function(e,t){(function(r,n){e.exports=n()})(Ye,function(){var r=r||function(n,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Ye<"u"&&Ye.crypto&&(s=Ye.crypto),!s&&typeof oC=="function")try{s=Is}catch{}var l=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},u=Object.create||function(){function S(){}return function(E){var R;return S.prototype=E,R=new S,S.prototype=null,R}}(),c={},f=c.lib={},d=f.Base=function(){return{extend:function(S){var E=u(this);return S&&E.mixIn(S),(!E.hasOwnProperty("init")||this.init===E.init)&&(E.init=function(){E.$super.init.apply(this,arguments)}),E.init.prototype=E,E.$super=this,E},create:function(){var S=this.extend();return S.init.apply(S,arguments),S},init:function(){},mixIn:function(S){for(var E in S)S.hasOwnProperty(E)&&(this[E]=S[E]);S.hasOwnProperty("toString")&&(this.toString=S.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),p=f.WordArray=d.extend({init:function(S,E){S=this.words=S||[],E!=i?this.sigBytes=E:this.sigBytes=S.length*4},toString:function(S){return(S||y).stringify(this)},concat:function(S){var E=this.words,R=S.words,k=this.sigBytes,N=S.sigBytes;if(this.clamp(),k%4)for(var D=0;D<N;D++){var F=R[D>>>2]>>>24-D%4*8&255;E[k+D>>>2]|=F<<24-(k+D)%4*8}else for(var j=0;j<N;j+=4)E[k+j>>>2]=R[j>>>2];return this.sigBytes+=N,this},clamp:function(){var S=this.words,E=this.sigBytes;S[E>>>2]&=4294967295<<32-E%4*8,S.length=n.ceil(E/4)},clone:function(){var S=d.clone.call(this);return S.words=this.words.slice(0),S},random:function(S){for(var E=[],R=0;R<S;R+=4)E.push(l());return new p.init(E,S)}}),v=c.enc={},y=v.Hex={stringify:function(S){for(var E=S.words,R=S.sigBytes,k=[],N=0;N<R;N++){var D=E[N>>>2]>>>24-N%4*8&255;k.push((D>>>4).toString(16)),k.push((D&15).toString(16))}return k.join("")},parse:function(S){for(var E=S.length,R=[],k=0;k<E;k+=2)R[k>>>3]|=parseInt(S.substr(k,2),16)<<24-k%8*4;return new p.init(R,E/2)}},x=v.Latin1={stringify:function(S){for(var E=S.words,R=S.sigBytes,k=[],N=0;N<R;N++){var D=E[N>>>2]>>>24-N%4*8&255;k.push(String.fromCharCode(D))}return k.join("")},parse:function(S){for(var E=S.length,R=[],k=0;k<E;k++)R[k>>>2]|=(S.charCodeAt(k)&255)<<24-k%4*8;return new p.init(R,E)}},m=v.Utf8={stringify:function(S){try{return decodeURIComponent(escape(x.stringify(S)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(S){return x.parse(unescape(encodeURIComponent(S)))}},C=f.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(S){typeof S=="string"&&(S=m.parse(S)),this._data.concat(S),this._nDataBytes+=S.sigBytes},_process:function(S){var E,R=this._data,k=R.words,N=R.sigBytes,D=this.blockSize,F=D*4,j=N/F;S?j=n.ceil(j):j=n.max((j|0)-this._minBufferSize,0);var P=j*D,O=n.min(P*4,N);if(P){for(var q=0;q<P;q+=D)this._doProcessBlock(k,q);E=k.splice(0,P),R.sigBytes-=O}return new p.init(E,O)},clone:function(){var S=d.clone.call(this);return S._data=this._data.clone(),S},_minBufferSize:0});f.Hasher=C.extend({cfg:d.extend(),init:function(S){this.cfg=this.cfg.extend(S),this.reset()},reset:function(){C.reset.call(this),this._doReset()},update:function(S){return this._append(S),this._process(),this},finalize:function(S){S&&this._append(S);var E=this._doFinalize();return E},blockSize:16,_createHelper:function(S){return function(E,R){return new S.init(R).finalize(E)}},_createHmacHelper:function(S){return function(E,R){return new A.HMAC.init(S,R).finalize(E)}}});var A=c.algo={};return c}(Math);return r})}(sl)),sl.exports}var ol={exports:{}},dh;function ws(){return dh||(dh=1,function(e,t){(function(r,n){e.exports=n(gt())})(Ye,function(r){return function(n){var i=r,s=i.lib,l=s.Base,u=s.WordArray,c=i.x64={};c.Word=l.extend({init:function(f,d){this.high=f,this.low=d}}),c.WordArray=l.extend({init:function(f,d){f=this.words=f||[],d!=n?this.sigBytes=d:this.sigBytes=f.length*8},toX32:function(){for(var f=this.words,d=f.length,p=[],v=0;v<d;v++){var y=f[v];p.push(y.high),p.push(y.low)}return u.create(p,this.sigBytes)},clone:function(){for(var f=l.clone.call(this),d=f.words=this.words.slice(0),p=d.length,v=0;v<p;v++)d[v]=d[v].clone();return f}})}(),r})}(ol)),ol.exports}var ll={exports:{}},ph;function fC(){return ph||(ph=1,function(e,t){(function(r,n){e.exports=n(gt())})(Ye,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,s=i.WordArray,l=s.init,u=s.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var f=c.byteLength,d=[],p=0;p<f;p++)d[p>>>2]|=c[p]<<24-p%4*8;l.call(this,d,f)}else l.apply(this,arguments)};u.prototype=s}}(),r.lib.WordArray})}(ll)),ll.exports}var ul={exports:{}},vh;function cC(){return vh||(vh=1,function(e,t){(function(r,n){e.exports=n(gt())})(Ye,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,l=n.enc;l.Utf16=l.Utf16BE={stringify:function(c){for(var f=c.words,d=c.sigBytes,p=[],v=0;v<d;v+=2){var y=f[v>>>2]>>>16-v%4*8&65535;p.push(String.fromCharCode(y))}return p.join("")},parse:function(c){for(var f=c.length,d=[],p=0;p<f;p++)d[p>>>1]|=c.charCodeAt(p)<<16-p%2*16;return s.create(d,f*2)}},l.Utf16LE={stringify:function(c){for(var f=c.words,d=c.sigBytes,p=[],v=0;v<d;v+=2){var y=u(f[v>>>2]>>>16-v%4*8&65535);p.push(String.fromCharCode(y))}return p.join("")},parse:function(c){for(var f=c.length,d=[],p=0;p<f;p++)d[p>>>1]|=u(c.charCodeAt(p)<<16-p%2*16);return s.create(d,f*2)}};function u(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}(ul)),ul.exports}var fl={exports:{}},gh;function Di(){return gh||(gh=1,function(e,t){(function(r,n){e.exports=n(gt())})(Ye,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,l=n.enc;l.Base64={stringify:function(c){var f=c.words,d=c.sigBytes,p=this._map;c.clamp();for(var v=[],y=0;y<d;y+=3)for(var x=f[y>>>2]>>>24-y%4*8&255,m=f[y+1>>>2]>>>24-(y+1)%4*8&255,C=f[y+2>>>2]>>>24-(y+2)%4*8&255,A=x<<16|m<<8|C,S=0;S<4&&y+S*.75<d;S++)v.push(p.charAt(A>>>6*(3-S)&63));var E=p.charAt(64);if(E)for(;v.length%4;)v.push(E);return v.join("")},parse:function(c){var f=c.length,d=this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var v=0;v<d.length;v++)p[d.charCodeAt(v)]=v}var y=d.charAt(64);if(y){var x=c.indexOf(y);x!==-1&&(f=x)}return u(c,f,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function u(c,f,d){for(var p=[],v=0,y=0;y<f;y++)if(y%4){var x=d[c.charCodeAt(y-1)]<<y%4*2,m=d[c.charCodeAt(y)]>>>6-y%4*2,C=x|m;p[v>>>2]|=C<<24-v%4*8,v++}return s.create(p,v)}}(),r.enc.Base64})}(fl)),fl.exports}var cl={exports:{}},yh;function hC(){return yh||(yh=1,function(e,t){(function(r,n){e.exports=n(gt())})(Ye,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,l=n.enc;l.Base64url={stringify:function(c,f=!0){var d=c.words,p=c.sigBytes,v=f?this._safe_map:this._map;c.clamp();for(var y=[],x=0;x<p;x+=3)for(var m=d[x>>>2]>>>24-x%4*8&255,C=d[x+1>>>2]>>>24-(x+1)%4*8&255,A=d[x+2>>>2]>>>24-(x+2)%4*8&255,S=m<<16|C<<8|A,E=0;E<4&&x+E*.75<p;E++)y.push(v.charAt(S>>>6*(3-E)&63));var R=v.charAt(64);if(R)for(;y.length%4;)y.push(R);return y.join("")},parse:function(c,f=!0){var d=c.length,p=f?this._safe_map:this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var y=0;y<p.length;y++)v[p.charCodeAt(y)]=y}var x=p.charAt(64);if(x){var m=c.indexOf(x);m!==-1&&(d=m)}return u(c,d,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function u(c,f,d){for(var p=[],v=0,y=0;y<f;y++)if(y%4){var x=d[c.charCodeAt(y-1)]<<y%4*2,m=d[c.charCodeAt(y)]>>>6-y%4*2,C=x|m;p[v>>>2]|=C<<24-v%4*8,v++}return s.create(p,v)}}(),r.enc.Base64url})}(cl)),cl.exports}var hl={exports:{}},xh;function Pi(){return xh||(xh=1,function(e,t){(function(r,n){e.exports=n(gt())})(Ye,function(r){return function(n){var i=r,s=i.lib,l=s.WordArray,u=s.Hasher,c=i.algo,f=[];(function(){for(var m=0;m<64;m++)f[m]=n.abs(n.sin(m+1))*4294967296|0})();var d=c.MD5=u.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,C){for(var A=0;A<16;A++){var S=C+A,E=m[S];m[S]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var R=this._hash.words,k=m[C+0],N=m[C+1],D=m[C+2],F=m[C+3],j=m[C+4],P=m[C+5],O=m[C+6],q=m[C+7],Z=m[C+8],de=m[C+9],ee=m[C+10],ne=m[C+11],ie=m[C+12],_e=m[C+13],Pe=m[C+14],le=m[C+15],G=R[0],$=R[1],oe=R[2],te=R[3];G=p(G,$,oe,te,k,7,f[0]),te=p(te,G,$,oe,N,12,f[1]),oe=p(oe,te,G,$,D,17,f[2]),$=p($,oe,te,G,F,22,f[3]),G=p(G,$,oe,te,j,7,f[4]),te=p(te,G,$,oe,P,12,f[5]),oe=p(oe,te,G,$,O,17,f[6]),$=p($,oe,te,G,q,22,f[7]),G=p(G,$,oe,te,Z,7,f[8]),te=p(te,G,$,oe,de,12,f[9]),oe=p(oe,te,G,$,ee,17,f[10]),$=p($,oe,te,G,ne,22,f[11]),G=p(G,$,oe,te,ie,7,f[12]),te=p(te,G,$,oe,_e,12,f[13]),oe=p(oe,te,G,$,Pe,17,f[14]),$=p($,oe,te,G,le,22,f[15]),G=v(G,$,oe,te,N,5,f[16]),te=v(te,G,$,oe,O,9,f[17]),oe=v(oe,te,G,$,ne,14,f[18]),$=v($,oe,te,G,k,20,f[19]),G=v(G,$,oe,te,P,5,f[20]),te=v(te,G,$,oe,ee,9,f[21]),oe=v(oe,te,G,$,le,14,f[22]),$=v($,oe,te,G,j,20,f[23]),G=v(G,$,oe,te,de,5,f[24]),te=v(te,G,$,oe,Pe,9,f[25]),oe=v(oe,te,G,$,F,14,f[26]),$=v($,oe,te,G,Z,20,f[27]),G=v(G,$,oe,te,_e,5,f[28]),te=v(te,G,$,oe,D,9,f[29]),oe=v(oe,te,G,$,q,14,f[30]),$=v($,oe,te,G,ie,20,f[31]),G=y(G,$,oe,te,P,4,f[32]),te=y(te,G,$,oe,Z,11,f[33]),oe=y(oe,te,G,$,ne,16,f[34]),$=y($,oe,te,G,Pe,23,f[35]),G=y(G,$,oe,te,N,4,f[36]),te=y(te,G,$,oe,j,11,f[37]),oe=y(oe,te,G,$,q,16,f[38]),$=y($,oe,te,G,ee,23,f[39]),G=y(G,$,oe,te,_e,4,f[40]),te=y(te,G,$,oe,k,11,f[41]),oe=y(oe,te,G,$,F,16,f[42]),$=y($,oe,te,G,O,23,f[43]),G=y(G,$,oe,te,de,4,f[44]),te=y(te,G,$,oe,ie,11,f[45]),oe=y(oe,te,G,$,le,16,f[46]),$=y($,oe,te,G,D,23,f[47]),G=x(G,$,oe,te,k,6,f[48]),te=x(te,G,$,oe,q,10,f[49]),oe=x(oe,te,G,$,Pe,15,f[50]),$=x($,oe,te,G,P,21,f[51]),G=x(G,$,oe,te,ie,6,f[52]),te=x(te,G,$,oe,F,10,f[53]),oe=x(oe,te,G,$,ee,15,f[54]),$=x($,oe,te,G,N,21,f[55]),G=x(G,$,oe,te,Z,6,f[56]),te=x(te,G,$,oe,le,10,f[57]),oe=x(oe,te,G,$,O,15,f[58]),$=x($,oe,te,G,_e,21,f[59]),G=x(G,$,oe,te,j,6,f[60]),te=x(te,G,$,oe,ne,10,f[61]),oe=x(oe,te,G,$,D,15,f[62]),$=x($,oe,te,G,de,21,f[63]),R[0]=R[0]+G|0,R[1]=R[1]+$|0,R[2]=R[2]+oe|0,R[3]=R[3]+te|0},_doFinalize:function(){var m=this._data,C=m.words,A=this._nDataBytes*8,S=m.sigBytes*8;C[S>>>5]|=128<<24-S%32;var E=n.floor(A/4294967296),R=A;C[(S+64>>>9<<4)+15]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,C[(S+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,m.sigBytes=(C.length+1)*4,this._process();for(var k=this._hash,N=k.words,D=0;D<4;D++){var F=N[D];N[D]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return k},clone:function(){var m=u.clone.call(this);return m._hash=this._hash.clone(),m}});function p(m,C,A,S,E,R,k){var N=m+(C&A|~C&S)+E+k;return(N<<R|N>>>32-R)+C}function v(m,C,A,S,E,R,k){var N=m+(C&S|A&~S)+E+k;return(N<<R|N>>>32-R)+C}function y(m,C,A,S,E,R,k){var N=m+(C^A^S)+E+k;return(N<<R|N>>>32-R)+C}function x(m,C,A,S,E,R,k){var N=m+(A^(C|~S))+E+k;return(N<<R|N>>>32-R)+C}i.MD5=u._createHelper(d),i.HmacMD5=u._createHmacHelper(d)}(Math),r.MD5})}(hl)),hl.exports}var dl={exports:{}},mh;function xu(){return mh||(mh=1,function(e,t){(function(r,n){e.exports=n(gt())})(Ye,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,l=i.Hasher,u=n.algo,c=[],f=u.SHA1=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,p){for(var v=this._hash.words,y=v[0],x=v[1],m=v[2],C=v[3],A=v[4],S=0;S<80;S++){if(S<16)c[S]=d[p+S]|0;else{var E=c[S-3]^c[S-8]^c[S-14]^c[S-16];c[S]=E<<1|E>>>31}var R=(y<<5|y>>>27)+A+c[S];S<20?R+=(x&m|~x&C)+1518500249:S<40?R+=(x^m^C)+1859775393:S<60?R+=(x&m|x&C|m&C)-1894007588:R+=(x^m^C)-899497514,A=C,C=m,m=x<<30|x>>>2,x=y,y=R}v[0]=v[0]+y|0,v[1]=v[1]+x|0,v[2]=v[2]+m|0,v[3]=v[3]+C|0,v[4]=v[4]+A|0},_doFinalize:function(){var d=this._data,p=d.words,v=this._nDataBytes*8,y=d.sigBytes*8;return p[y>>>5]|=128<<24-y%32,p[(y+64>>>9<<4)+14]=Math.floor(v/4294967296),p[(y+64>>>9<<4)+15]=v,d.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var d=l.clone.call(this);return d._hash=this._hash.clone(),d}});n.SHA1=l._createHelper(f),n.HmacSHA1=l._createHmacHelper(f)}(),r.SHA1})}(dl)),dl.exports}var pl={exports:{}},Ch;function Fd(){return Ch||(Ch=1,function(e,t){(function(r,n){e.exports=n(gt())})(Ye,function(r){return function(n){var i=r,s=i.lib,l=s.WordArray,u=s.Hasher,c=i.algo,f=[],d=[];(function(){function y(A){for(var S=n.sqrt(A),E=2;E<=S;E++)if(!(A%E))return!1;return!0}function x(A){return(A-(A|0))*4294967296|0}for(var m=2,C=0;C<64;)y(m)&&(C<8&&(f[C]=x(n.pow(m,1/2))),d[C]=x(n.pow(m,1/3)),C++),m++})();var p=[],v=c.SHA256=u.extend({_doReset:function(){this._hash=new l.init(f.slice(0))},_doProcessBlock:function(y,x){for(var m=this._hash.words,C=m[0],A=m[1],S=m[2],E=m[3],R=m[4],k=m[5],N=m[6],D=m[7],F=0;F<64;F++){if(F<16)p[F]=y[x+F]|0;else{var j=p[F-15],P=(j<<25|j>>>7)^(j<<14|j>>>18)^j>>>3,O=p[F-2],q=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;p[F]=P+p[F-7]+q+p[F-16]}var Z=R&k^~R&N,de=C&A^C&S^A&S,ee=(C<<30|C>>>2)^(C<<19|C>>>13)^(C<<10|C>>>22),ne=(R<<26|R>>>6)^(R<<21|R>>>11)^(R<<7|R>>>25),ie=D+ne+Z+d[F]+p[F],_e=ee+de;D=N,N=k,k=R,R=E+ie|0,E=S,S=A,A=C,C=ie+_e|0}m[0]=m[0]+C|0,m[1]=m[1]+A|0,m[2]=m[2]+S|0,m[3]=m[3]+E|0,m[4]=m[4]+R|0,m[5]=m[5]+k|0,m[6]=m[6]+N|0,m[7]=m[7]+D|0},_doFinalize:function(){var y=this._data,x=y.words,m=this._nDataBytes*8,C=y.sigBytes*8;return x[C>>>5]|=128<<24-C%32,x[(C+64>>>9<<4)+14]=n.floor(m/4294967296),x[(C+64>>>9<<4)+15]=m,y.sigBytes=x.length*4,this._process(),this._hash},clone:function(){var y=u.clone.call(this);return y._hash=this._hash.clone(),y}});i.SHA256=u._createHelper(v),i.HmacSHA256=u._createHmacHelper(v)}(Math),r.SHA256})}(pl)),pl.exports}var vl={exports:{}},_h;function dC(){return _h||(_h=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Fd())})(Ye,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,l=n.algo,u=l.SHA256,c=l.SHA224=u.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=u._doFinalize.call(this);return f.sigBytes-=4,f}});n.SHA224=u._createHelper(c),n.HmacSHA224=u._createHmacHelper(c)}(),r.SHA224})}(vl)),vl.exports}var gl={exports:{}},Eh;function Vd(){return Eh||(Eh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),ws())})(Ye,function(r){return function(){var n=r,i=n.lib,s=i.Hasher,l=n.x64,u=l.Word,c=l.WordArray,f=n.algo;function d(){return u.create.apply(u,arguments)}var p=[d(1116352408,3609767458),d(1899447441,602891725),d(3049323471,3964484399),d(3921009573,2173295548),d(961987163,4081628472),d(1508970993,3053834265),d(2453635748,2937671579),d(2870763221,3664609560),d(3624381080,2734883394),d(310598401,1164996542),d(607225278,1323610764),d(1426881987,3590304994),d(1925078388,4068182383),d(2162078206,991336113),d(2614888103,633803317),d(3248222580,3479774868),d(3835390401,2666613458),d(4022224774,944711139),d(264347078,2341262773),d(604807628,2007800933),d(770255983,1495990901),d(1249150122,1856431235),d(1555081692,3175218132),d(1996064986,2198950837),d(2554220882,3999719339),d(2821834349,766784016),d(2952996808,2566594879),d(3210313671,3203337956),d(3336571891,1034457026),d(3584528711,2466948901),d(113926993,3758326383),d(338241895,168717936),d(666307205,1188179964),d(773529912,1546045734),d(1294757372,1522805485),d(1396182291,2643833823),d(1695183700,2343527390),d(1986661051,1014477480),d(2177026350,1206759142),d(2456956037,344077627),d(2730485921,1290863460),d(2820302411,3158454273),d(3259730800,3505952657),d(3345764771,106217008),d(3516065817,3606008344),d(3600352804,1432725776),d(4094571909,1467031594),d(275423344,851169720),d(430227734,3100823752),d(506948616,1363258195),d(659060556,3750685593),d(883997877,3785050280),d(958139571,3318307427),d(1322822218,3812723403),d(1537002063,2003034995),d(1747873779,3602036899),d(1955562222,1575990012),d(2024104815,1125592928),d(2227730452,2716904306),d(2361852424,442776044),d(2428436474,593698344),d(2756734187,3733110249),d(3204031479,2999351573),d(3329325298,3815920427),d(3391569614,3928383900),d(3515267271,566280711),d(3940187606,3454069534),d(4118630271,4000239992),d(116418474,1914138554),d(174292421,2731055270),d(289380356,3203993006),d(460393269,320620315),d(685471733,587496836),d(852142971,1086792851),d(1017036298,365543100),d(1126000580,2618297676),d(1288033470,3409855158),d(1501505948,4234509866),d(1607167915,987167468),d(1816402316,1246189591)],v=[];(function(){for(var x=0;x<80;x++)v[x]=d()})();var y=f.SHA512=s.extend({_doReset:function(){this._hash=new c.init([new u.init(1779033703,4089235720),new u.init(3144134277,2227873595),new u.init(1013904242,4271175723),new u.init(2773480762,1595750129),new u.init(1359893119,2917565137),new u.init(2600822924,725511199),new u.init(528734635,4215389547),new u.init(1541459225,327033209)])},_doProcessBlock:function(x,m){for(var C=this._hash.words,A=C[0],S=C[1],E=C[2],R=C[3],k=C[4],N=C[5],D=C[6],F=C[7],j=A.high,P=A.low,O=S.high,q=S.low,Z=E.high,de=E.low,ee=R.high,ne=R.low,ie=k.high,_e=k.low,Pe=N.high,le=N.low,G=D.high,$=D.low,oe=F.high,te=F.low,we=j,Ae=P,Fe=O,me=q,Re=Z,st=de,$e=ee,ze=ne,et=ie,ke=_e,rt=Pe,$t=le,Ut=G,Ct=$,er=oe,ar=te,pt=0;pt<80;pt++){var It,zt,ae=v[pt];if(pt<16)zt=ae.high=x[m+pt*2]|0,It=ae.low=x[m+pt*2+1]|0;else{var re=v[pt-15],De=re.high,Le=re.low,Rt=(De>>>1|Le<<31)^(De>>>8|Le<<24)^De>>>7,Rn=(Le>>>1|De<<31)^(Le>>>8|De<<24)^(Le>>>7|De<<25),jr=v[pt-2],tr=jr.high,$r=jr.low,Kr=(tr>>>19|$r<<13)^(tr<<3|$r>>>29)^tr>>>6,Wn=($r>>>19|tr<<13)^($r<<3|tr>>>29)^($r>>>6|tr<<26),en=v[pt-7],Hr=en.high,Nn=en.low,oa=v[pt-16],la=oa.high,Na=oa.low;It=Rn+Nn,zt=Rt+Hr+(It>>>0<Rn>>>0?1:0),It=It+Wn,zt=zt+Kr+(It>>>0<Wn>>>0?1:0),It=It+Na,zt=zt+la+(It>>>0<Na>>>0?1:0),ae.high=zt,ae.low=It}var Cn=et&rt^~et&Ut,kn=ke&$t^~ke&Ct,ka=we&Fe^we&Re^Fe&Re,ii=Ae&me^Ae&st^me&st,pr=(we>>>28|Ae<<4)^(we<<30|Ae>>>2)^(we<<25|Ae>>>7),ua=(Ae>>>28|we<<4)^(Ae<<30|we>>>2)^(Ae<<25|we>>>7),La=(et>>>14|ke<<18)^(et>>>18|ke<<14)^(et<<23|ke>>>9),si=(ke>>>14|et<<18)^(ke>>>18|et<<14)^(ke<<23|et>>>9),Qn=p[pt],Lr=Qn.high,Ot=Qn.low,vr=ar+si,Dr=er+La+(vr>>>0<ar>>>0?1:0),vr=vr+kn,Dr=Dr+Cn+(vr>>>0<kn>>>0?1:0),vr=vr+Ot,Dr=Dr+Lr+(vr>>>0<Ot>>>0?1:0),vr=vr+It,Dr=Dr+zt+(vr>>>0<It>>>0?1:0),oi=ua+ii,Gt=pr+ka+(oi>>>0<ua>>>0?1:0);er=Ut,ar=Ct,Ut=rt,Ct=$t,rt=et,$t=ke,ke=ze+vr|0,et=$e+Dr+(ke>>>0<ze>>>0?1:0)|0,$e=Re,ze=st,Re=Fe,st=me,Fe=we,me=Ae,Ae=vr+oi|0,we=Dr+Gt+(Ae>>>0<vr>>>0?1:0)|0}P=A.low=P+Ae,A.high=j+we+(P>>>0<Ae>>>0?1:0),q=S.low=q+me,S.high=O+Fe+(q>>>0<me>>>0?1:0),de=E.low=de+st,E.high=Z+Re+(de>>>0<st>>>0?1:0),ne=R.low=ne+ze,R.high=ee+$e+(ne>>>0<ze>>>0?1:0),_e=k.low=_e+ke,k.high=ie+et+(_e>>>0<ke>>>0?1:0),le=N.low=le+$t,N.high=Pe+rt+(le>>>0<$t>>>0?1:0),$=D.low=$+Ct,D.high=G+Ut+($>>>0<Ct>>>0?1:0),te=F.low=te+ar,F.high=oe+er+(te>>>0<ar>>>0?1:0)},_doFinalize:function(){var x=this._data,m=x.words,C=this._nDataBytes*8,A=x.sigBytes*8;m[A>>>5]|=128<<24-A%32,m[(A+128>>>10<<5)+30]=Math.floor(C/4294967296),m[(A+128>>>10<<5)+31]=C,x.sigBytes=m.length*4,this._process();var S=this._hash.toX32();return S},clone:function(){var x=s.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:1024/32});n.SHA512=s._createHelper(y),n.HmacSHA512=s._createHmacHelper(y)}(),r.SHA512})}(gl)),gl.exports}var yl={exports:{}},Sh;function pC(){return Sh||(Sh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),ws(),Vd())})(Ye,function(r){return function(){var n=r,i=n.x64,s=i.Word,l=i.WordArray,u=n.algo,c=u.SHA512,f=u.SHA384=c.extend({_doReset:function(){this._hash=new l.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var d=c._doFinalize.call(this);return d.sigBytes-=16,d}});n.SHA384=c._createHelper(f),n.HmacSHA384=c._createHmacHelper(f)}(),r.SHA384})}(yl)),yl.exports}var xl={exports:{}},bh;function vC(){return bh||(bh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),ws())})(Ye,function(r){return function(n){var i=r,s=i.lib,l=s.WordArray,u=s.Hasher,c=i.x64,f=c.Word,d=i.algo,p=[],v=[],y=[];(function(){for(var C=1,A=0,S=0;S<24;S++){p[C+5*A]=(S+1)*(S+2)/2%64;var E=A%5,R=(2*C+3*A)%5;C=E,A=R}for(var C=0;C<5;C++)for(var A=0;A<5;A++)v[C+5*A]=A+(2*C+3*A)%5*5;for(var k=1,N=0;N<24;N++){for(var D=0,F=0,j=0;j<7;j++){if(k&1){var P=(1<<j)-1;P<32?F^=1<<P:D^=1<<P-32}k&128?k=k<<1^113:k<<=1}y[N]=f.create(D,F)}})();var x=[];(function(){for(var C=0;C<25;C++)x[C]=f.create()})();var m=d.SHA3=u.extend({cfg:u.cfg.extend({outputLength:512}),_doReset:function(){for(var C=this._state=[],A=0;A<25;A++)C[A]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(C,A){for(var S=this._state,E=this.blockSize/2,R=0;R<E;R++){var k=C[A+2*R],N=C[A+2*R+1];k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360;var D=S[R];D.high^=N,D.low^=k}for(var F=0;F<24;F++){for(var j=0;j<5;j++){for(var P=0,O=0,q=0;q<5;q++){var D=S[j+5*q];P^=D.high,O^=D.low}var Z=x[j];Z.high=P,Z.low=O}for(var j=0;j<5;j++)for(var de=x[(j+4)%5],ee=x[(j+1)%5],ne=ee.high,ie=ee.low,P=de.high^(ne<<1|ie>>>31),O=de.low^(ie<<1|ne>>>31),q=0;q<5;q++){var D=S[j+5*q];D.high^=P,D.low^=O}for(var _e=1;_e<25;_e++){var P,O,D=S[_e],Pe=D.high,le=D.low,G=p[_e];G<32?(P=Pe<<G|le>>>32-G,O=le<<G|Pe>>>32-G):(P=le<<G-32|Pe>>>64-G,O=Pe<<G-32|le>>>64-G);var $=x[v[_e]];$.high=P,$.low=O}var oe=x[0],te=S[0];oe.high=te.high,oe.low=te.low;for(var j=0;j<5;j++)for(var q=0;q<5;q++){var _e=j+5*q,D=S[_e],we=x[_e],Ae=x[(j+1)%5+5*q],Fe=x[(j+2)%5+5*q];D.high=we.high^~Ae.high&Fe.high,D.low=we.low^~Ae.low&Fe.low}var D=S[0],me=y[F];D.high^=me.high,D.low^=me.low}},_doFinalize:function(){var C=this._data,A=C.words;this._nDataBytes*8;var S=C.sigBytes*8,E=this.blockSize*32;A[S>>>5]|=1<<24-S%32,A[(n.ceil((S+1)/E)*E>>>5)-1]|=128,C.sigBytes=A.length*4,this._process();for(var R=this._state,k=this.cfg.outputLength/8,N=k/8,D=[],F=0;F<N;F++){var j=R[F],P=j.high,O=j.low;P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,D.push(O),D.push(P)}return new l.init(D,k)},clone:function(){for(var C=u.clone.call(this),A=C._state=this._state.slice(0),S=0;S<25;S++)A[S]=A[S].clone();return C}});i.SHA3=u._createHelper(m),i.HmacSHA3=u._createHmacHelper(m)}(Math),r.SHA3})}(xl)),xl.exports}var ml={exports:{}},Th;function gC(){return Th||(Th=1,function(e,t){(function(r,n){e.exports=n(gt())})(Ye,function(r){/** @preserve
			(c) 2012 by CÃ©dric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,s=i.lib,l=s.WordArray,u=s.Hasher,c=i.algo,f=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),p=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),v=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),y=l.create([0,1518500249,1859775393,2400959708,2840853838]),x=l.create([1352829926,1548603684,1836072691,2053994217,0]),m=c.RIPEMD160=u.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(N,D){for(var F=0;F<16;F++){var j=D+F,P=N[j];N[j]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}var O=this._hash.words,q=y.words,Z=x.words,de=f.words,ee=d.words,ne=p.words,ie=v.words,_e,Pe,le,G,$,oe,te,we,Ae,Fe;oe=_e=O[0],te=Pe=O[1],we=le=O[2],Ae=G=O[3],Fe=$=O[4];for(var me,F=0;F<80;F+=1)me=_e+N[D+de[F]]|0,F<16?me+=C(Pe,le,G)+q[0]:F<32?me+=A(Pe,le,G)+q[1]:F<48?me+=S(Pe,le,G)+q[2]:F<64?me+=E(Pe,le,G)+q[3]:me+=R(Pe,le,G)+q[4],me=me|0,me=k(me,ne[F]),me=me+$|0,_e=$,$=G,G=k(le,10),le=Pe,Pe=me,me=oe+N[D+ee[F]]|0,F<16?me+=R(te,we,Ae)+Z[0]:F<32?me+=E(te,we,Ae)+Z[1]:F<48?me+=S(te,we,Ae)+Z[2]:F<64?me+=A(te,we,Ae)+Z[3]:me+=C(te,we,Ae)+Z[4],me=me|0,me=k(me,ie[F]),me=me+Fe|0,oe=Fe,Fe=Ae,Ae=k(we,10),we=te,te=me;me=O[1]+le+Ae|0,O[1]=O[2]+G+Fe|0,O[2]=O[3]+$+oe|0,O[3]=O[4]+_e+te|0,O[4]=O[0]+Pe+we|0,O[0]=me},_doFinalize:function(){var N=this._data,D=N.words,F=this._nDataBytes*8,j=N.sigBytes*8;D[j>>>5]|=128<<24-j%32,D[(j+64>>>9<<4)+14]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,N.sigBytes=(D.length+1)*4,this._process();for(var P=this._hash,O=P.words,q=0;q<5;q++){var Z=O[q];O[q]=(Z<<8|Z>>>24)&16711935|(Z<<24|Z>>>8)&4278255360}return P},clone:function(){var N=u.clone.call(this);return N._hash=this._hash.clone(),N}});function C(N,D,F){return N^D^F}function A(N,D,F){return N&D|~N&F}function S(N,D,F){return(N|~D)^F}function E(N,D,F){return N&F|D&~F}function R(N,D,F){return N^(D|~F)}function k(N,D){return N<<D|N>>>32-D}i.RIPEMD160=u._createHelper(m),i.HmacRIPEMD160=u._createHmacHelper(m)}(),r.RIPEMD160})}(ml)),ml.exports}var Cl={exports:{}},Ah;function mu(){return Ah||(Ah=1,function(e,t){(function(r,n){e.exports=n(gt())})(Ye,function(r){(function(){var n=r,i=n.lib,s=i.Base,l=n.enc,u=l.Utf8,c=n.algo;c.HMAC=s.extend({init:function(f,d){f=this._hasher=new f.init,typeof d=="string"&&(d=u.parse(d));var p=f.blockSize,v=p*4;d.sigBytes>v&&(d=f.finalize(d)),d.clamp();for(var y=this._oKey=d.clone(),x=this._iKey=d.clone(),m=y.words,C=x.words,A=0;A<p;A++)m[A]^=1549556828,C[A]^=909522486;y.sigBytes=x.sigBytes=v,this.reset()},reset:function(){var f=this._hasher;f.reset(),f.update(this._iKey)},update:function(f){return this._hasher.update(f),this},finalize:function(f){var d=this._hasher,p=d.finalize(f);d.reset();var v=d.finalize(this._oKey.clone().concat(p));return v}})})()})}(Cl)),Cl.exports}var _l={exports:{}},Bh;function yC(){return Bh||(Bh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),xu(),mu())})(Ye,function(r){return function(){var n=r,i=n.lib,s=i.Base,l=i.WordArray,u=n.algo,c=u.SHA1,f=u.HMAC,d=u.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:c,iterations:1}),init:function(p){this.cfg=this.cfg.extend(p)},compute:function(p,v){for(var y=this.cfg,x=f.create(y.hasher,p),m=l.create(),C=l.create([1]),A=m.words,S=C.words,E=y.keySize,R=y.iterations;A.length<E;){var k=x.update(v).finalize(C);x.reset();for(var N=k.words,D=N.length,F=k,j=1;j<R;j++){F=x.finalize(F),x.reset();for(var P=F.words,O=0;O<D;O++)N[O]^=P[O]}m.concat(k),S[0]++}return m.sigBytes=E*4,m}});n.PBKDF2=function(p,v,y){return d.create(y).compute(p,v)}}(),r.PBKDF2})}(_l)),_l.exports}var El={exports:{}},Ih;function ri(){return Ih||(Ih=1,function(e,t){(function(r,n,i){e.exports=n(gt(),xu(),mu())})(Ye,function(r){return function(){var n=r,i=n.lib,s=i.Base,l=i.WordArray,u=n.algo,c=u.MD5,f=u.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:c,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,p){for(var v,y=this.cfg,x=y.hasher.create(),m=l.create(),C=m.words,A=y.keySize,S=y.iterations;C.length<A;){v&&x.update(v),v=x.update(d).finalize(p),x.reset();for(var E=1;E<S;E++)v=x.finalize(v),x.reset();m.concat(v)}return m.sigBytes=A*4,m}});n.EvpKDF=function(d,p,v){return f.create(v).compute(d,p)}}(),r.EvpKDF})}(El)),El.exports}var Sl={exports:{}},wh;function Er(){return wh||(wh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),ri())})(Ye,function(r){r.lib.Cipher||function(n){var i=r,s=i.lib,l=s.Base,u=s.WordArray,c=s.BufferedBlockAlgorithm,f=i.enc;f.Utf8;var d=f.Base64,p=i.algo,v=p.EvpKDF,y=s.Cipher=c.extend({cfg:l.extend(),createEncryptor:function(P,O){return this.create(this._ENC_XFORM_MODE,P,O)},createDecryptor:function(P,O){return this.create(this._DEC_XFORM_MODE,P,O)},init:function(P,O,q){this.cfg=this.cfg.extend(q),this._xformMode=P,this._key=O,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(P){return this._append(P),this._process()},finalize:function(P){P&&this._append(P);var O=this._doFinalize();return O},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function P(O){return typeof O=="string"?j:N}return function(O){return{encrypt:function(q,Z,de){return P(Z).encrypt(O,q,Z,de)},decrypt:function(q,Z,de){return P(Z).decrypt(O,q,Z,de)}}}}()});s.StreamCipher=y.extend({_doFinalize:function(){var P=this._process(!0);return P},blockSize:1});var x=i.mode={},m=s.BlockCipherMode=l.extend({createEncryptor:function(P,O){return this.Encryptor.create(P,O)},createDecryptor:function(P,O){return this.Decryptor.create(P,O)},init:function(P,O){this._cipher=P,this._iv=O}}),C=x.CBC=function(){var P=m.extend();P.Encryptor=P.extend({processBlock:function(q,Z){var de=this._cipher,ee=de.blockSize;O.call(this,q,Z,ee),de.encryptBlock(q,Z),this._prevBlock=q.slice(Z,Z+ee)}}),P.Decryptor=P.extend({processBlock:function(q,Z){var de=this._cipher,ee=de.blockSize,ne=q.slice(Z,Z+ee);de.decryptBlock(q,Z),O.call(this,q,Z,ee),this._prevBlock=ne}});function O(q,Z,de){var ee,ne=this._iv;ne?(ee=ne,this._iv=n):ee=this._prevBlock;for(var ie=0;ie<de;ie++)q[Z+ie]^=ee[ie]}return P}(),A=i.pad={},S=A.Pkcs7={pad:function(P,O){for(var q=O*4,Z=q-P.sigBytes%q,de=Z<<24|Z<<16|Z<<8|Z,ee=[],ne=0;ne<Z;ne+=4)ee.push(de);var ie=u.create(ee,Z);P.concat(ie)},unpad:function(P){var O=P.words[P.sigBytes-1>>>2]&255;P.sigBytes-=O}};s.BlockCipher=y.extend({cfg:y.cfg.extend({mode:C,padding:S}),reset:function(){var P;y.reset.call(this);var O=this.cfg,q=O.iv,Z=O.mode;this._xformMode==this._ENC_XFORM_MODE?P=Z.createEncryptor:(P=Z.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==P?this._mode.init(this,q&&q.words):(this._mode=P.call(Z,this,q&&q.words),this._mode.__creator=P)},_doProcessBlock:function(P,O){this._mode.processBlock(P,O)},_doFinalize:function(){var P,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),P=this._process(!0)):(P=this._process(!0),O.unpad(P)),P},blockSize:128/32});var E=s.CipherParams=l.extend({init:function(P){this.mixIn(P)},toString:function(P){return(P||this.formatter).stringify(this)}}),R=i.format={},k=R.OpenSSL={stringify:function(P){var O,q=P.ciphertext,Z=P.salt;return Z?O=u.create([1398893684,1701076831]).concat(Z).concat(q):O=q,O.toString(d)},parse:function(P){var O,q=d.parse(P),Z=q.words;return Z[0]==1398893684&&Z[1]==1701076831&&(O=u.create(Z.slice(2,4)),Z.splice(0,4),q.sigBytes-=16),E.create({ciphertext:q,salt:O})}},N=s.SerializableCipher=l.extend({cfg:l.extend({format:k}),encrypt:function(P,O,q,Z){Z=this.cfg.extend(Z);var de=P.createEncryptor(q,Z),ee=de.finalize(O),ne=de.cfg;return E.create({ciphertext:ee,key:q,iv:ne.iv,algorithm:P,mode:ne.mode,padding:ne.padding,blockSize:P.blockSize,formatter:Z.format})},decrypt:function(P,O,q,Z){Z=this.cfg.extend(Z),O=this._parse(O,Z.format);var de=P.createDecryptor(q,Z).finalize(O.ciphertext);return de},_parse:function(P,O){return typeof P=="string"?O.parse(P,this):P}}),D=i.kdf={},F=D.OpenSSL={execute:function(P,O,q,Z){Z||(Z=u.random(64/8));var de=v.create({keySize:O+q}).compute(P,Z),ee=u.create(de.words.slice(O),q*4);return de.sigBytes=O*4,E.create({key:de,iv:ee,salt:Z})}},j=s.PasswordBasedCipher=N.extend({cfg:N.cfg.extend({kdf:F}),encrypt:function(P,O,q,Z){Z=this.cfg.extend(Z);var de=Z.kdf.execute(q,P.keySize,P.ivSize);Z.iv=de.iv;var ee=N.encrypt.call(this,P,O,de.key,Z);return ee.mixIn(de),ee},decrypt:function(P,O,q,Z){Z=this.cfg.extend(Z),O=this._parse(O,Z.format);var de=Z.kdf.execute(q,P.keySize,P.ivSize,O.salt);Z.iv=de.iv;var ee=N.decrypt.call(this,P,O,de.key,Z);return ee}})}()})}(Sl)),Sl.exports}var bl={exports:{}},Rh;function xC(){return Rh||(Rh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Er())})(Ye,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(s,l){var u=this._cipher,c=u.blockSize;i.call(this,s,l,c,u),this._prevBlock=s.slice(l,l+c)}}),n.Decryptor=n.extend({processBlock:function(s,l){var u=this._cipher,c=u.blockSize,f=s.slice(l,l+c);i.call(this,s,l,c,u),this._prevBlock=f}});function i(s,l,u,c){var f,d=this._iv;d?(f=d.slice(0),this._iv=void 0):f=this._prevBlock,c.encryptBlock(f,0);for(var p=0;p<u;p++)s[l+p]^=f[p]}return n}(),r.mode.CFB})}(bl)),bl.exports}var Tl={exports:{}},Nh;function mC(){return Nh||(Nh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Er())})(Ye,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,l){var u=this._cipher,c=u.blockSize,f=this._iv,d=this._counter;f&&(d=this._counter=f.slice(0),this._iv=void 0);var p=d.slice(0);u.encryptBlock(p,0),d[c-1]=d[c-1]+1|0;for(var v=0;v<c;v++)s[l+v]^=p[v]}});return n.Decryptor=i,n}(),r.mode.CTR})}(Tl)),Tl.exports}var Al={exports:{}},kh;function CC(){return kh||(kh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Er())})(Ye,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(u){if((u>>24&255)===255){var c=u>>16&255,f=u>>8&255,d=u&255;c===255?(c=0,f===255?(f=0,d===255?d=0:++d):++f):++c,u=0,u+=c<<16,u+=f<<8,u+=d}else u+=1<<24;return u}function s(u){return(u[0]=i(u[0]))===0&&(u[1]=i(u[1])),u}var l=n.Encryptor=n.extend({processBlock:function(u,c){var f=this._cipher,d=f.blockSize,p=this._iv,v=this._counter;p&&(v=this._counter=p.slice(0),this._iv=void 0),s(v);var y=v.slice(0);f.encryptBlock(y,0);for(var x=0;x<d;x++)u[c+x]^=y[x]}});return n.Decryptor=l,n}(),r.mode.CTRGladman})}(Al)),Al.exports}var Bl={exports:{}},Lh;function _C(){return Lh||(Lh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Er())})(Ye,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,l){var u=this._cipher,c=u.blockSize,f=this._iv,d=this._keystream;f&&(d=this._keystream=f.slice(0),this._iv=void 0),u.encryptBlock(d,0);for(var p=0;p<c;p++)s[l+p]^=d[p]}});return n.Decryptor=i,n}(),r.mode.OFB})}(Bl)),Bl.exports}var Il={exports:{}},Dh;function EC(){return Dh||(Dh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Er())})(Ye,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),n.Decryptor=n.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),n}(),r.mode.ECB})}(Il)),Il.exports}var wl={exports:{}},Ph;function SC(){return Ph||(Ph=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Er())})(Ye,function(r){return r.pad.AnsiX923={pad:function(n,i){var s=n.sigBytes,l=i*4,u=l-s%l,c=s+u-1;n.clamp(),n.words[c>>>2]|=u<<24-c%4*8,n.sigBytes+=u},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(wl)),wl.exports}var Rl={exports:{}},Uh;function bC(){return Uh||(Uh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Er())})(Ye,function(r){return r.pad.Iso10126={pad:function(n,i){var s=i*4,l=s-n.sigBytes%s;n.concat(r.lib.WordArray.random(l-1)).concat(r.lib.WordArray.create([l<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(Rl)),Rl.exports}var Nl={exports:{}},Oh;function TC(){return Oh||(Oh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Er())})(Ye,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(Nl)),Nl.exports}var kl={exports:{}},Fh;function AC(){return Fh||(Fh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Er())})(Ye,function(r){return r.pad.ZeroPadding={pad:function(n,i){var s=i*4;n.clamp(),n.sigBytes+=s-(n.sigBytes%s||s)},unpad:function(n){for(var i=n.words,s=n.sigBytes-1,s=n.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){n.sigBytes=s+1;break}}},r.pad.ZeroPadding})}(kl)),kl.exports}var Ll={exports:{}},Vh;function BC(){return Vh||(Vh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Er())})(Ye,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(Ll)),Ll.exports}var Dl={exports:{}},Mh;function IC(){return Mh||(Mh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Er())})(Ye,function(r){return function(n){var i=r,s=i.lib,l=s.CipherParams,u=i.enc,c=u.Hex,f=i.format;f.Hex={stringify:function(d){return d.ciphertext.toString(c)},parse:function(d){var p=c.parse(d);return l.create({ciphertext:p})}}}(),r.format.Hex})}(Dl)),Dl.exports}var Pl={exports:{}},Kh;function wC(){return Kh||(Kh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Di(),Pi(),ri(),Er())})(Ye,function(r){return function(){var n=r,i=n.lib,s=i.BlockCipher,l=n.algo,u=[],c=[],f=[],d=[],p=[],v=[],y=[],x=[],m=[],C=[];(function(){for(var E=[],R=0;R<256;R++)R<128?E[R]=R<<1:E[R]=R<<1^283;for(var k=0,N=0,R=0;R<256;R++){var D=N^N<<1^N<<2^N<<3^N<<4;D=D>>>8^D&255^99,u[k]=D,c[D]=k;var F=E[k],j=E[F],P=E[j],O=E[D]*257^D*16843008;f[k]=O<<24|O>>>8,d[k]=O<<16|O>>>16,p[k]=O<<8|O>>>24,v[k]=O;var O=P*16843009^j*65537^F*257^k*16843008;y[D]=O<<24|O>>>8,x[D]=O<<16|O>>>16,m[D]=O<<8|O>>>24,C[D]=O,k?(k=F^E[E[E[P^F]]],N^=E[E[N]]):k=N=1}})();var A=[0,1,2,4,8,16,32,64,128,27,54],S=l.AES=s.extend({_doReset:function(){var E;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var R=this._keyPriorReset=this._key,k=R.words,N=R.sigBytes/4,D=this._nRounds=N+6,F=(D+1)*4,j=this._keySchedule=[],P=0;P<F;P++)P<N?j[P]=k[P]:(E=j[P-1],P%N?N>6&&P%N==4&&(E=u[E>>>24]<<24|u[E>>>16&255]<<16|u[E>>>8&255]<<8|u[E&255]):(E=E<<8|E>>>24,E=u[E>>>24]<<24|u[E>>>16&255]<<16|u[E>>>8&255]<<8|u[E&255],E^=A[P/N|0]<<24),j[P]=j[P-N]^E);for(var O=this._invKeySchedule=[],q=0;q<F;q++){var P=F-q;if(q%4)var E=j[P];else var E=j[P-4];q<4||P<=4?O[q]=E:O[q]=y[u[E>>>24]]^x[u[E>>>16&255]]^m[u[E>>>8&255]]^C[u[E&255]]}}},encryptBlock:function(E,R){this._doCryptBlock(E,R,this._keySchedule,f,d,p,v,u)},decryptBlock:function(E,R){var k=E[R+1];E[R+1]=E[R+3],E[R+3]=k,this._doCryptBlock(E,R,this._invKeySchedule,y,x,m,C,c);var k=E[R+1];E[R+1]=E[R+3],E[R+3]=k},_doCryptBlock:function(E,R,k,N,D,F,j,P){for(var O=this._nRounds,q=E[R]^k[0],Z=E[R+1]^k[1],de=E[R+2]^k[2],ee=E[R+3]^k[3],ne=4,ie=1;ie<O;ie++){var _e=N[q>>>24]^D[Z>>>16&255]^F[de>>>8&255]^j[ee&255]^k[ne++],Pe=N[Z>>>24]^D[de>>>16&255]^F[ee>>>8&255]^j[q&255]^k[ne++],le=N[de>>>24]^D[ee>>>16&255]^F[q>>>8&255]^j[Z&255]^k[ne++],G=N[ee>>>24]^D[q>>>16&255]^F[Z>>>8&255]^j[de&255]^k[ne++];q=_e,Z=Pe,de=le,ee=G}var _e=(P[q>>>24]<<24|P[Z>>>16&255]<<16|P[de>>>8&255]<<8|P[ee&255])^k[ne++],Pe=(P[Z>>>24]<<24|P[de>>>16&255]<<16|P[ee>>>8&255]<<8|P[q&255])^k[ne++],le=(P[de>>>24]<<24|P[ee>>>16&255]<<16|P[q>>>8&255]<<8|P[Z&255])^k[ne++],G=(P[ee>>>24]<<24|P[q>>>16&255]<<16|P[Z>>>8&255]<<8|P[de&255])^k[ne++];E[R]=_e,E[R+1]=Pe,E[R+2]=le,E[R+3]=G},keySize:256/32});n.AES=s._createHelper(S)}(),r.AES})}(Pl)),Pl.exports}var Ul={exports:{}},Hh;function RC(){return Hh||(Hh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Di(),Pi(),ri(),Er())})(Ye,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,l=i.BlockCipher,u=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],d=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],p=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],v=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],y=u.DES=l.extend({_doReset:function(){for(var A=this._key,S=A.words,E=[],R=0;R<56;R++){var k=c[R]-1;E[R]=S[k>>>5]>>>31-k%32&1}for(var N=this._subKeys=[],D=0;D<16;D++){for(var F=N[D]=[],j=d[D],R=0;R<24;R++)F[R/6|0]|=E[(f[R]-1+j)%28]<<31-R%6,F[4+(R/6|0)]|=E[28+(f[R+24]-1+j)%28]<<31-R%6;F[0]=F[0]<<1|F[0]>>>31;for(var R=1;R<7;R++)F[R]=F[R]>>>(R-1)*4+3;F[7]=F[7]<<5|F[7]>>>27}for(var P=this._invSubKeys=[],R=0;R<16;R++)P[R]=N[15-R]},encryptBlock:function(A,S){this._doCryptBlock(A,S,this._subKeys)},decryptBlock:function(A,S){this._doCryptBlock(A,S,this._invSubKeys)},_doCryptBlock:function(A,S,E){this._lBlock=A[S],this._rBlock=A[S+1],x.call(this,4,252645135),x.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),x.call(this,1,1431655765);for(var R=0;R<16;R++){for(var k=E[R],N=this._lBlock,D=this._rBlock,F=0,j=0;j<8;j++)F|=p[j][((D^k[j])&v[j])>>>0];this._lBlock=D,this._rBlock=N^F}var P=this._lBlock;this._lBlock=this._rBlock,this._rBlock=P,x.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),A[S]=this._lBlock,A[S+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function x(A,S){var E=(this._lBlock>>>A^this._rBlock)&S;this._rBlock^=E,this._lBlock^=E<<A}function m(A,S){var E=(this._rBlock>>>A^this._lBlock)&S;this._lBlock^=E,this._rBlock^=E<<A}n.DES=l._createHelper(y);var C=u.TripleDES=l.extend({_doReset:function(){var A=this._key,S=A.words;if(S.length!==2&&S.length!==4&&S.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=S.slice(0,2),R=S.length<4?S.slice(0,2):S.slice(2,4),k=S.length<6?S.slice(0,2):S.slice(4,6);this._des1=y.createEncryptor(s.create(E)),this._des2=y.createEncryptor(s.create(R)),this._des3=y.createEncryptor(s.create(k))},encryptBlock:function(A,S){this._des1.encryptBlock(A,S),this._des2.decryptBlock(A,S),this._des3.encryptBlock(A,S)},decryptBlock:function(A,S){this._des3.decryptBlock(A,S),this._des2.encryptBlock(A,S),this._des1.decryptBlock(A,S)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=l._createHelper(C)}(),r.TripleDES})}(Ul)),Ul.exports}var Ol={exports:{}},qh;function NC(){return qh||(qh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Di(),Pi(),ri(),Er())})(Ye,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,l=n.algo,u=l.RC4=s.extend({_doReset:function(){for(var d=this._key,p=d.words,v=d.sigBytes,y=this._S=[],x=0;x<256;x++)y[x]=x;for(var x=0,m=0;x<256;x++){var C=x%v,A=p[C>>>2]>>>24-C%4*8&255;m=(m+y[x]+A)%256;var S=y[x];y[x]=y[m],y[m]=S}this._i=this._j=0},_doProcessBlock:function(d,p){d[p]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var d=this._S,p=this._i,v=this._j,y=0,x=0;x<4;x++){p=(p+1)%256,v=(v+d[p])%256;var m=d[p];d[p]=d[v],d[v]=m,y|=d[(d[p]+d[v])%256]<<24-x*8}return this._i=p,this._j=v,y}n.RC4=s._createHelper(u);var f=l.RC4Drop=u.extend({cfg:u.cfg.extend({drop:192}),_doReset:function(){u._doReset.call(this);for(var d=this.cfg.drop;d>0;d--)c.call(this)}});n.RC4Drop=s._createHelper(f)}(),r.RC4})}(Ol)),Ol.exports}var Fl={exports:{}},zh;function kC(){return zh||(zh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Di(),Pi(),ri(),Er())})(Ye,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,l=n.algo,u=[],c=[],f=[],d=l.Rabbit=s.extend({_doReset:function(){for(var v=this._key.words,y=this.cfg.iv,x=0;x<4;x++)v[x]=(v[x]<<8|v[x]>>>24)&16711935|(v[x]<<24|v[x]>>>8)&4278255360;var m=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],C=this._C=[v[2]<<16|v[2]>>>16,v[0]&4294901760|v[1]&65535,v[3]<<16|v[3]>>>16,v[1]&4294901760|v[2]&65535,v[0]<<16|v[0]>>>16,v[2]&4294901760|v[3]&65535,v[1]<<16|v[1]>>>16,v[3]&4294901760|v[0]&65535];this._b=0;for(var x=0;x<4;x++)p.call(this);for(var x=0;x<8;x++)C[x]^=m[x+4&7];if(y){var A=y.words,S=A[0],E=A[1],R=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,k=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,N=R>>>16|k&4294901760,D=k<<16|R&65535;C[0]^=R,C[1]^=N,C[2]^=k,C[3]^=D,C[4]^=R,C[5]^=N,C[6]^=k,C[7]^=D;for(var x=0;x<4;x++)p.call(this)}},_doProcessBlock:function(v,y){var x=this._X;p.call(this),u[0]=x[0]^x[5]>>>16^x[3]<<16,u[1]=x[2]^x[7]>>>16^x[5]<<16,u[2]=x[4]^x[1]>>>16^x[7]<<16,u[3]=x[6]^x[3]>>>16^x[1]<<16;for(var m=0;m<4;m++)u[m]=(u[m]<<8|u[m]>>>24)&16711935|(u[m]<<24|u[m]>>>8)&4278255360,v[y+m]^=u[m]},blockSize:128/32,ivSize:64/32});function p(){for(var v=this._X,y=this._C,x=0;x<8;x++)c[x]=y[x];y[0]=y[0]+1295307597+this._b|0,y[1]=y[1]+3545052371+(y[0]>>>0<c[0]>>>0?1:0)|0,y[2]=y[2]+886263092+(y[1]>>>0<c[1]>>>0?1:0)|0,y[3]=y[3]+1295307597+(y[2]>>>0<c[2]>>>0?1:0)|0,y[4]=y[4]+3545052371+(y[3]>>>0<c[3]>>>0?1:0)|0,y[5]=y[5]+886263092+(y[4]>>>0<c[4]>>>0?1:0)|0,y[6]=y[6]+1295307597+(y[5]>>>0<c[5]>>>0?1:0)|0,y[7]=y[7]+3545052371+(y[6]>>>0<c[6]>>>0?1:0)|0,this._b=y[7]>>>0<c[7]>>>0?1:0;for(var x=0;x<8;x++){var m=v[x]+y[x],C=m&65535,A=m>>>16,S=((C*C>>>17)+C*A>>>15)+A*A,E=((m&4294901760)*m|0)+((m&65535)*m|0);f[x]=S^E}v[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,v[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,v[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,v[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,v[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,v[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,v[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,v[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}n.Rabbit=s._createHelper(d)}(),r.Rabbit})}(Fl)),Fl.exports}var Vl={exports:{}},Gh;function LC(){return Gh||(Gh=1,function(e,t){(function(r,n,i){e.exports=n(gt(),Di(),Pi(),ri(),Er())})(Ye,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,l=n.algo,u=[],c=[],f=[],d=l.RabbitLegacy=s.extend({_doReset:function(){var v=this._key.words,y=this.cfg.iv,x=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],m=this._C=[v[2]<<16|v[2]>>>16,v[0]&4294901760|v[1]&65535,v[3]<<16|v[3]>>>16,v[1]&4294901760|v[2]&65535,v[0]<<16|v[0]>>>16,v[2]&4294901760|v[3]&65535,v[1]<<16|v[1]>>>16,v[3]&4294901760|v[0]&65535];this._b=0;for(var C=0;C<4;C++)p.call(this);for(var C=0;C<8;C++)m[C]^=x[C+4&7];if(y){var A=y.words,S=A[0],E=A[1],R=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,k=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,N=R>>>16|k&4294901760,D=k<<16|R&65535;m[0]^=R,m[1]^=N,m[2]^=k,m[3]^=D,m[4]^=R,m[5]^=N,m[6]^=k,m[7]^=D;for(var C=0;C<4;C++)p.call(this)}},_doProcessBlock:function(v,y){var x=this._X;p.call(this),u[0]=x[0]^x[5]>>>16^x[3]<<16,u[1]=x[2]^x[7]>>>16^x[5]<<16,u[2]=x[4]^x[1]>>>16^x[7]<<16,u[3]=x[6]^x[3]>>>16^x[1]<<16;for(var m=0;m<4;m++)u[m]=(u[m]<<8|u[m]>>>24)&16711935|(u[m]<<24|u[m]>>>8)&4278255360,v[y+m]^=u[m]},blockSize:128/32,ivSize:64/32});function p(){for(var v=this._X,y=this._C,x=0;x<8;x++)c[x]=y[x];y[0]=y[0]+1295307597+this._b|0,y[1]=y[1]+3545052371+(y[0]>>>0<c[0]>>>0?1:0)|0,y[2]=y[2]+886263092+(y[1]>>>0<c[1]>>>0?1:0)|0,y[3]=y[3]+1295307597+(y[2]>>>0<c[2]>>>0?1:0)|0,y[4]=y[4]+3545052371+(y[3]>>>0<c[3]>>>0?1:0)|0,y[5]=y[5]+886263092+(y[4]>>>0<c[4]>>>0?1:0)|0,y[6]=y[6]+1295307597+(y[5]>>>0<c[5]>>>0?1:0)|0,y[7]=y[7]+3545052371+(y[6]>>>0<c[6]>>>0?1:0)|0,this._b=y[7]>>>0<c[7]>>>0?1:0;for(var x=0;x<8;x++){var m=v[x]+y[x],C=m&65535,A=m>>>16,S=((C*C>>>17)+C*A>>>15)+A*A,E=((m&4294901760)*m|0)+((m&65535)*m|0);f[x]=S^E}v[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,v[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,v[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,v[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,v[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,v[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,v[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,v[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}n.RabbitLegacy=s._createHelper(d)}(),r.RabbitLegacy})}(Vl)),Vl.exports}(function(e,t){(function(r,n,i){e.exports=n(gt(),ws(),fC(),cC(),Di(),hC(),Pi(),xu(),Fd(),dC(),Vd(),pC(),vC(),gC(),mu(),yC(),ri(),Er(),xC(),mC(),CC(),_C(),EC(),SC(),bC(),TC(),AC(),BC(),IC(),wC(),RC(),NC(),kC(),LC())})(Ye,function(r){return r})})(Od);var DC=Od.exports;const Md=Ud(DC);class f0{constructor(){}static async isEmptyKey(){return(await(await fetch("/api/emptyKey",{method:"GET",credentials:"same-origin"})).json()).emptyKey}static async validateSession(){return console.log("validateSession"),(await(await fetch("/api/validateSession",{method:"GET",credentials:"same-origin"})).json()).valid}static async login(t){let r=await f0.hashPassword(t);return(await(await fetch("/api/login",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:r})})).json()).success}static async hashPassword(t){t=t.trim()+"@";let r="";for(let n=0;n<t.length;n++)r+=Math.round(t.charCodeAt(n)/2).toString(16);return Md.SHA512(t+r).toString()}}class Qt extends Error{constructor(){super("Invalid session"),this.name="InvalidSession"}}const Ya=class Ya{constructor(){Xr(this,"_severOptionHash","");Xr(this,"_serverOption",{key:"",adminPort:0,adminTls:!1,port:0,tls:!1});Xr(this,"_tunnelingOptions",[])}static get instance(){return Ya._instance||(Ya._instance=new Ya),Ya._instance}getCachedServerOption(){return this._serverOption}async getServerOption(){let t=await fetch("/api/serverOption",{method:"GET",credentials:"same-origin"}),r=await t.json();if(!r||t.status==401)throw new Qt;return this._serverOption=r.serverOption,this._serverOption}async getTunnelingOption(){let t=await fetch("/api/tunnelingOption",{method:"GET",credentials:"same-origin"}),r=await t.json();if(!r||t.status==401)throw new Qt;return this._tunnelingOptions=r.tunnelingOptions,this._tunnelingOptions}async checkChangeServerOption(t,r){let n=this._severOptionHash;const i=12e4;let s=new Date().getTime();return new Promise(async(l,u)=>{let c=setInterval(async()=>{let f="";try{f=await this.getServerOptionHash(r.adminTls?"https":"http",r.adminPort)}catch(d){s+i<new Date().getTime()&&(clearInterval(c),u(d));try{f=await this.getServerOptionHash(t.adminTls?"https":"http",t.adminPort)}catch{f="",s+i<new Date().getTime()&&(clearInterval(c),u(d))}}f.length>0&&(clearInterval(c),l(f!=n))},1e3)})}async getServerOptionHash(t,r){let n=window.location.hostname,i=window.location.port;t||(t=window.location.protocol.replace(":","")),r&&(i=r.toString());let s=await fetch(`${t}://${n}:${i}/api/serverOptionHash`,{method:"GET",headers:{Connection:"close"}}),l=await s.json();if(!l||s.status==401)throw new Qt;let u=l.hash;if(!u)throw new Error("hash not found");return this._severOptionHash=u,u}async updateServerOption(t){let r=await fetch("/api/serverOption",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!n||r.status==401)throw new Qt;return n}async updateTunnelingOption(t){let r=await fetch("/api/tunnelingOption",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!n||r.status==401)throw new Qt;return n}async removeTunnelingOption(t){let r=await fetch("/api/tunnelingOption",{method:"DELETE",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!n||r.status==401)throw new Qt;return n}async loadTunnelingStatus(){let t=await fetch("/api/externalServerStatuses",{method:"GET",credentials:"same-origin"}),r=await t.json();if(!r||t.status==401)throw new Qt;return{serverTime:r.serverTime,statuses:r.statuses}}async activeExternalPortServer(t,r,n){n=n??0;let i=await fetch(`/api/tunneling/active/${r}`,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:t,timeout:n})}),s=await i.json();if(!s||i.status==401)throw new Qt;return s}static checkValidTunnelingOption(t){return!(t.tls==null||t.forwardPort==null||t.forwardPort<=0||t.forwardPort>65535||t.protocol==null||t.protocol!="tcp"&&t.protocol!="http"&&t.protocol!="https"||t.destinationAddress==null||t.destinationAddress.trim().length==0||t.destinationPort==null||t.destinationPort<=0||t.destinationPort>65535||t.protocol!="http"&&t.protocol!="https"&&t.protocol!="tcp"||(t.protocol=="http"||t.protocol=="https")&&(t.httpOption==null||t.httpOption.rewriteHostInTextBody==null||t.httpOption.customRequestHeaders==null||t.httpOption.customResponseHeaders==null||t.httpOption.bodyRewriteRules==null||t.httpOption.replaceAccessControlAllowOrigin==null))}};Xr(Ya,"_instance");let Nr=Ya;const Xa=class Xa{constructor(){}static get instance(){return Xa._instance||(Xa._instance=new Xa),Xa._instance}async updateAdminCert(t){let r=await fetch("/api/adminCert",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({certInfo:t})});if(r.status==401)throw new Qt;return await r.json()}async loadAdminCert(){let t=await fetch("/api/adminCert",{method:"GET",credentials:"same-origin"}),r=await t.json();if(t.status==401)throw new Qt;return r.certInfo}async loadExternalServerCert(t){let r=await fetch(`/api/externalCert/${t}`,{method:"GET",credentials:"same-origin"}),n=await r.json();if(r.status==401)throw new Qt;return n.certInfo}async updateExternalServerCert(t,r){let n=await fetch(`/api/externalCert/${t}`,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({certInfo:r})});if(n.status==401)throw new Qt;return await n.json()}async deleteExternalServerCert(t){let r=await fetch(`/api/externalCert/${t}`,{method:"DELETE",credentials:"same-origin"});if(r.status==401)throw new Qt;return await r.json()}};Xr(Xa,"_instance");let Ea=Xa;var it={options:{usePureJavaScript:!1}},Cu={},PC=Cu,Wh={};Cu.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=UC(e,t);else{var i=0,s=t.length,l=t.charAt(0),u=[0];for(i=0;i<e.length;++i){for(var c=0,f=e[i];c<u.length;++c)f+=u[c]<<8,u[c]=f%s,f=f/s|0;for(;f>0;)u.push(f%s),f=f/s|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=l;for(i=u.length-1;i>=0;--i)n+=t[u[i]]}if(r){var d=new RegExp(".{1,"+r+"}","g");n=n.match(d).join(`\r
`)}return n};Cu.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=Wh[t];if(!r){r=Wh[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,s=t.charAt(0),l=[0],n=0;n<e.length;n++){var u=r[e.charCodeAt(n)];if(u===void 0)return;for(var c=0,f=u;c<l.length;++c)f+=l[c]*i,l[c]=f&255,f>>=8;for(;f>0;)l.push(f&255),f>>=8}for(var d=0;e[d]===s&&d<e.length-1;++d)l.push(0);return typeof Buffer<"u"?Buffer.from(l.reverse()):new Uint8Array(l.reverse())};function UC(e,t){var r=0,n=t.length,i=t.charAt(0),s=[0];for(r=0;r<e.length();++r){for(var l=0,u=e.at(r);l<s.length;++l)u+=s[l]<<8,s[l]=u%n,u=u/n|0;for(;u>0;)s.push(u%n),u=u/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=s.length-1;r>=0;--r)c+=t[s[r]];return c}var Qh=it,Yh=PC,z=Qh.util=Qh.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){z.nextTick=process.nextTick,typeof setImmediate=="function"?z.setImmediate=setImmediate:z.setImmediate=z.nextTick;return}if(typeof setImmediate=="function"){z.setImmediate=function(){return setImmediate.apply(void 0,arguments)},z.nextTick=function(u){return setImmediate(u)};return}if(z.setImmediate=function(u){setTimeout(u,0)},typeof window<"u"&&typeof window.postMessage=="function"){let u=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var f=t.slice();t.length=0,f.forEach(function(d){d()})}};var l=u,e="forge.setImmediate",t=[];z.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",u,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(f){f()})}).observe(i,{attributes:!0});var s=z.setImmediate;z.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),s(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}z.nextTick=z.setImmediate})();z.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;z.globalScope=function(){return z.isNodejs?Ye:typeof self>"u"?window:self}();z.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};z.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};z.isArrayBufferView=function(e){return e&&z.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function h0(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}z.ByteBuffer=_u;function _u(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(z.isArrayBuffer(e)||z.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof _u||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}z.ByteStringBuffer=_u;var OC=4096;z.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>OC&&(this.data.substr(0,1),this._constructedStringLength=0)};z.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};z.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};z.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};z.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};z.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};z.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(z.encodeUtf8(e))};z.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};z.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};z.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};z.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};z.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};z.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};z.ByteStringBuffer.prototype.putInt=function(e,t){h0(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};z.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};z.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};z.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};z.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};z.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};z.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};z.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};z.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};z.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};z.ByteStringBuffer.prototype.getInt=function(e){h0(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};z.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};z.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};z.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};z.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};z.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};z.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};z.ByteStringBuffer.prototype.copy=function(){var e=z.createBuffer(this.data);return e.read=this.read,e};z.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};z.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};z.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};z.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};z.ByteStringBuffer.prototype.toString=function(){return z.decodeUtf8(this.bytes())};function FC(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=z.isArrayBuffer(e),n=z.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}z.DataBuffer=FC;z.DataBuffer.prototype.length=function(){return this.write-this.read};z.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};z.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};z.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};z.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};z.DataBuffer.prototype.putBytes=function(e,t){if(z.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(z.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof z.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&z.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof z.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var s;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=z.binary.hex.decode(e,s,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=z.binary.base64.decode(e,s,this.write),this;if(t==="utf8"&&(e=z.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=z.binary.raw.decode(s),this;if(t==="utf16")return this.accommodate(e.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=z.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};z.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};z.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};z.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};z.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};z.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};z.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};z.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};z.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};z.DataBuffer.prototype.putInt=function(e,t){h0(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};z.DataBuffer.prototype.putSignedInt=function(e,t){return h0(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};z.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};z.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};z.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};z.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};z.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};z.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};z.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};z.DataBuffer.prototype.getInt=function(e){h0(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};z.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};z.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};z.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};z.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};z.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};z.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};z.DataBuffer.prototype.copy=function(){return new z.DataBuffer(this)};z.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};z.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};z.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};z.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};z.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return z.binary.raw.encode(t);if(e==="hex")return z.binary.hex.encode(t);if(e==="base64")return z.binary.base64.encode(t);if(e==="utf8")return z.text.utf8.decode(t);if(e==="utf16")return z.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};z.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=z.encodeUtf8(e)),new z.ByteBuffer(e)};z.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};z.xorBytes=function(e,t,r){for(var n="",i="",s="",l=0,u=0;r>0;--r,++l)i=e.charCodeAt(l)^t.charCodeAt(l),u>=10&&(n+=s,s="",u=0),s+=String.fromCharCode(i),++u;return n+=s,n};z.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};z.bytesToHex=function(e){return z.createBuffer(e).toHex()};z.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var Sa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ba=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],Kd="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";z.encode64=function(e,t){for(var r="",n="",i,s,l,u=0;u<e.length;)i=e.charCodeAt(u++),s=e.charCodeAt(u++),l=e.charCodeAt(u++),r+=Sa.charAt(i>>2),r+=Sa.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=Sa.charAt((s&15)<<2|l>>6),r+=isNaN(l)?"=":Sa.charAt(l&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};z.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,s,l=0;l<e.length;)r=ba[e.charCodeAt(l++)-43],n=ba[e.charCodeAt(l++)-43],i=ba[e.charCodeAt(l++)-43],s=ba[e.charCodeAt(l++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(t+=String.fromCharCode((i&3)<<6|s)));return t};z.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};z.decodeUtf8=function(e){return decodeURIComponent(escape(e))};z.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:Yh.encode,decode:Yh.decode}};z.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};z.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};z.binary.hex.encode=z.bytesToHex;z.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,s=r;for(e.length&1&&(i=1,n[s++]=parseInt(e[0],16));i<e.length;i+=2)n[s++]=parseInt(e.substr(i,2),16);return t?s-r:n};z.binary.base64.encode=function(e,t){for(var r="",n="",i,s,l,u=0;u<e.byteLength;)i=e[u++],s=e[u++],l=e[u++],r+=Sa.charAt(i>>2),r+=Sa.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=Sa.charAt((s&15)<<2|l>>6),r+=isNaN(l)?"=":Sa.charAt(l&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};z.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,l,u,c=0,f=r;c<e.length;)i=ba[e.charCodeAt(c++)-43],s=ba[e.charCodeAt(c++)-43],l=ba[e.charCodeAt(c++)-43],u=ba[e.charCodeAt(c++)-43],n[f++]=i<<2|s>>4,l!==64&&(n[f++]=(s&15)<<4|l>>2,u!==64&&(n[f++]=(l&3)<<6|u));return t?f-r:n.subarray(0,f)};z.binary.base58.encode=function(e,t){return z.binary.baseN.encode(e,Kd,t)};z.binary.base58.decode=function(e,t){return z.binary.baseN.decode(e,Kd,t)};z.text={utf8:{},utf16:{}};z.text.utf8.encode=function(e,t,r){e=z.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};z.text.utf8.decode=function(e){return z.decodeUtf8(String.fromCharCode.apply(null,e))};z.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,l=r,u=0;u<e.length;++u)i[l++]=e.charCodeAt(u),s+=2;return t?s-r:n};z.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};z.deflate=function(e,t,r){if(t=z.decode64(e.deflate(z.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};z.inflate=function(e,t,r){var n=e.inflate(z.encode64(t)).rval;return n===null?null:z.decode64(n)};var Eu=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=z.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},Su=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(z.decode64(r))),r},VC=function(e,t,r,n){var i=Su(e,t);i===null&&(i={}),i[r]=n,Eu(e,t,i)},MC=function(e,t,r){var n=Su(e,t);return n!==null&&(n=r in n?n[r]:null),n},KC=function(e,t,r){var n=Su(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),Eu(e,t,n)}},HC=function(e,t){Eu(e,t,null)},Rs=function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,s=!1,l=null;for(var u in r){i=r[u];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),s=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),s=!0)}catch(c){l=c}if(s)break}if(!s)throw l;return n};z.setItem=function(e,t,r,n,i){Rs(VC,arguments,i)};z.getItem=function(e,t,r,n){return Rs(MC,arguments,n)};z.removeItem=function(e,t,r,n){Rs(KC,arguments,n)};z.clearItems=function(e,t,r){Rs(HC,arguments,r)};z.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};z.format=function(e){for(var t=/%./g,r,n,i=0,s=[],l=0;r=t.exec(e);){n=e.substring(l,t.lastIndex-2),n.length>0&&s.push(n),l=t.lastIndex;var u=r[0][1];switch(u){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+u+"?>")}}return s.push(e.substring(l)),s.join("")};z.formatNumber=function(e,t,r,n){var i=e,s=isNaN(t=Math.abs(t))?2:t,l=r===void 0?",":r,u=n===void 0?".":n,c=i<0?"-":"",f=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",d=f.length>3?f.length%3:0;return c+(d?f.substr(0,d)+u:"")+f.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+u)+(s?l+Math.abs(i-f).toFixed(s).slice(2):"")};z.formatSize=function(e){return e>=1073741824?e=z.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=z.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=z.formatNumber(e/1024,0)+" KiB":e=z.formatNumber(e,0)+" bytes",e};z.bytesFromIP=function(e){return e.indexOf(".")!==-1?z.bytesFromIPv4(e):e.indexOf(":")!==-1?z.bytesFromIPv6(e):null};z.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=z.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};z.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(l){return l.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=z.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=z.hexToBytes(e[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};z.bytesToIP=function(e){return e.length===4?z.bytesToIPv4(e):e.length===16?z.bytesToIPv6(e):null};z.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};z.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var s=z.bytesToHex(e[i]+e[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var l=r[r.length-1],u=t.length;!l||u!==l.end+1?r.push({start:u,end:u}):(l.end=u,l.end-l.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};z.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in z&&!e.update)return t(null,z.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return z.cores=navigator.hardwareConcurrency,t(null,z.cores);if(typeof Worker>"u")return z.cores=1,t(null,z.cores);if(typeof Blob>"u")return z.cores=2,t(null,z.cores);var r=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(l){var u=Date.now(),c=u+4;self.postMessage({st:u,et:c})})}).toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(l,u,c){if(u===0){var f=Math.floor(l.reduce(function(d,p){return d+p},0)/l.length);return z.cores=Math.max(1,f),URL.revokeObjectURL(r),t(null,z.cores)}i(c,function(d,p){l.push(s(c,p)),n(l,u-1,c)})}function i(l,u){for(var c=[],f=[],d=0;d<l;++d){var p=new Worker(r);p.addEventListener("message",function(v){if(f.push(v.data),f.length===l){for(var y=0;y<l;++y)c[y].terminate();u(null,f)}}),c.push(p)}for(var d=0;d<l;++d)c[d].postMessage(d)}function s(l,u){for(var c=[],f=0;f<l;++f)for(var d=u[f],p=c[f]=[],v=0;v<l;++v)if(f!==v){var y=u[v];(d.st>y.st&&d.st<y.et||y.st>d.st&&y.st<d.et)&&p.push(v)}return c.reduce(function(x,m){return Math.max(x,m.length)},0)}};var dr=it;dr.cipher=dr.cipher||{};dr.cipher.algorithms=dr.cipher.algorithms||{};dr.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=dr.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new dr.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};dr.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=dr.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new dr.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};dr.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),dr.cipher.algorithms[e]=t};dr.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in dr.cipher.algorithms?dr.cipher.algorithms[e]:null};var bu=dr.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};bu.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=dr.util.createBuffer(),this.output=e.output||dr.util.createBuffer(),this.mode.start(t)};bu.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};bu.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))};var fr=it;fr.cipher=fr.cipher||{};var ft=fr.cipher.modes=fr.cipher.modes||{};ft.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ft.ecb.prototype.start=function(e){};ft.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};ft.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};ft.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};ft.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};ft.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ft.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=Ns(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};ft.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};ft.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};ft.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};ft.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};ft.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=fr.util.createBuffer(),this._partialBytes=0};ft.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Ns(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ft.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ft.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ft.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=fr.util.createBuffer(),this._partialBytes=0};ft.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Ns(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ft.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ft.ofb.prototype.decrypt=ft.ofb.prototype.encrypt;ft.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=fr.util.createBuffer(),this._partialBytes=0};ft.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Ns(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ft.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}ks(this._inBlock)};ft.ctr.prototype.decrypt=ft.ctr.prototype.encrypt;ft.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=fr.util.createBuffer(),this._partialBytes=0,this._R=3774873600};ft.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=fr.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=fr.util.createBuffer(e.additionalData):r=fr.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=fr.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Xl(n*8)))}this._inBlock=this._j0.slice(0),ks(this._inBlock),this._partialBytes=0,r=fr.util.createBuffer(r),this._aDataLength=Xl(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};ft.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var l=n%this.blockSize;this._cipherLength+=l,this._partialOutput.truncate(this.blockSize-l)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),ks(this._inBlock)};ft.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),ks(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};ft.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=fr.util.createBuffer();var n=this._aDataLength.concat(Xl(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};ft.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var s=e[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};ft.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};ft.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,s=this._m[r][i];t[0]^=s[0],t[1]^=s[1],t[2]^=s[2],t[3]^=s[3]}return t};ft.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};ft.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),l=0;l<i;++l){var u=[0,0,0,0],c=l/n|0,f=(n-1-l%n)*t;u[c]=1<<t-1<<f,s[l]=this.generateSubHashTable(this.multiply(u,e),t)}return s};ft.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var l=1;l<s;++l){var u=i[s],c=i[l];i[s+l]=[u[0]^c[0],u[1]^c[1],u[2]^c[2],u[3]^c[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var f=i[s^n];i[s]=[e[0]^f[0],e[1]^f[1],e[2]^f[2],e[3]^f[3]]}return i};function Ns(e,t){if(typeof e=="string"&&(e=fr.util.createBuffer(e)),fr.util.isArray(e)&&e.length>4){var r=e;e=fr.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!fr.util.isArray(e)){for(var i=[],s=t/4,n=0;n<s;++n)i.push(e.getInt32());e=i}return e}function ks(e){e[e.length-1]=e[e.length-1]+1&4294967295}function Xl(e){return[e/4294967296|0,e&4294967295]}var Pt=it;Pt.aes=Pt.aes||{};Pt.aes.startEncrypting=function(e,t,r,n){var i=Ls({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};Pt.aes.createEncryptionCipher=function(e,t){return Ls({key:e,output:null,decrypt:!1,mode:t})};Pt.aes.startDecrypting=function(e,t,r,n){var i=Ls({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};Pt.aes.createDecryptionCipher=function(e,t){return Ls({key:e,output:null,decrypt:!0,mode:t})};Pt.aes.Algorithm=function(e,t){Tu||qd();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,i){return Jl(r._w,n,i,!1)},decrypt:function(n,i){return Jl(r._w,n,i,!0)}}}),r._init=!1};Pt.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=Pt.util.createBuffer(t);else if(Pt.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=Pt.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!Pt.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!Pt.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,l=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=zd(t,e.decrypt&&!l),this._init=!0}};Pt.aes._expandKey=function(e,t){return Tu||qd(),zd(e,t)};Pt.aes._updateBlock=Jl;Ui("AES-ECB",Pt.cipher.modes.ecb);Ui("AES-CBC",Pt.cipher.modes.cbc);Ui("AES-CFB",Pt.cipher.modes.cfb);Ui("AES-OFB",Pt.cipher.modes.ofb);Ui("AES-CTR",Pt.cipher.modes.ctr);Ui("AES-GCM",Pt.cipher.modes.gcm);function Ui(e,t){var r=function(){return new Pt.aes.Algorithm(e,t)};Pt.cipher.registerAlgorithm(e,r)}var Tu=!1,Si=4,Ir,Zl,Hd,Ja,An;function qd(){Tu=!0,Hd=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;Ir=new Array(256),Zl=new Array(256),Ja=new Array(4),An=new Array(4);for(var t=0;t<4;++t)Ja[t]=new Array(256),An[t]=new Array(256);for(var r=0,n=0,i,s,l,u,c,f,d,t=0;t<256;++t){u=n^n<<1^n<<2^n<<3^n<<4,u=u>>8^u&255^99,Ir[r]=u,Zl[u]=r,c=e[u],i=e[r],s=e[i],l=e[s],f=c<<24^u<<16^u<<8^(u^c),d=(i^s^l)<<24^(r^l)<<16^(r^s^l)<<8^(r^i^l);for(var p=0;p<4;++p)Ja[p][r]=f,An[p][u]=d,f=f<<24|f>>>8,d=d<<24|d>>>8;r===0?r=n=1:(r=i^e[e[e[i^l]]],n^=e[e[n]])}}function zd(e,t){for(var r=e.slice(0),n,i=1,s=r.length,l=s+6+1,u=Si*l,c=s;c<u;++c)n=r[c-1],c%s===0?(n=Ir[n>>>16&255]<<24^Ir[n>>>8&255]<<16^Ir[n&255]<<8^Ir[n>>>24]^Hd[i]<<24,i++):s>6&&c%s===4&&(n=Ir[n>>>24]<<24^Ir[n>>>16&255]<<16^Ir[n>>>8&255]<<8^Ir[n&255]),r[c]=r[c-s]^n;if(t){var f,d=An[0],p=An[1],v=An[2],y=An[3],x=r.slice(0);u=r.length;for(var c=0,m=u-Si;c<u;c+=Si,m-=Si)if(c===0||c===u-Si)x[c]=r[m],x[c+1]=r[m+3],x[c+2]=r[m+2],x[c+3]=r[m+1];else for(var C=0;C<Si;++C)f=r[m+C],x[c+(3&-C)]=d[Ir[f>>>24]]^p[Ir[f>>>16&255]]^v[Ir[f>>>8&255]]^y[Ir[f&255]];r=x}return r}function Jl(e,t,r,n){var i=e.length/4-1,s,l,u,c,f;n?(s=An[0],l=An[1],u=An[2],c=An[3],f=Zl):(s=Ja[0],l=Ja[1],u=Ja[2],c=Ja[3],f=Ir);var d,p,v,y,x,m,C;d=t[0]^e[0],p=t[n?3:1]^e[1],v=t[2]^e[2],y=t[n?1:3]^e[3];for(var A=3,S=1;S<i;++S)x=s[d>>>24]^l[p>>>16&255]^u[v>>>8&255]^c[y&255]^e[++A],m=s[p>>>24]^l[v>>>16&255]^u[y>>>8&255]^c[d&255]^e[++A],C=s[v>>>24]^l[y>>>16&255]^u[d>>>8&255]^c[p&255]^e[++A],y=s[y>>>24]^l[d>>>16&255]^u[p>>>8&255]^c[v&255]^e[++A],d=x,p=m,v=C;r[0]=f[d>>>24]<<24^f[p>>>16&255]<<16^f[v>>>8&255]<<8^f[y&255]^e[++A],r[n?3:1]=f[p>>>24]<<24^f[v>>>16&255]<<16^f[y>>>8&255]<<8^f[d&255]^e[++A],r[2]=f[v>>>24]<<24^f[y>>>16&255]<<16^f[d>>>8&255]<<8^f[p&255]^e[++A],r[n?1:3]=f[y>>>24]<<24^f[d>>>16&255]<<16^f[p>>>8&255]<<8^f[v&255]^e[++A]}function Ls(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=Pt.cipher.createDecipher(r,e.key):n=Pt.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,l){var u=null;l instanceof Pt.util.ByteBuffer&&(u=l,l={}),l=l||{},l.output=u,l.iv=s,i.call(n,l)},n}var s0=it;s0.pki=s0.pki||{};var jl=s0.pki.oids=s0.oids=s0.oids||{};function xe(e,t){jl[e]=t,jl[t]=e}function Tt(e,t){jl[e]=t}xe("1.2.840.113549.1.1.1","rsaEncryption");xe("1.2.840.113549.1.1.4","md5WithRSAEncryption");xe("1.2.840.113549.1.1.5","sha1WithRSAEncryption");xe("1.2.840.113549.1.1.7","RSAES-OAEP");xe("1.2.840.113549.1.1.8","mgf1");xe("1.2.840.113549.1.1.9","pSpecified");xe("1.2.840.113549.1.1.10","RSASSA-PSS");xe("1.2.840.113549.1.1.11","sha256WithRSAEncryption");xe("1.2.840.113549.1.1.12","sha384WithRSAEncryption");xe("1.2.840.113549.1.1.13","sha512WithRSAEncryption");xe("1.3.101.112","EdDSA25519");xe("1.2.840.10040.4.3","dsa-with-sha1");xe("1.3.14.3.2.7","desCBC");xe("1.3.14.3.2.26","sha1");xe("1.3.14.3.2.29","sha1WithRSASignature");xe("2.16.840.1.101.3.4.2.1","sha256");xe("2.16.840.1.101.3.4.2.2","sha384");xe("2.16.840.1.101.3.4.2.3","sha512");xe("2.16.840.1.101.3.4.2.4","sha224");xe("2.16.840.1.101.3.4.2.5","sha512-224");xe("2.16.840.1.101.3.4.2.6","sha512-256");xe("1.2.840.113549.2.2","md2");xe("1.2.840.113549.2.5","md5");xe("1.2.840.113549.1.7.1","data");xe("1.2.840.113549.1.7.2","signedData");xe("1.2.840.113549.1.7.3","envelopedData");xe("1.2.840.113549.1.7.4","signedAndEnvelopedData");xe("1.2.840.113549.1.7.5","digestedData");xe("1.2.840.113549.1.7.6","encryptedData");xe("1.2.840.113549.1.9.1","emailAddress");xe("1.2.840.113549.1.9.2","unstructuredName");xe("1.2.840.113549.1.9.3","contentType");xe("1.2.840.113549.1.9.4","messageDigest");xe("1.2.840.113549.1.9.5","signingTime");xe("1.2.840.113549.1.9.6","counterSignature");xe("1.2.840.113549.1.9.7","challengePassword");xe("1.2.840.113549.1.9.8","unstructuredAddress");xe("1.2.840.113549.1.9.14","extensionRequest");xe("1.2.840.113549.1.9.20","friendlyName");xe("1.2.840.113549.1.9.21","localKeyId");xe("1.2.840.113549.1.9.22.1","x509Certificate");xe("1.2.840.113549.1.12.10.1.1","keyBag");xe("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");xe("1.2.840.113549.1.12.10.1.3","certBag");xe("1.2.840.113549.1.12.10.1.4","crlBag");xe("1.2.840.113549.1.12.10.1.5","secretBag");xe("1.2.840.113549.1.12.10.1.6","safeContentsBag");xe("1.2.840.113549.1.5.13","pkcs5PBES2");xe("1.2.840.113549.1.5.12","pkcs5PBKDF2");xe("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");xe("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");xe("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");xe("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");xe("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");xe("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");xe("1.2.840.113549.2.7","hmacWithSHA1");xe("1.2.840.113549.2.8","hmacWithSHA224");xe("1.2.840.113549.2.9","hmacWithSHA256");xe("1.2.840.113549.2.10","hmacWithSHA384");xe("1.2.840.113549.2.11","hmacWithSHA512");xe("1.2.840.113549.3.7","des-EDE3-CBC");xe("2.16.840.1.101.3.4.1.2","aes128-CBC");xe("2.16.840.1.101.3.4.1.22","aes192-CBC");xe("2.16.840.1.101.3.4.1.42","aes256-CBC");xe("2.5.4.3","commonName");xe("2.5.4.4","surname");xe("2.5.4.5","serialNumber");xe("2.5.4.6","countryName");xe("2.5.4.7","localityName");xe("2.5.4.8","stateOrProvinceName");xe("2.5.4.9","streetAddress");xe("2.5.4.10","organizationName");xe("2.5.4.11","organizationalUnitName");xe("2.5.4.12","title");xe("2.5.4.13","description");xe("2.5.4.15","businessCategory");xe("2.5.4.17","postalCode");xe("2.5.4.42","givenName");xe("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");xe("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");xe("2.16.840.1.113730.1.1","nsCertType");xe("2.16.840.1.113730.1.13","nsComment");Tt("2.5.29.1","authorityKeyIdentifier");Tt("2.5.29.2","keyAttributes");Tt("2.5.29.3","certificatePolicies");Tt("2.5.29.4","keyUsageRestriction");Tt("2.5.29.5","policyMapping");Tt("2.5.29.6","subtreesConstraint");Tt("2.5.29.7","subjectAltName");Tt("2.5.29.8","issuerAltName");Tt("2.5.29.9","subjectDirectoryAttributes");Tt("2.5.29.10","basicConstraints");Tt("2.5.29.11","nameConstraints");Tt("2.5.29.12","policyConstraints");Tt("2.5.29.13","basicConstraints");xe("2.5.29.14","subjectKeyIdentifier");xe("2.5.29.15","keyUsage");Tt("2.5.29.16","privateKeyUsagePeriod");xe("2.5.29.17","subjectAltName");xe("2.5.29.18","issuerAltName");xe("2.5.29.19","basicConstraints");Tt("2.5.29.20","cRLNumber");Tt("2.5.29.21","cRLReason");Tt("2.5.29.22","expirationDate");Tt("2.5.29.23","instructionCode");Tt("2.5.29.24","invalidityDate");Tt("2.5.29.25","cRLDistributionPoints");Tt("2.5.29.26","issuingDistributionPoint");Tt("2.5.29.27","deltaCRLIndicator");Tt("2.5.29.28","issuingDistributionPoint");Tt("2.5.29.29","certificateIssuer");Tt("2.5.29.30","nameConstraints");xe("2.5.29.31","cRLDistributionPoints");xe("2.5.29.32","certificatePolicies");Tt("2.5.29.33","policyMappings");Tt("2.5.29.34","policyConstraints");xe("2.5.29.35","authorityKeyIdentifier");Tt("2.5.29.36","policyConstraints");xe("2.5.29.37","extKeyUsage");Tt("2.5.29.46","freshestCRL");Tt("2.5.29.54","inhibitAnyPolicy");xe("1.3.6.1.4.1.11129.2.4.2","timestampList");xe("1.3.6.1.5.5.7.1.1","authorityInfoAccess");xe("1.3.6.1.5.5.7.3.1","serverAuth");xe("1.3.6.1.5.5.7.3.2","clientAuth");xe("1.3.6.1.5.5.7.3.3","codeSigning");xe("1.3.6.1.5.5.7.3.4","emailProtection");xe("1.3.6.1.5.5.7.3.8","timeStamping");var Vt=it,be=Vt.asn1=Vt.asn1||{};be.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};be.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};be.create=function(e,t,r,n,i){if(Vt.util.isArray(n)){for(var s=[],l=0;l<n.length;++l)n[l]!==void 0&&s.push(n[l]);n=s}var u={tagClass:e,type:t,constructed:r,composed:r||Vt.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(u.bitStringContents=i.bitStringContents,u.original=be.copy(u)),u};be.copy=function(e,t){var r;if(Vt.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(be.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:be.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};be.equals=function(e,t,r){if(Vt.util.isArray(e)){if(!Vt.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!be.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&be.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};be.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function n0(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}var qC=function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;n0(e,t,s),n=e.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};be.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=Vt.util.createBuffer(e));var r=e.length(),n=cs(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function cs(e,t,r,n){var i;n0(e,t,2);var s=e.getByte();t--;var l=s&192,u=s&31;i=e.length();var c=qC(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var f=new Error("Too few bytes to read ASN.1 value.");throw f.available=e.length(),f.remaining=t,f.requested=c,f}c=t}var d,p,v=(s&32)===32;if(v)if(d=[],c===void 0)for(;;){if(n0(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}i=e.length(),d.push(cs(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),d.push(cs(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(d===void 0&&l===be.Class.UNIVERSAL&&u===be.Type.BITSTRING&&(p=e.bytes(c)),d===void 0&&n.decodeBitStrings&&l===be.Class.UNIVERSAL&&u===be.Type.BITSTRING&&c>1){var y=e.read,x=t,m=0;if(u===be.Type.BITSTRING&&(n0(e,t,1),m=e.getByte(),t--),m===0)try{i=e.length();var C={strict:!0,decodeBitStrings:!0},A=cs(e,t,r+1,C),S=i-e.length();t-=S,u==be.Type.BITSTRING&&S++;var E=A.tagClass;S===c&&(E===be.Class.UNIVERSAL||E===be.Class.CONTEXT_SPECIFIC)&&(d=[A])}catch{}d===void 0&&(e.read=y,t=x)}if(d===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(u===be.Type.BMPSTRING)for(d="";c>0;c-=2)n0(e,t,2),d+=String.fromCharCode(e.getInt16()),t-=2;else d=e.getBytes(c),t-=c}var R=p===void 0?null:{bitStringContents:p};return be.create(l,u,v,d,R)}be.toDer=function(e){var t=Vt.util.createBuffer(),r=e.tagClass|e.type,n=Vt.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=be.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var s=0;s<e.value.length;++s)e.value[s]!==void 0&&n.putBuffer(be.toDer(e.value[s]))}else if(e.type===be.Type.BMPSTRING)for(var s=0;s<e.value.length;++s)n.putInt16(e.value.charCodeAt(s));else e.type===be.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var l=n.length(),u="";do u+=String.fromCharCode(l&255),l=l>>>8;while(l>0);t.putByte(u.length|128);for(var s=u.length-1;s>=0;--s)t.putByte(u.charCodeAt(s))}return t.putBuffer(n),t};be.oidToDer=function(e){var t=e.split("."),r=Vt.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,s,l,u=2;u<t.length;++u){n=!0,i=[],s=parseInt(t[u],10);do l=s&127,s=s>>>7,n||(l|=128),i.push(l),n=!1;while(s>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};be.derToOid=function(e){var t;typeof e=="string"&&(e=Vt.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};be.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),l=parseInt(e.substr(8,2),10),u=0;if(e.length>11){var c=e.charAt(10),f=10;c!=="+"&&c!=="-"&&(u=parseInt(e.substr(10,2),10),f+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(s,l,u,0),f&&(c=e.charAt(f),c==="+"||c==="-")){var d=parseInt(e.substr(f+1,2),10),p=parseInt(e.substr(f+4,2),10),v=d*60+p;v*=6e4,c==="+"?t.setTime(+t-v):t.setTime(+t+v)}return t};be.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),l=parseInt(e.substr(10,2),10),u=parseInt(e.substr(12,2),10),c=0,f=0,d=!1;e.charAt(e.length-1)==="Z"&&(d=!0);var p=e.length-5,v=e.charAt(p);if(v==="+"||v==="-"){var y=parseInt(e.substr(p+1,2),10),x=parseInt(e.substr(p+4,2),10);f=y*60+x,f*=6e4,v==="+"&&(f*=-1),d=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),d?(t.setUTCFullYear(r,n,i),t.setUTCHours(s,l,u,c),t.setTime(+t+f)):(t.setFullYear(r,n,i),t.setHours(s,l,u,c)),t};be.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};be.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};be.integerToDer=function(e){var t=Vt.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};be.derToInteger=function(e){typeof e=="string"&&(e=Vt.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};be.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&Vt.util.isArray(t.value))for(var s=0,l=0;i&&l<t.value.length;++l)i=t.value[l].optional||!1,e.value[s]&&(i=be.validate(e.value[s],t.value[l],r,n),i?++s:t.value[l].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e))if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var u=e.bitStringContents.charCodeAt(0);if(u!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var Xh=/[^\\u0000-\\u00ff]/;be.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",s=0;s<t*r;++s)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case be.Class.UNIVERSAL:n+="Universal:";break;case be.Class.APPLICATION:n+="Application:";break;case be.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case be.Class.PRIVATE:n+="Private:";break}if(e.tagClass===be.Class.UNIVERSAL)switch(n+=e.type,e.type){case be.Type.NONE:n+=" (None)";break;case be.Type.BOOLEAN:n+=" (Boolean)";break;case be.Type.INTEGER:n+=" (Integer)";break;case be.Type.BITSTRING:n+=" (Bit string)";break;case be.Type.OCTETSTRING:n+=" (Octet string)";break;case be.Type.NULL:n+=" (Null)";break;case be.Type.OID:n+=" (Object Identifier)";break;case be.Type.ODESC:n+=" (Object Descriptor)";break;case be.Type.EXTERNAL:n+=" (External or Instance of)";break;case be.Type.REAL:n+=" (Real)";break;case be.Type.ENUMERATED:n+=" (Enumerated)";break;case be.Type.EMBEDDED:n+=" (Embedded PDV)";break;case be.Type.UTF8:n+=" (UTF8)";break;case be.Type.ROID:n+=" (Relative Object Identifier)";break;case be.Type.SEQUENCE:n+=" (Sequence)";break;case be.Type.SET:n+=" (Set)";break;case be.Type.PRINTABLESTRING:n+=" (Printable String)";break;case be.Type.IA5String:n+=" (IA5String (ASCII))";break;case be.Type.UTCTIME:n+=" (UTC time)";break;case be.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case be.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var l=0,u="",s=0;s<e.value.length;++s)e.value[s]!==void 0&&(l+=1,u+=be.prettyPrint(e.value[s],t+1,r),s+1<e.value.length&&(u+=","));n+=i+"Sub values: "+l+u}else{if(n+=i+"Value: ",e.type===be.Type.OID){var c=be.derToOid(e.value);n+=c,Vt.pki&&Vt.pki.oids&&c in Vt.pki.oids&&(n+=" ("+Vt.pki.oids[c]+") ")}if(e.type===be.Type.INTEGER)try{n+=be.derToInteger(e.value)}catch{n+="0x"+Vt.util.bytesToHex(e.value)}else if(e.type===be.Type.BITSTRING){if(e.value.length>1?n+="0x"+Vt.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var f=e.value.charCodeAt(0);f==1?n+=" (1 unused bit shown)":f>1&&(n+=" ("+f+" unused bits shown)")}}else if(e.type===be.Type.OCTETSTRING)Xh.test(e.value)||(n+="("+e.value+") "),n+="0x"+Vt.util.bytesToHex(e.value);else if(e.type===be.Type.UTF8)try{n+=Vt.util.decodeUtf8(e.value)}catch(d){if(d.message==="URI malformed")n+="0x"+Vt.util.bytesToHex(e.value)+" (malformed UTF8)";else throw d}else e.type===be.Type.PRINTABLESTRING||e.type===be.Type.IA5String?n+=e.value:Xh.test(e.value)?n+="0x"+Vt.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n};var vs=it;vs.md=vs.md||{};vs.md.algorithms=vs.md.algorithms||{};var aa=it,zC=aa.hmac=aa.hmac||{};zC.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(s,l){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in aa.md.algorithms)t=aa.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else t=s;if(l===null)l=e;else{if(typeof l=="string")l=aa.util.createBuffer(l);else if(aa.util.isArray(l)){var u=l;l=aa.util.createBuffer();for(var c=0;c<u.length;++c)l.putByte(u[c])}var f=l.length();f>t.blockLength&&(t.start(),t.update(l.bytes()),l=t.digest()),r=aa.util.createBuffer(),n=aa.util.createBuffer(),f=l.length();for(var c=0;c<f;++c){var u=l.at(c);r.putByte(54^u),n.putByte(92^u)}if(f<t.blockLength)for(var u=t.blockLength-f,c=0;c<u;++c)r.putByte(54),n.putByte(92);e=l,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(s){t.update(s)},i.getMac=function(){var s=t.digest().bytes();return t.start(),t.update(n),t.update(s),t.digest()},i.digest=i.getMac,i};var Mn=it,Gd=Mn.md5=Mn.md5||{};Mn.md.md5=Mn.md.algorithms.md5=Gd;Gd.create=function(){Wd||GC();var e=null,t=Mn.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=Mn.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Mn.util.encodeUtf8(i));var l=i.length;n.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var u=n.fullMessageLength.length-1;u>=0;--u)n.fullMessageLength[u]+=l[1],l[1]=l[0]+(n.fullMessageLength[u]/4294967296>>>0),n.fullMessageLength[u]=n.fullMessageLength[u]>>>0,l[0]=l[1]/4294967296>>>0;return t.putBytes(i),Zh(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Mn.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,l=s&n.blockLength-1;i.putBytes($l.substr(0,n.blockLength-l));for(var u,c=0,f=n.fullMessageLength.length-1;f>=0;--f)u=n.fullMessageLength[f]*8+c,c=u/4294967296>>>0,i.putInt32Le(u>>>0);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};Zh(d,r,i);var p=Mn.util.createBuffer();return p.putInt32Le(d.h0),p.putInt32Le(d.h1),p.putInt32Le(d.h2),p.putInt32Le(d.h3),p},n};var $l=null,hs=null,a0=null,Ai=null,Wd=!1;function GC(){$l=String.fromCharCode(128),$l+=Mn.util.fillString(String.fromCharCode(0),64),hs=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],a0=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],Ai=new Array(64);for(var e=0;e<64;++e)Ai[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);Wd=!0}function Zh(e,t,r){for(var n,i,s,l,u,c,f,d,p=r.length();p>=64;){for(i=e.h0,s=e.h1,l=e.h2,u=e.h3,d=0;d<16;++d)t[d]=r.getInt32Le(),c=u^s&(l^u),n=i+c+Ai[d]+t[d],f=a0[d],i=u,u=l,l=s,s+=n<<f|n>>>32-f;for(;d<32;++d)c=l^u&(s^l),n=i+c+Ai[d]+t[hs[d]],f=a0[d],i=u,u=l,l=s,s+=n<<f|n>>>32-f;for(;d<48;++d)c=s^l^u,n=i+c+Ai[d]+t[hs[d]],f=a0[d],i=u,u=l,l=s,s+=n<<f|n>>>32-f;for(;d<64;++d)c=l^(s|~u),n=i+c+Ai[d]+t[hs[d]],f=a0[d],i=u,u=l,l=s,s+=n<<f|n>>>32-f;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+l|0,e.h3=e.h3+u|0,p-=64}}var gs=it,Qd=gs.pem=gs.pem||{};Qd.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=ss(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=ss(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=ss(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=ss(e.headers[i]);return e.procType&&(r+=`\r
`),r+=gs.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};Qd.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(e),!!s;){var l=s[1];l==="NEW CERTIFICATE REQUEST"&&(l="CERTIFICATE REQUEST");var u={type:l,procType:null,contentDomain:null,dekInfo:null,headers:[],body:gs.util.decode64(s[3])};if(t.push(u),!!s[2]){for(var c=s[2].split(i),f=0;s&&f<c.length;){for(var d=c[f].replace(/\s+$/,""),p=f+1;p<c.length;++p){var v=c[p];if(!/\s/.test(v[0]))break;d+=v,f=p}if(s=d.match(n),s){for(var y={name:s[1],values:[]},x=s[2].split(","),m=0;m<x.length;++m)y.values.push(WC(x[m]));if(u.procType)if(!u.contentDomain&&y.name==="Content-Domain")u.contentDomain=x[0]||"";else if(!u.dekInfo&&y.name==="DEK-Info"){if(y.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');u.dekInfo={algorithm:x[0],parameters:x[1]||null}}else u.headers.push(y);else{if(y.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(y.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');u.procType={version:x[0],type:x[1]}}}++f}if(u.procType==="ENCRYPTED"&&!u.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function ss(e){for(var t=e.name+": ",r=[],n=function(c,f){return" "+f},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var s=0,l=-1,i=0;i<t.length;++i,++s)if(s>65&&l!==-1){var u=t[l];u===","?(++l,t=t.substr(0,l)+`\r
 `+t.substr(l)):t=t.substr(0,l)+`\r
`+u+t.substr(l+1),s=i-l-1,l=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(l=i);return t}function WC(e){return e.replace(/^\s+/,"")}var Ht=it;Ht.des=Ht.des||{};Ht.des.startEncrypting=function(e,t,r,n){var i=Ds({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};Ht.des.createEncryptionCipher=function(e,t){return Ds({key:e,output:null,decrypt:!1,mode:t})};Ht.des.startDecrypting=function(e,t,r,n){var i=Ds({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};Ht.des.createDecryptionCipher=function(e,t){return Ds({key:e,output:null,decrypt:!0,mode:t})};Ht.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,i){return Jh(r._keys,n,i,!1)},decrypt:function(n,i){return Jh(r._keys,n,i,!0)}}}),r._init=!1};Ht.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=Ht.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=t_(t),this._init=!0}};Gn("DES-ECB",Ht.cipher.modes.ecb);Gn("DES-CBC",Ht.cipher.modes.cbc);Gn("DES-CFB",Ht.cipher.modes.cfb);Gn("DES-OFB",Ht.cipher.modes.ofb);Gn("DES-CTR",Ht.cipher.modes.ctr);Gn("3DES-ECB",Ht.cipher.modes.ecb);Gn("3DES-CBC",Ht.cipher.modes.cbc);Gn("3DES-CFB",Ht.cipher.modes.cfb);Gn("3DES-OFB",Ht.cipher.modes.ofb);Gn("3DES-CTR",Ht.cipher.modes.ctr);function Gn(e,t){var r=function(){return new Ht.des.Algorithm(e,t)};Ht.cipher.registerAlgorithm(e,r)}var QC=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],YC=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],XC=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],ZC=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],JC=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],jC=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],$C=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],e_=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function t_(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],l=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],p=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],v=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],y=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],x=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],m=e.length()>8?3:1,C=[],A=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],S=0,E,R=0;R<m;R++){var k=e.getInt32(),N=e.getInt32();E=(k>>>4^N)&252645135,N^=E,k^=E<<4,E=(N>>>-16^k)&65535,k^=E,N^=E<<-16,E=(k>>>2^N)&858993459,N^=E,k^=E<<2,E=(N>>>-16^k)&65535,k^=E,N^=E<<-16,E=(k>>>1^N)&1431655765,N^=E,k^=E<<1,E=(N>>>8^k)&16711935,k^=E,N^=E<<8,E=(k>>>1^N)&1431655765,N^=E,k^=E<<1,E=k<<8|N>>>20&240,k=N<<24|N<<8&16711680|N>>>8&65280|N>>>24&240,N=E;for(var D=0;D<A.length;++D){A[D]?(k=k<<2|k>>>26,N=N<<2|N>>>26):(k=k<<1|k>>>27,N=N<<1|N>>>27),k&=-15,N&=-15;var F=t[k>>>28]|r[k>>>24&15]|n[k>>>20&15]|i[k>>>16&15]|s[k>>>12&15]|l[k>>>8&15]|u[k>>>4&15],j=c[N>>>28]|f[N>>>24&15]|d[N>>>20&15]|p[N>>>16&15]|v[N>>>12&15]|y[N>>>8&15]|x[N>>>4&15];E=(j>>>16^F)&65535,C[S++]=F^E,C[S++]=j^E<<16}}return C}function Jh(e,t,r,n){var i=e.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var l,u=t[0],c=t[1];l=(u>>>4^c)&252645135,c^=l,u^=l<<4,l=(u>>>16^c)&65535,c^=l,u^=l<<16,l=(c>>>2^u)&858993459,u^=l,c^=l<<2,l=(c>>>8^u)&16711935,u^=l,c^=l<<8,l=(u>>>1^c)&1431655765,c^=l,u^=l<<1,u=u<<1|u>>>31,c=c<<1|c>>>31;for(var f=0;f<i;f+=3){for(var d=s[f+1],p=s[f+2],v=s[f];v!=d;v+=p){var y=c^e[v],x=(c>>>4|c<<28)^e[v+1];l=u,u=c,c=l^(YC[y>>>24&63]|ZC[y>>>16&63]|jC[y>>>8&63]|e_[y&63]|QC[x>>>24&63]|XC[x>>>16&63]|JC[x>>>8&63]|$C[x&63])}l=u,u=c,c=l}u=u>>>1|u<<31,c=c>>>1|c<<31,l=(u>>>1^c)&1431655765,c^=l,u^=l<<1,l=(c>>>8^u)&16711935,u^=l,c^=l<<8,l=(c>>>2^u)&858993459,u^=l,c^=l<<2,l=(u>>>16^c)&65535,c^=l,u^=l<<16,l=(u>>>4^c)&252645135,c^=l,u^=l<<4,r[0]=u,r[1]=c}function Ds(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=Ht.cipher.createDecipher(r,e.key):n=Ht.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,l){var u=null;l instanceof Ht.util.ByteBuffer&&(u=l,l={}),l=l||{},l.output=u,l.iv=s,i.call(n,l)},n}var wr=it,r_=wr.pkcs5=wr.pkcs5||{},na;wr.util.isNodejs&&!wr.options.usePureJavaScript&&(na=Is);wr.pbkdf2=r_.pbkdf2=function(e,t,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),wr.util.isNodejs&&!wr.options.usePureJavaScript&&na.pbkdf2&&(i===null||typeof i!="object")&&(na.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),s?na.pbkdf2Sync.length===4?na.pbkdf2(e,t,r,n,function(E,R){if(E)return s(E);s(null,R.toString("binary"))}):na.pbkdf2(e,t,r,n,i,function(E,R){if(E)return s(E);s(null,R.toString("binary"))}):na.pbkdf2Sync.length===4?na.pbkdf2Sync(e,t,r,n).toString("binary"):na.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in wr.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=wr.md[i].create()}var l=i.digestLength;if(n>4294967295*l){var u=new Error("Derived key is too long.");if(s)return s(u);throw u}var c=Math.ceil(n/l),f=n-(c-1)*l,d=wr.hmac.create();d.start(i,e);var p="",v,y,x;if(!s){for(var m=1;m<=c;++m){d.start(null,null),d.update(t),d.update(wr.util.int32ToBytes(m)),v=x=d.digest().getBytes();for(var C=2;C<=r;++C)d.start(null,null),d.update(x),y=d.digest().getBytes(),v=wr.util.xorBytes(v,y,l),x=y;p+=m<c?v:v.substr(0,f)}return p}var m=1,C;function A(){if(m>c)return s(null,p);d.start(null,null),d.update(t),d.update(wr.util.int32ToBytes(m)),v=x=d.digest().getBytes(),C=2,S()}function S(){if(C<=r)return d.start(null,null),d.update(x),y=d.digest().getBytes(),v=wr.util.xorBytes(v,y,l),x=y,++C,wr.util.setImmediate(S);p+=m<c?v:v.substr(0,f),++m,A()}A()};var Kn=it,Yd=Kn.sha256=Kn.sha256||{};Kn.md.sha256=Kn.md.algorithms.sha256=Yd;Yd.create=function(){Xd||n_();var e=null,t=Kn.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=Kn.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Kn.util.encodeUtf8(i));var l=i.length;n.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var u=n.fullMessageLength.length-1;u>=0;--u)n.fullMessageLength[u]+=l[1],l[1]=l[0]+(n.fullMessageLength[u]/4294967296>>>0),n.fullMessageLength[u]=n.fullMessageLength[u]>>>0,l[0]=l[1]/4294967296>>>0;return t.putBytes(i),jh(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Kn.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,l=s&n.blockLength-1;i.putBytes(eu.substr(0,n.blockLength-l));for(var u,c,f=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)u=n.fullMessageLength[d+1]*8,c=u/4294967296>>>0,f+=c,i.putInt32(f>>>0),f=u>>>0;i.putInt32(f);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};jh(p,r,i);var v=Kn.util.createBuffer();return v.putInt32(p.h0),v.putInt32(p.h1),v.putInt32(p.h2),v.putInt32(p.h3),v.putInt32(p.h4),v.putInt32(p.h5),v.putInt32(p.h6),v.putInt32(p.h7),v},n};var eu=null,Xd=!1,Zd=null;function n_(){eu=String.fromCharCode(128),eu+=Kn.util.fillString(String.fromCharCode(0),64),Zd=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Xd=!0}function jh(e,t,r){for(var n,i,s,l,u,c,f,d,p,v,y,x,m,C,A,S=r.length();S>=64;){for(f=0;f<16;++f)t[f]=r.getInt32();for(;f<64;++f)n=t[f-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[f-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[f]=n+t[f-7]+i+t[f-16]|0;for(d=e.h0,p=e.h1,v=e.h2,y=e.h3,x=e.h4,m=e.h5,C=e.h6,A=e.h7,f=0;f<64;++f)l=(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7),u=C^x&(m^C),s=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),c=d&p|v&(d^p),n=A+l+u+Zd[f]+t[f],i=s+c,A=C,C=m,m=x,x=y+n>>>0,y=v,v=p,p=d,d=n+i>>>0;e.h0=e.h0+d|0,e.h1=e.h1+p|0,e.h2=e.h2+v|0,e.h3=e.h3+y|0,e.h4=e.h4+x|0,e.h5=e.h5+m|0,e.h6=e.h6+C|0,e.h7=e.h7+A|0,S-=64}}var Fn=it,ds=null;Fn.util.isNodejs&&!Fn.options.usePureJavaScript&&!process.versions["node-webkit"]&&(ds=Is);var a_=Fn.prng=Fn.prng||{};a_.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(f,d){if(!d)return t.generateSync(f);var p=t.plugin.cipher,v=t.plugin.increment,y=t.plugin.formatKey,x=t.plugin.formatSeed,m=Fn.util.createBuffer();t.key=null,C();function C(A){if(A)return d(A);if(m.length()>=f)return d(null,m.getBytes(f));if(t.generated>1048575&&(t.key=null),t.key===null)return Fn.util.nextTick(function(){s(C)});var S=p(t.key,t.seed);t.generated+=S.length,m.putBytes(S),t.key=y(p(t.key,v(t.seed))),t.seed=x(p(t.key,t.seed)),Fn.util.setImmediate(C)}},t.generateSync=function(f){var d=t.plugin.cipher,p=t.plugin.increment,v=t.plugin.formatKey,y=t.plugin.formatSeed;t.key=null;for(var x=Fn.util.createBuffer();x.length()<f;){t.generated>1048575&&(t.key=null),t.key===null&&l();var m=d(t.key,t.seed);t.generated+=m.length,x.putBytes(m),t.key=v(d(t.key,p(t.seed))),t.seed=y(d(t.key,t.seed))}return x.getBytes(f)};function s(f){if(t.pools[0].messageLength>=32)return u(),f();var d=32-t.pools[0].messageLength<<5;t.seedFile(d,function(p,v){if(p)return f(p);t.collect(v),u(),f()})}function l(){if(t.pools[0].messageLength>=32)return u();var f=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(f)),u()}function u(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var f=t.plugin.md.create();f.update(t.keyBytes);for(var d=1,p=0;p<32;++p)t.reseeds%d===0&&(f.update(t.pools[p].digest().getBytes()),t.pools[p].start()),d=d<<1;t.keyBytes=f.digest().getBytes(),f.start(),f.update(t.keyBytes);var v=f.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(v),t.generated=0}function c(f){var d=null,p=Fn.util.globalScope,v=p.crypto||p.msCrypto;v&&v.getRandomValues&&(d=function(k){return v.getRandomValues(k)});var y=Fn.util.createBuffer();if(d)for(;y.length()<f;){var x=Math.max(1,Math.min(f-y.length(),65536)/4),m=new Uint32Array(Math.floor(x));try{d(m);for(var C=0;C<m.length;++C)y.putInt32(m[C])}catch(k){if(!(typeof QuotaExceededError<"u"&&k instanceof QuotaExceededError))throw k}}if(y.length()<f)for(var A,S,E,R=Math.floor(Math.random()*65536);y.length()<f;){S=16807*(R&65535),A=16807*(R>>16),S+=(A&32767)<<16,S+=A>>15,S=(S&2147483647)+(S>>31),R=S&4294967295;for(var C=0;C<3;++C)E=R>>>(C<<3),E^=Math.floor(Math.random()*256),y.putByte(E&255)}return y.getBytes(f)}return ds?(t.seedFile=function(f,d){ds.randomBytes(f,function(p,v){if(p)return d(p);d(null,v.toString())})},t.seedFileSync=function(f){return ds.randomBytes(f).toString()}):(t.seedFile=function(f,d){try{d(null,c(f))}catch(p){d(p)}},t.seedFileSync=c),t.collect=function(f){for(var d=f.length,p=0;p<d;++p)t.pools[t.pool].update(f.substr(p,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(f,d){for(var p="",v=0;v<d;v+=8)p+=String.fromCharCode(f>>v&255);t.collect(p)},t.registerWorker=function(f){if(f===self)t.seedFile=function(p,v){function y(x){var m=x.data;m.forge&&m.forge.prng&&(self.removeEventListener("message",y),v(m.forge.prng.err,m.forge.prng.bytes))}self.addEventListener("message",y),self.postMessage({forge:{prng:{needed:p}}})};else{var d=function(p){var v=p.data;v.forge&&v.forge.prng&&t.seedFile(v.forge.prng.needed,function(y,x){f.postMessage({forge:{prng:{err:y,bytes:x}}})})};f.addEventListener("message",d)}},t};var lr=it;(function(){if(lr.random&&lr.random.getBytes){lr.random;return}(function(e){var t={},r=new Array(4),n=lr.util.createBuffer();t.formatKey=function(p){var v=lr.util.createBuffer(p);return p=new Array(4),p[0]=v.getInt32(),p[1]=v.getInt32(),p[2]=v.getInt32(),p[3]=v.getInt32(),lr.aes._expandKey(p,!1)},t.formatSeed=function(p){var v=lr.util.createBuffer(p);return p=new Array(4),p[0]=v.getInt32(),p[1]=v.getInt32(),p[2]=v.getInt32(),p[3]=v.getInt32(),p},t.cipher=function(p,v){return lr.aes._updateBlock(p,v,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(p){return++p[3],p},t.md=lr.md.sha256;function i(){var p=lr.prng.create(t);return p.getBytes=function(v,y){return p.generate(v,y)},p.getBytesSync=function(v){return p.generate(v)},p}var s=i(),l=null,u=lr.util.globalScope,c=u.crypto||u.msCrypto;if(c&&c.getRandomValues&&(l=function(p){return c.getRandomValues(p)}),lr.options.usePureJavaScript||!lr.util.isNodejs&&!l){if(s.collectInt(+new Date,32),typeof navigator<"u"){var f="";for(var d in navigator)try{typeof navigator[d]=="string"&&(f+=navigator[d])}catch{}s.collect(f),f=null}e&&(e().mousemove(function(p){s.collectInt(p.clientX,16),s.collectInt(p.clientY,16)}),e().keypress(function(p){s.collectInt(p.charCode,8)}))}if(!lr.random)lr.random=s;else for(var d in s)lr.random[d]=s[d];lr.random.createInstance=i,lr.random})(typeof jQuery<"u"?jQuery:null)})();var Vr=it,Ml=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],$h=[1,2,3,5],i_=function(e,t){return e<<t&65535|(e&65535)>>16-t},s_=function(e,t){return(e&65535)>>t|e<<16-t&65535};Vr.rc2=Vr.rc2||{};Vr.rc2.expandKey=function(e,t){typeof e=="string"&&(e=Vr.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,s=Math.ceil(i/8),l=255>>(i&7),u;for(u=n;u<128;u++)r.putByte(Ml[r.at(u-1)+r.at(u-n)&255]);for(r.setAt(128-s,Ml[r.at(128-s)&l]),u=127-s;u>=0;u--)r.setAt(u,Ml[r.at(u+1)^r.at(u+s)]);return r};var Jd=function(e,t,r){var n=!1,i=null,s=null,l=null,u,c,f,d,p=[];for(e=Vr.rc2.expandKey(e,t),f=0;f<64;f++)p.push(e.getInt16Le());r?(u=function(x){for(f=0;f<4;f++)x[f]+=p[d]+(x[(f+3)%4]&x[(f+2)%4])+(~x[(f+3)%4]&x[(f+1)%4]),x[f]=i_(x[f],$h[f]),d++},c=function(x){for(f=0;f<4;f++)x[f]+=p[x[(f+3)%4]&63]}):(u=function(x){for(f=3;f>=0;f--)x[f]=s_(x[f],$h[f]),x[f]-=p[d]+(x[(f+3)%4]&x[(f+2)%4])+(~x[(f+3)%4]&x[(f+1)%4]),d--},c=function(x){for(f=3;f>=0;f--)x[f]-=p[x[(f+3)%4]&63]});var v=function(x){var m=[];for(f=0;f<4;f++){var C=i.getInt16Le();l!==null&&(r?C^=l.getInt16Le():l.putInt16Le(C)),m.push(C&65535)}d=r?0:63;for(var A=0;A<x.length;A++)for(var S=0;S<x[A][0];S++)x[A][1](m);for(f=0;f<4;f++)l!==null&&(r?l.putInt16Le(m[f]):m[f]^=l.getInt16Le()),s.putInt16Le(m[f])},y=null;return y={start:function(x,m){x&&typeof x=="string"&&(x=Vr.util.createBuffer(x)),n=!1,i=Vr.util.createBuffer(),s=m||new Vr.util.createBuffer,l=x,y.output=s},update:function(x){for(n||i.putBuffer(x);i.length()>=8;)v([[5,u],[1,c],[6,u],[1,c],[5,u]])},finish:function(x){var m=!0;if(r)if(x)m=x(8,i,!r);else{var C=i.length()===8?8:8-i.length();i.fillWithByte(C,C)}if(m&&(n=!0,y.update()),!r&&(m=i.length()===0,m))if(x)m=x(8,s,!r);else{var A=s.length(),S=s.at(A-1);S>A?m=!1:s.truncate(S)}return m}},y};Vr.rc2.startEncrypting=function(e,t,r){var n=Vr.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};Vr.rc2.createEncryptionCipher=function(e,t){return Jd(e,t,!0)};Vr.rc2.startDecrypting=function(e,t,r){var n=Vr.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};Vr.rc2.createDecryptionCipher=function(e,t){return Jd(e,t,!1)};var tu=it;tu.jsbn=tu.jsbn||{};var ia;function ve(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}tu.jsbn.BigInteger=ve;function mt(){return new ve(null)}function o_(e,t,r,n,i,s){for(;--s>=0;){var l=t*this.data[e++]+r.data[n]+i;i=Math.floor(l/67108864),r.data[n++]=l&67108863}return i}function l_(e,t,r,n,i,s){for(var l=t&32767,u=t>>15;--s>=0;){var c=this.data[e]&32767,f=this.data[e++]>>15,d=u*c+f*l;c=l*c+((d&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(d>>>15)+u*f+(i>>>30),r.data[n++]=c&1073741823}return i}function ed(e,t,r,n,i,s){for(var l=t&16383,u=t>>14;--s>=0;){var c=this.data[e]&16383,f=this.data[e++]>>14,d=u*c+f*l;c=l*c+((d&16383)<<14)+r.data[n]+i,i=(c>>28)+(d>>14)+u*f,r.data[n++]=c&268435455}return i}typeof navigator>"u"?(ve.prototype.am=ed,ia=28):navigator.appName=="Microsoft Internet Explorer"?(ve.prototype.am=l_,ia=30):navigator.appName!="Netscape"?(ve.prototype.am=o_,ia=26):(ve.prototype.am=ed,ia=28);ve.prototype.DB=ia;ve.prototype.DM=(1<<ia)-1;ve.prototype.DV=1<<ia;var Au=52;ve.prototype.FV=Math.pow(2,Au);ve.prototype.F1=Au-ia;ve.prototype.F2=2*ia-Au;var u_="0123456789abcdefghijklmnopqrstuvwxyz",Ps=new Array,Oi,vn;Oi="0".charCodeAt(0);for(vn=0;vn<=9;++vn)Ps[Oi++]=vn;Oi="a".charCodeAt(0);for(vn=10;vn<36;++vn)Ps[Oi++]=vn;Oi="A".charCodeAt(0);for(vn=10;vn<36;++vn)Ps[Oi++]=vn;function td(e){return u_.charAt(e)}function jd(e,t){var r=Ps[e.charCodeAt(t)];return r??-1}function f_(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function c_(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function Ta(e){var t=mt();return t.fromInt(e),t}function h_(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;--n>=0;){var l=r==8?e[n]&255:jd(e,n);if(l<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=l:s+r>this.DB?(this.data[this.t-1]|=(l&(1<<this.DB-s)-1)<<s,this.data[this.t++]=l>>this.DB-s):this.data[this.t-1]|=l<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&e[0]&128&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&ve.ZERO.subTo(this,this)}function d_(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function p_(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,s="",l=this.t,u=this.DB-l*this.DB%t;if(l-- >0)for(u<this.DB&&(n=this.data[l]>>u)>0&&(i=!0,s=td(n));l>=0;)u<t?(n=(this.data[l]&(1<<u)-1)<<t-u,n|=this.data[--l]>>(u+=this.DB-t)):(n=this.data[l]>>(u-=t)&r,u<=0&&(u+=this.DB,--l)),n>0&&(i=!0),i&&(s+=td(n));return i?s:"0"}function v_(){var e=mt();return ve.ZERO.subTo(this,e),e}function g_(){return this.s<0?this.negate():this}function y_(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}function Us(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function x_(){return this.t<=0?0:this.DB*(this.t-1)+Us(this.data[this.t-1]^this.s&this.DM)}function m_(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}function C_(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}function __(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(e/this.DB),l=this.s<<r&this.DM,u;for(u=this.t-1;u>=0;--u)t.data[u+s+1]=this.data[u]>>n|l,l=(this.data[u]&i)<<r;for(u=s-1;u>=0;--u)t.data[u]=0;t.data[s]=l,t.t=this.t+s+1,t.s=this.s,t.clamp()}function E_(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var l=r+1;l<this.t;++l)t.data[l-r-1]|=(this.data[l]&s)<<i,t.data[l-r]=this.data[l]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}function S_(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}function b_(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&ve.ZERO.subTo(t,t)}function T_(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}function A_(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=mt());var s=mt(),l=this.s,u=e.s,c=this.DB-Us(n.data[n.t-1]);c>0?(n.lShiftTo(c,s),i.lShiftTo(c,r)):(n.copyTo(s),i.copyTo(r));var f=s.t,d=s.data[f-1];if(d!=0){var p=d*(1<<this.F1)+(f>1?s.data[f-2]>>this.F2:0),v=this.FV/p,y=(1<<this.F1)/p,x=1<<this.F2,m=r.t,C=m-f,A=t??mt();for(s.dlShiftTo(C,A),r.compareTo(A)>=0&&(r.data[r.t++]=1,r.subTo(A,r)),ve.ONE.dlShiftTo(f,A),A.subTo(s,s);s.t<f;)s.data[s.t++]=0;for(;--C>=0;){var S=r.data[--m]==d?this.DM:Math.floor(r.data[m]*v+(r.data[m-1]+x)*y);if((r.data[m]+=s.am(0,S,r,C,0,f))<S)for(s.dlShiftTo(C,A),r.subTo(A,r);r.data[m]<--S;)r.subTo(A,r)}t!=null&&(r.drShiftTo(f,t),l!=u&&ve.ZERO.subTo(t,t)),r.t=f,r.clamp(),c>0&&r.rShiftTo(c,r),l<0&&ve.ZERO.subTo(r,r)}}}function B_(e){var t=mt();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(ve.ZERO)>0&&e.subTo(t,t),t}function ni(e){this.m=e}function I_(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function w_(e){return e}function R_(e){e.divRemTo(this.m,null,e)}function N_(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function k_(e,t){e.squareTo(t),this.reduce(t)}ni.prototype.convert=I_;ni.prototype.revert=w_;ni.prototype.reduce=R_;ni.prototype.mulTo=N_;ni.prototype.sqrTo=k_;function L_(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function ai(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function D_(e){var t=mt();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(ve.ZERO)>0&&this.m.subTo(t,t),t}function P_(e){var t=mt();return e.copyTo(t),this.reduce(t),t}function U_(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function O_(e,t){e.squareTo(t),this.reduce(t)}function F_(e,t,r){e.multiplyTo(t,r),this.reduce(r)}ai.prototype.convert=D_;ai.prototype.revert=P_;ai.prototype.reduce=U_;ai.prototype.mulTo=F_;ai.prototype.sqrTo=O_;function V_(){return(this.t>0?this.data[0]&1:this.s)==0}function M_(e,t){if(e>4294967295||e<1)return ve.ONE;var r=mt(),n=mt(),i=t.convert(this),s=Us(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var l=r;r=n,n=l}return t.revert(r)}function K_(e,t){var r;return e<256||t.isEven()?r=new ni(t):r=new ai(t),this.exp(e,r)}ve.prototype.copyTo=f_;ve.prototype.fromInt=c_;ve.prototype.fromString=h_;ve.prototype.clamp=d_;ve.prototype.dlShiftTo=m_;ve.prototype.drShiftTo=C_;ve.prototype.lShiftTo=__;ve.prototype.rShiftTo=E_;ve.prototype.subTo=S_;ve.prototype.multiplyTo=b_;ve.prototype.squareTo=T_;ve.prototype.divRemTo=A_;ve.prototype.invDigit=L_;ve.prototype.isEven=V_;ve.prototype.exp=M_;ve.prototype.toString=p_;ve.prototype.negate=v_;ve.prototype.abs=g_;ve.prototype.compareTo=y_;ve.prototype.bitLength=x_;ve.prototype.mod=B_;ve.prototype.modPowInt=K_;ve.ZERO=Ta(0);ve.ONE=Ta(1);function H_(){var e=mt();return this.copyTo(e),e}function q_(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function z_(){return this.t==0?this.s:this.data[0]<<24>>24}function G_(){return this.t==0?this.s:this.data[0]<<16>>16}function W_(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function Q_(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function Y_(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=Ta(r),i=mt(),s=mt(),l="";for(this.divRemTo(n,i,s);i.signum()>0;)l=(r+s.intValue()).toString(e).substr(1)+l,i.divRemTo(n,i,s);return s.intValue().toString(e)+l}function X_(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,s=0,l=0,u=0;u<e.length;++u){var c=jd(e,u);if(c<0){e.charAt(u)=="-"&&this.signum()==0&&(i=!0);continue}l=t*l+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(l,0),s=0,l=0)}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(l,0)),i&&ve.ZERO.subTo(this,this)}function Z_(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(ve.ONE.shiftLeft(e-1),Bu,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(ve.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function J_(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function j_(e){return this.compareTo(e)==0}function $_(e){return this.compareTo(e)<0?this:e}function eE(e){return this.compareTo(e)>0?this:e}function tE(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function rE(e,t){return e&t}function nE(e){var t=mt();return this.bitwiseTo(e,rE,t),t}function Bu(e,t){return e|t}function aE(e){var t=mt();return this.bitwiseTo(e,Bu,t),t}function $d(e,t){return e^t}function iE(e){var t=mt();return this.bitwiseTo(e,$d,t),t}function ep(e,t){return e&~t}function sE(e){var t=mt();return this.bitwiseTo(e,ep,t),t}function oE(){for(var e=mt(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function lE(e){var t=mt();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function uE(e){var t=mt();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function fE(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}function cE(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+fE(this.data[e]);return this.s<0?this.t*this.DB:-1}function hE(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function dE(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=hE(this.data[r]^t);return e}function pE(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}function vE(e,t){var r=ve.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function gE(e){return this.changeBit(e,Bu)}function yE(e){return this.changeBit(e,ep)}function xE(e){return this.changeBit(e,$d)}function mE(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}function CE(e){var t=mt();return this.addTo(e,t),t}function _E(e){var t=mt();return this.subTo(e,t),t}function EE(e){var t=mt();return this.multiplyTo(e,t),t}function SE(e){var t=mt();return this.divRemTo(e,t,null),t}function bE(e){var t=mt();return this.divRemTo(e,null,t),t}function TE(e){var t=mt(),r=mt();return this.divRemTo(e,t,r),new Array(t,r)}function AE(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function BE(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function d0(){}function tp(e){return e}function IE(e,t,r){e.multiplyTo(t,r)}function wE(e,t){e.squareTo(t)}d0.prototype.convert=tp;d0.prototype.revert=tp;d0.prototype.mulTo=IE;d0.prototype.sqrTo=wE;function RE(e){return this.exp(e,new d0)}function NE(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}function kE(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}function Fi(e){this.r2=mt(),this.q3=mt(),ve.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function LE(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=mt();return e.copyTo(t),this.reduce(t),t}function DE(e){return e}function PE(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function UE(e,t){e.squareTo(t),this.reduce(t)}function OE(e,t,r){e.multiplyTo(t,r),this.reduce(r)}Fi.prototype.convert=LE;Fi.prototype.revert=DE;Fi.prototype.reduce=PE;Fi.prototype.mulTo=OE;Fi.prototype.sqrTo=UE;function FE(e,t){var r=e.bitLength(),n,i=Ta(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new ni(t):t.isEven()?s=new Fi(t):s=new ai(t);var l=new Array,u=3,c=n-1,f=(1<<n)-1;if(l[1]=s.convert(this),n>1){var d=mt();for(s.sqrTo(l[1],d);u<=f;)l[u]=mt(),s.mulTo(d,l[u-2],l[u]),u+=2}var p=e.t-1,v,y=!0,x=mt(),m;for(r=Us(e.data[p])-1;p>=0;){for(r>=c?v=e.data[p]>>r-c&f:(v=(e.data[p]&(1<<r+1)-1)<<c-r,p>0&&(v|=e.data[p-1]>>this.DB+r-c)),u=n;!(v&1);)v>>=1,--u;if((r-=u)<0&&(r+=this.DB,--p),y)l[v].copyTo(i),y=!1;else{for(;u>1;)s.sqrTo(i,x),s.sqrTo(x,i),u-=2;u>0?s.sqrTo(i,x):(m=i,i=x,x=m),s.mulTo(x,l[v],i)}for(;p>=0&&!(e.data[p]&1<<r);)s.sqrTo(i,x),m=i,i=x,x=m,--r<0&&(r=this.DB-1,--p)}return s.revert(i)}function VE(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function ME(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}function KE(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return ve.ZERO;for(var r=e.clone(),n=this.clone(),i=Ta(1),s=Ta(0),l=Ta(0),u=Ta(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?((!l.isEven()||!u.isEven())&&(l.addTo(this,l),u.subTo(e,u)),l.rShiftTo(1,l)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(l,i),s.subTo(u,s)):(n.subTo(r,n),t&&l.subTo(i,l),u.subTo(s,u))}if(n.compareTo(ve.ONE)!=0)return ve.ZERO;if(u.compareTo(e)>=0)return u.subtract(e);if(u.signum()<0)u.addTo(e,u);else return u;return u.signum()<0?u.add(e):u}var Tn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],HE=(1<<26)/Tn[Tn.length-1];function qE(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=Tn[Tn.length-1]){for(t=0;t<Tn.length;++t)if(r.data[0]==Tn[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<Tn.length;){for(var n=Tn[t],i=t+1;i<Tn.length&&n<HE;)n*=Tn[i++];for(n=r.modInt(n);t<i;)if(n%Tn[t++]==0)return!1}return r.millerRabin(e)}function zE(e){var t=this.subtract(ve.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=GE(),s,l=0;l<e;++l){do s=new ve(this.bitLength(),i);while(s.compareTo(ve.ONE)<=0||s.compareTo(t)>=0);var u=s.modPow(n,this);if(u.compareTo(ve.ONE)!=0&&u.compareTo(t)!=0){for(var c=1;c++<r&&u.compareTo(t)!=0;)if(u=u.modPowInt(2,this),u.compareTo(ve.ONE)==0)return!1;if(u.compareTo(t)!=0)return!1}}return!0}function GE(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}ve.prototype.chunkSize=W_;ve.prototype.toRadix=Y_;ve.prototype.fromRadix=X_;ve.prototype.fromNumber=Z_;ve.prototype.bitwiseTo=tE;ve.prototype.changeBit=vE;ve.prototype.addTo=mE;ve.prototype.dMultiply=AE;ve.prototype.dAddOffset=BE;ve.prototype.multiplyLowerTo=NE;ve.prototype.multiplyUpperTo=kE;ve.prototype.modInt=ME;ve.prototype.millerRabin=zE;ve.prototype.clone=H_;ve.prototype.intValue=q_;ve.prototype.byteValue=z_;ve.prototype.shortValue=G_;ve.prototype.signum=Q_;ve.prototype.toByteArray=J_;ve.prototype.equals=j_;ve.prototype.min=$_;ve.prototype.max=eE;ve.prototype.and=nE;ve.prototype.or=aE;ve.prototype.xor=iE;ve.prototype.andNot=sE;ve.prototype.not=oE;ve.prototype.shiftLeft=lE;ve.prototype.shiftRight=uE;ve.prototype.getLowestSetBit=cE;ve.prototype.bitCount=dE;ve.prototype.testBit=pE;ve.prototype.setBit=gE;ve.prototype.clearBit=yE;ve.prototype.flipBit=xE;ve.prototype.add=CE;ve.prototype.subtract=_E;ve.prototype.multiply=EE;ve.prototype.divide=SE;ve.prototype.remainder=bE;ve.prototype.divideAndRemainder=TE;ve.prototype.modPow=FE;ve.prototype.modInverse=KE;ve.prototype.pow=RE;ve.prototype.gcd=VE;ve.prototype.isProbablePrime=qE;var Hn=it,rp=Hn.sha1=Hn.sha1||{};Hn.md.sha1=Hn.md.algorithms.sha1=rp;rp.create=function(){np||WE();var e=null,t=Hn.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=Hn.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Hn.util.encodeUtf8(i));var l=i.length;n.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var u=n.fullMessageLength.length-1;u>=0;--u)n.fullMessageLength[u]+=l[1],l[1]=l[0]+(n.fullMessageLength[u]/4294967296>>>0),n.fullMessageLength[u]=n.fullMessageLength[u]>>>0,l[0]=l[1]/4294967296>>>0;return t.putBytes(i),rd(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Hn.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,l=s&n.blockLength-1;i.putBytes(ru.substr(0,n.blockLength-l));for(var u,c,f=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)u=n.fullMessageLength[d+1]*8,c=u/4294967296>>>0,f+=c,i.putInt32(f>>>0),f=u>>>0;i.putInt32(f);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};rd(p,r,i);var v=Hn.util.createBuffer();return v.putInt32(p.h0),v.putInt32(p.h1),v.putInt32(p.h2),v.putInt32(p.h3),v.putInt32(p.h4),v},n};var ru=null,np=!1;function WE(){ru=String.fromCharCode(128),ru+=Hn.util.fillString(String.fromCharCode(0),64),np=!0}function rd(e,t,r){for(var n,i,s,l,u,c,f,d,p=r.length();p>=64;){for(i=e.h0,s=e.h1,l=e.h2,u=e.h3,c=e.h4,d=0;d<16;++d)n=r.getInt32(),t[d]=n,f=u^s&(l^u),n=(i<<5|i>>>27)+f+c+1518500249+n,c=u,u=l,l=(s<<30|s>>>2)>>>0,s=i,i=n;for(;d<20;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,f=u^s&(l^u),n=(i<<5|i>>>27)+f+c+1518500249+n,c=u,u=l,l=(s<<30|s>>>2)>>>0,s=i,i=n;for(;d<32;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,f=s^l^u,n=(i<<5|i>>>27)+f+c+1859775393+n,c=u,u=l,l=(s<<30|s>>>2)>>>0,s=i,i=n;for(;d<40;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,f=s^l^u,n=(i<<5|i>>>27)+f+c+1859775393+n,c=u,u=l,l=(s<<30|s>>>2)>>>0,s=i,i=n;for(;d<60;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,f=s&l|u&(s^l),n=(i<<5|i>>>27)+f+c+2400959708+n,c=u,u=l,l=(s<<30|s>>>2)>>>0,s=i,i=n;for(;d<80;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,f=s^l^u,n=(i<<5|i>>>27)+f+c+3395469782+n,c=u,u=l,l=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+l|0,e.h3=e.h3+u|0,e.h4=e.h4+c|0,p-=64}}var qn=it,ap=qn.pkcs1=qn.pkcs1||{};ap.encode_rsa_oaep=function(e,t,r){var n,i,s,l;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(l=r.mgf1.md)),s?s.start():s=qn.md.sha1.create(),l||(l=s);var u=Math.ceil(e.n.bitLength()/8),c=u-2*s.digestLength-2;if(t.length>c){var f=new Error("RSAES-OAEP input message length is too long.");throw f.length=t.length,f.maxLength=c,f}n||(n=""),s.update(n,"raw");for(var d=s.digest(),p="",v=c-t.length,y=0;y<v;y++)p+="\0";var x=d.getBytes()+p+""+t;if(!i)i=qn.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var f=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw f.seedLength=i.length,f.digestLength=s.digestLength,f}var m=ys(i,u-s.digestLength-1,l),C=qn.util.xorBytes(x,m,x.length),A=ys(C,s.digestLength,l),S=qn.util.xorBytes(i,A,i.length);return"\0"+S+C};ap.decode_rsa_oaep=function(e,t,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var l=Math.ceil(e.n.bitLength()/8);if(t.length!==l){var C=new Error("RSAES-OAEP encoded message length is invalid.");throw C.length=t.length,C.expectedLength=l,C}if(i===void 0?i=qn.md.sha1.create():i.start(),s||(s=i),l<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var u=i.digest().getBytes(),c=t.charAt(0),f=t.substring(1,i.digestLength+1),d=t.substring(1+i.digestLength),p=ys(d,i.digestLength,s),v=qn.util.xorBytes(f,p,f.length),y=ys(v,l-i.digestLength-1,s),x=qn.util.xorBytes(d,y,d.length),m=x.substring(0,i.digestLength),C=c!=="\0",A=0;A<i.digestLength;++A)C|=u.charAt(A)!==m.charAt(A);for(var S=1,E=i.digestLength,R=i.digestLength;R<x.length;R++){var k=x.charCodeAt(R),N=k&1^1,D=S?65534:0;C|=k&D,S=S&N,E+=S}if(C||x.charCodeAt(E)!==1)throw new Error("Invalid RSAES-OAEP padding.");return x.substring(E+1)};function ys(e,t,r){r||(r=qn.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),s=0;s<i;++s){var l=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(e+l),n+=r.digest().getBytes()}return n.substring(0,t)}var ma=it;(function(){if(ma.prime){ma.prime;return}var e=ma.prime=ma.prime||{},t=ma.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=function(p,v){return p|v};e.generateProbablePrime=function(p,v,y){typeof v=="function"&&(y=v,v={}),v=v||{};var x=v.algorithm||"PRIMEINC";typeof x=="string"&&(x={name:x}),x.options=x.options||{};var m=v.prng||ma.random,C={nextBytes:function(A){for(var S=m.getBytesSync(A.length),E=0;E<A.length;++E)A[E]=S.charCodeAt(E)}};if(x.name==="PRIMEINC")return s(p,C,x.options,y);throw new Error("Invalid prime generation algorithm: "+x.name)};function s(p,v,y,x){return"workers"in y?c(p,v,y,x):l(p,v,y,x)}function l(p,v,y,x){var m=f(p,v),C=0,A=d(m.bitLength());"millerRabinTests"in y&&(A=y.millerRabinTests);var S=10;"maxBlockTime"in y&&(S=y.maxBlockTime),u(m,p,v,C,A,S,x)}function u(p,v,y,x,m,C,A){var S=+new Date;do{if(p.bitLength()>v&&(p=f(v,y)),p.isProbablePrime(m))return A(null,p);p.dAddOffset(r[x++%8],0)}while(C<0||+new Date-S<C);ma.util.setImmediate(function(){u(p,v,y,x,m,C,A)})}function c(p,v,y,x){if(typeof Worker>"u")return l(p,v,y,x);var m=f(p,v),C=y.workers,A=y.workLoad||100,S=A*30/8,E=y.workerScript||"forge/prime.worker.js";if(C===-1)return ma.util.estimateCores(function(k,N){k&&(N=2),C=N-1,R()});R();function R(){C=Math.max(1,C);for(var k=[],N=0;N<C;++N)k[N]=new Worker(E);for(var N=0;N<C;++N)k[N].addEventListener("message",F);var D=!1;function F(j){if(!D){var P=j.data;if(P.found){for(var O=0;O<k.length;++O)k[O].terminate();return D=!0,x(null,new t(P.prime,16))}m.bitLength()>p&&(m=f(p,v));var q=m.toString(16);j.target.postMessage({hex:q,workLoad:A}),m.dAddOffset(S,0)}}}}function f(p,v){var y=new t(p,v),x=p-1;return y.testBit(x)||y.bitwiseTo(t.ONE.shiftLeft(x),i,y),y.dAddOffset(31-y.mod(n).byteValue(),0),y}function d(p){return p<=100?27:p<=150?18:p<=200?15:p<=250?12:p<=300?9:p<=350?8:p<=400?7:p<=500?6:p<=600?5:p<=800?4:p<=1250?3:2}})();var Ue=it;if(typeof xt>"u")var xt=Ue.jsbn.BigInteger;var nu=Ue.util.isNodejs?Is:null,J=Ue.asn1,gn=Ue.util;Ue.pki=Ue.pki||{};Ue.pki.rsa=Ue.rsa=Ue.rsa||{};var Ze=Ue.pki,QE=[6,4,2,4,2,4,6,2],YE={name:"PrivateKeyInfo",tagClass:J.Class.UNIVERSAL,type:J.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:J.Class.UNIVERSAL,type:J.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:J.Class.UNIVERSAL,type:J.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:J.Class.UNIVERSAL,type:J.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:J.Class.UNIVERSAL,type:J.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},XE={name:"RSAPrivateKey",tagClass:J.Class.UNIVERSAL,type:J.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:J.Class.UNIVERSAL,type:J.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:J.Class.UNIVERSAL,type:J.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:J.Class.UNIVERSAL,type:J.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:J.Class.UNIVERSAL,type:J.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:J.Class.UNIVERSAL,type:J.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:J.Class.UNIVERSAL,type:J.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:J.Class.UNIVERSAL,type:J.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:J.Class.UNIVERSAL,type:J.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:J.Class.UNIVERSAL,type:J.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},ZE={name:"RSAPublicKey",tagClass:J.Class.UNIVERSAL,type:J.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:J.Class.UNIVERSAL,type:J.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:J.Class.UNIVERSAL,type:J.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},JE=Ue.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:J.Class.UNIVERSAL,type:J.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:J.Class.UNIVERSAL,type:J.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:J.Class.UNIVERSAL,type:J.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:J.Class.UNIVERSAL,type:J.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:J.Class.UNIVERSAL,type:J.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},jE={name:"DigestInfo",tagClass:J.Class.UNIVERSAL,type:J.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:J.Class.UNIVERSAL,type:J.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:J.Class.UNIVERSAL,type:J.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:J.Class.UNIVERSAL,type:J.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:J.Class.UNIVERSAL,type:J.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},$E=function(e){var t;if(e.algorithm in Ze.oids)t=Ze.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=J.oidToDer(t).getBytes(),i=J.create(J.Class.UNIVERSAL,J.Type.SEQUENCE,!0,[]),s=J.create(J.Class.UNIVERSAL,J.Type.SEQUENCE,!0,[]);s.value.push(J.create(J.Class.UNIVERSAL,J.Type.OID,!1,n)),s.value.push(J.create(J.Class.UNIVERSAL,J.Type.NULL,!1,""));var l=J.create(J.Class.UNIVERSAL,J.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(s),i.value.push(l),J.toDer(i).getBytes()},ip=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(xt.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(xt.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new xt(Ue.util.bytesToHex(Ue.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(xt.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(s)<0;)i=i.add(t.p);var l=i.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return l=l.multiply(n.modInverse(t.n)).mod(t.n),l};Ze.rsa.encrypt=function(e,t,r){var n=r,i,s=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=sp(e,t,r)):(i=Ue.util.createBuffer(),i.putBytes(e));for(var l=new xt(i.toHex(),16),u=ip(l,t,n),c=u.toString(16),f=Ue.util.createBuffer(),d=s-Math.ceil(c.length/2);d>0;)f.putByte(0),--d;return f.putBytes(Ue.util.hexToBytes(c)),f.getBytes()};Ze.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=i,s}var l=new xt(Ue.util.createBuffer(e).toHex(),16);if(l.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var u=ip(l,t,r),c=u.toString(16),f=Ue.util.createBuffer(),d=i-Math.ceil(c.length/2);d>0;)f.putByte(0),--d;return f.putBytes(Ue.util.hexToBytes(c)),n!==!1?xs(f.getBytes(),t,r):f.getBytes()};Ze.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||Ue.random,i={nextBytes:function(u){for(var c=n.getBytesSync(u.length),f=0;f<u.length;++f)u[f]=c.charCodeAt(f)}},s=r.algorithm||"PRIMEINC",l;if(s==="PRIMEINC")l={algorithm:s,state:0,bits:e,rng:i,eInt:t||65537,e:new xt(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},l.e.fromInt(l.eInt);else throw new Error("Invalid key generation algorithm: "+s);return l};Ze.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new xt(null);r.fromInt(30);for(var n=0,i=function(p,v){return p|v},s=+new Date,l,u=0;e.keys===null&&(t<=0||u<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,f=c-1;e.pqState===0?(e.num=new xt(c,e.rng),e.num.testBit(f)||e.num.bitwiseTo(xt.ONE.shiftLeft(f),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(t4(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(QE[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(xt.ONE).gcd(e.e).compareTo(xt.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(xt.ONE),e.q1=e.q.subtract(xt.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(xt.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var d=e.e.modInverse(e.phi);e.keys={privateKey:Ze.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:Ze.rsa.setPublicKey(e.n,e.e)}}l=+new Date,u+=l-s,s=l}return e.keys!==null};Ze.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!Ue.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(nd("generateKeyPair"))return nu.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(u,c,f){if(u)return n(u);n(null,{privateKey:Ze.privateKeyFromPem(f),publicKey:Ze.publicKeyFromPem(c)})});if(ad("generateKey")&&ad("exportKey"))return gn.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:sd(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(u){return gn.globalScope.crypto.subtle.exportKey("pkcs8",u.privateKey)}).then(void 0,function(u){n(u)}).then(function(u){if(u){var c=Ze.privateKeyFromAsn1(J.fromDer(Ue.util.createBuffer(u)));n(null,{privateKey:c,publicKey:Ze.setRsaPublicKey(c.n,c.e)})}});if(id("generateKey")&&id("exportKey")){var i=gn.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:sd(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(u){var c=u.target.result,f=gn.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);f.oncomplete=function(d){var p=d.target.result,v=Ze.privateKeyFromAsn1(J.fromDer(Ue.util.createBuffer(p)));n(null,{privateKey:v,publicKey:Ze.setRsaPublicKey(v.n,v.e)})},f.onerror=function(d){n(d)}},i.onerror=function(u){n(u)};return}}else if(nd("generateKeyPairSync")){var s=nu.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Ze.privateKeyFromPem(s.privateKey),publicKey:Ze.publicKeyFromPem(s.publicKey)}}}var l=Ze.rsa.createKeyPairGenerationState(e,t,r);if(!n)return Ze.rsa.stepKeyPairGenerationState(l,0),l.keys;e4(l,r,n)};Ze.setRsaPublicKey=Ze.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(u,c,f){return sp(u,c,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(u,c){return Ue.pkcs1.encode_rsa_oaep(c,u,s)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(u){return u}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var l=i.encode(n,r,!0);return Ze.rsa.encrypt(l,r,!0)},r.verify=function(n,i,s,l){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),l===void 0&&(l={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in l||(l._parseAllDigestBytes=!0),s==="RSASSA-PKCS1-V1_5"?s={verify:function(c,f){f=xs(f,r,!0);var d=J.fromDer(f,{parseAllBytes:l._parseAllDigestBytes}),p={},v=[];if(!J.validate(d,jE,p,v)){var y=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw y.errors=v,y}var x=J.derToOid(p.algorithmIdentifier);if(!(x===Ue.oids.md2||x===Ue.oids.md5||x===Ue.oids.sha1||x===Ue.oids.sha224||x===Ue.oids.sha256||x===Ue.oids.sha384||x===Ue.oids.sha512||x===Ue.oids["sha512-224"]||x===Ue.oids["sha512-256"])){var y=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw y.oid=x,y}if((x===Ue.oids.md2||x===Ue.oids.md5)&&!("parameters"in p))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===p.digest}}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:function(c,f){return f=xs(f,r,!0),c===f}});var u=Ze.rsa.decrypt(i,r,!0,!1);return s.verify(n,u,r.n.bitLength())},r};Ze.setRsaPrivateKey=Ze.rsa.setPrivateKey=function(e,t,r,n,i,s,l,u){var c={n:e,e:t,d:r,p:n,q:i,dP:s,dQ:l,qInv:u};return c.decrypt=function(f,d,p){typeof d=="string"?d=d.toUpperCase():d===void 0&&(d="RSAES-PKCS1-V1_5");var v=Ze.rsa.decrypt(f,c,!1,!1);if(d==="RSAES-PKCS1-V1_5")d={decode:xs};else if(d==="RSA-OAEP"||d==="RSAES-OAEP")d={decode:function(y,x){return Ue.pkcs1.decode_rsa_oaep(x,y,p)}};else if(["RAW","NONE","NULL",null].indexOf(d)!==-1)d={decode:function(y){return y}};else throw new Error('Unsupported encryption scheme: "'+d+'".');return d.decode(v,c,!1)},c.sign=function(f,d){var p=!1;typeof d=="string"&&(d=d.toUpperCase()),d===void 0||d==="RSASSA-PKCS1-V1_5"?(d={encode:$E},p=1):(d==="NONE"||d==="NULL"||d===null)&&(d={encode:function(){return f}},p=1);var v=d.encode(f,c.n.bitLength());return Ze.rsa.encrypt(v,c,p)},c};Ze.wrapRsaPrivateKey=function(e){return J.create(J.Class.UNIVERSAL,J.Type.SEQUENCE,!0,[J.create(J.Class.UNIVERSAL,J.Type.INTEGER,!1,J.integerToDer(0).getBytes()),J.create(J.Class.UNIVERSAL,J.Type.SEQUENCE,!0,[J.create(J.Class.UNIVERSAL,J.Type.OID,!1,J.oidToDer(Ze.oids.rsaEncryption).getBytes()),J.create(J.Class.UNIVERSAL,J.Type.NULL,!1,"")]),J.create(J.Class.UNIVERSAL,J.Type.OCTETSTRING,!1,J.toDer(e).getBytes())])};Ze.privateKeyFromAsn1=function(e){var t={},r=[];if(J.validate(e,YE,t,r)&&(e=J.fromDer(Ue.util.createBuffer(t.privateKey))),t={},r=[],!J.validate(e,XE,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,l,u,c,f,d,p;return i=Ue.util.createBuffer(t.privateKeyModulus).toHex(),s=Ue.util.createBuffer(t.privateKeyPublicExponent).toHex(),l=Ue.util.createBuffer(t.privateKeyPrivateExponent).toHex(),u=Ue.util.createBuffer(t.privateKeyPrime1).toHex(),c=Ue.util.createBuffer(t.privateKeyPrime2).toHex(),f=Ue.util.createBuffer(t.privateKeyExponent1).toHex(),d=Ue.util.createBuffer(t.privateKeyExponent2).toHex(),p=Ue.util.createBuffer(t.privateKeyCoefficient).toHex(),Ze.setRsaPrivateKey(new xt(i,16),new xt(s,16),new xt(l,16),new xt(u,16),new xt(c,16),new xt(f,16),new xt(d,16),new xt(p,16))};Ze.privateKeyToAsn1=Ze.privateKeyToRSAPrivateKey=function(e){return J.create(J.Class.UNIVERSAL,J.Type.SEQUENCE,!0,[J.create(J.Class.UNIVERSAL,J.Type.INTEGER,!1,J.integerToDer(0).getBytes()),J.create(J.Class.UNIVERSAL,J.Type.INTEGER,!1,Un(e.n)),J.create(J.Class.UNIVERSAL,J.Type.INTEGER,!1,Un(e.e)),J.create(J.Class.UNIVERSAL,J.Type.INTEGER,!1,Un(e.d)),J.create(J.Class.UNIVERSAL,J.Type.INTEGER,!1,Un(e.p)),J.create(J.Class.UNIVERSAL,J.Type.INTEGER,!1,Un(e.q)),J.create(J.Class.UNIVERSAL,J.Type.INTEGER,!1,Un(e.dP)),J.create(J.Class.UNIVERSAL,J.Type.INTEGER,!1,Un(e.dQ)),J.create(J.Class.UNIVERSAL,J.Type.INTEGER,!1,Un(e.qInv))])};Ze.publicKeyFromAsn1=function(e){var t={},r=[];if(J.validate(e,JE,t,r)){var n=J.derToOid(t.publicKeyOid);if(n!==Ze.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!J.validate(e,ZE,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=Ue.util.createBuffer(t.publicKeyModulus).toHex(),l=Ue.util.createBuffer(t.publicKeyExponent).toHex();return Ze.setRsaPublicKey(new xt(s,16),new xt(l,16))};Ze.publicKeyToAsn1=Ze.publicKeyToSubjectPublicKeyInfo=function(e){return J.create(J.Class.UNIVERSAL,J.Type.SEQUENCE,!0,[J.create(J.Class.UNIVERSAL,J.Type.SEQUENCE,!0,[J.create(J.Class.UNIVERSAL,J.Type.OID,!1,J.oidToDer(Ze.oids.rsaEncryption).getBytes()),J.create(J.Class.UNIVERSAL,J.Type.NULL,!1,"")]),J.create(J.Class.UNIVERSAL,J.Type.BITSTRING,!1,[Ze.publicKeyToRSAPublicKey(e)])])};Ze.publicKeyToRSAPublicKey=function(e){return J.create(J.Class.UNIVERSAL,J.Type.SEQUENCE,!0,[J.create(J.Class.UNIVERSAL,J.Type.INTEGER,!1,Un(e.n)),J.create(J.Class.UNIVERSAL,J.Type.INTEGER,!1,Un(e.e))])};function sp(e,t,r){var n=Ue.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=e.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var l=i-3-e.length,u;if(r===0||r===1){u=r===0?0:255;for(var c=0;c<l;++c)n.putByte(u)}else for(;l>0;){for(var f=0,d=Ue.random.getBytes(l),c=0;c<l;++c)u=d.charCodeAt(c),u===0?++f:n.putByte(u);l=f}return n.putByte(0),n.putBytes(e),n}function xs(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),s=Ue.util.createBuffer(e),l=s.getByte(),u=s.getByte();if(l!==0||r&&u!==0&&u!==1||!r&&u!=2||r&&u===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(u===0){c=i-3-n;for(var f=0;f<c;++f)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(u===1)for(c=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++c}else if(u===2)for(c=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++c}var d=s.getByte();if(d!==0||c!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function e4(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){s(e.pBits,function(u,c){if(u)return r(u);if(e.p=c,e.q!==null)return l(u,e.q);s(e.qBits,l)})}function s(u,c){Ue.prime.generateProbablePrime(u,n,c)}function l(u,c){if(u)return r(u);if(e.q=c,e.p.compareTo(e.q)<0){var f=e.p;e.p=e.q,e.q=f}if(e.p.subtract(xt.ONE).gcd(e.e).compareTo(xt.ONE)!==0){e.p=null,i();return}if(e.q.subtract(xt.ONE).gcd(e.e).compareTo(xt.ONE)!==0){e.q=null,s(e.qBits,l);return}if(e.p1=e.p.subtract(xt.ONE),e.q1=e.q.subtract(xt.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(xt.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,s(e.qBits,l);return}var d=e.e.modInverse(e.phi);e.keys={privateKey:Ze.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:Ze.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}}function Un(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=Ue.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function t4(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function nd(e){return Ue.util.isNodejs&&typeof nu[e]=="function"}function ad(e){return typeof gn.globalScope<"u"&&typeof gn.globalScope.crypto=="object"&&typeof gn.globalScope.crypto.subtle=="object"&&typeof gn.globalScope.crypto.subtle[e]=="function"}function id(e){return typeof gn.globalScope<"u"&&typeof gn.globalScope.msCrypto=="object"&&typeof gn.globalScope.msCrypto.subtle=="object"&&typeof gn.globalScope.msCrypto.subtle[e]=="function"}function sd(e){for(var t=Ue.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}var Be=it;if(typeof r4>"u")var r4=Be.jsbn.BigInteger;var ue=Be.asn1,je=Be.pki=Be.pki||{};je.pbe=Be.pbe=Be.pbe||{};var za=je.oids,n4={name:"EncryptedPrivateKeyInfo",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ue.Class.UNIVERSAL,type:ue.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:ue.Class.UNIVERSAL,type:ue.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},a4={name:"PBES2Algorithms",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:ue.Class.UNIVERSAL,type:ue.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:ue.Class.UNIVERSAL,type:ue.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:ue.Class.UNIVERSAL,type:ue.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:ue.Class.UNIVERSAL,type:ue.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:ue.Class.UNIVERSAL,type:ue.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:ue.Class.UNIVERSAL,type:ue.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:ue.Class.UNIVERSAL,type:ue.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},i4={name:"pkcs-12PbeParams",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:ue.Class.UNIVERSAL,type:ue.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:ue.Class.UNIVERSAL,type:ue.Type.INTEGER,constructed:!1,capture:"iterations"}]};je.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=Be.random.getBytesSync(r.saltSize),i=r.count,s=ue.integerToDer(i),l,u,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var f,d,p;switch(r.algorithm){case"aes128":l=16,f=16,d=za["aes128-CBC"],p=Be.aes.createEncryptionCipher;break;case"aes192":l=24,f=16,d=za["aes192-CBC"],p=Be.aes.createEncryptionCipher;break;case"aes256":l=32,f=16,d=za["aes256-CBC"],p=Be.aes.createEncryptionCipher;break;case"des":l=8,f=8,d=za.desCBC,p=Be.des.createEncryptionCipher;break;default:var v=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw v.algorithm=r.algorithm,v}var y="hmacWith"+r.prfAlgorithm.toUpperCase(),x=lp(y),m=Be.pkcs5.pbkdf2(t,n,i,l,x),C=Be.random.getBytesSync(f),A=p(m);A.start(C),A.update(ue.toDer(e)),A.finish(),c=A.output.getBytes();var S=s4(n,s,l,y);u=ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[ue.create(ue.Class.UNIVERSAL,ue.Type.OID,!1,ue.oidToDer(za.pkcs5PBES2).getBytes()),ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[ue.create(ue.Class.UNIVERSAL,ue.Type.OID,!1,ue.oidToDer(za.pkcs5PBKDF2).getBytes()),S]),ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[ue.create(ue.Class.UNIVERSAL,ue.Type.OID,!1,ue.oidToDer(d).getBytes()),ue.create(ue.Class.UNIVERSAL,ue.Type.OCTETSTRING,!1,C)])])])}else if(r.algorithm==="3des"){l=24;var E=new Be.util.ByteBuffer(n),m=je.pbe.generatePkcs12Key(t,E,1,i,l),C=je.pbe.generatePkcs12Key(t,E,2,i,l),A=Be.des.createEncryptionCipher(m);A.start(C),A.update(ue.toDer(e)),A.finish(),c=A.output.getBytes(),u=ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[ue.create(ue.Class.UNIVERSAL,ue.Type.OID,!1,ue.oidToDer(za["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[ue.create(ue.Class.UNIVERSAL,ue.Type.OCTETSTRING,!1,n),ue.create(ue.Class.UNIVERSAL,ue.Type.INTEGER,!1,s.getBytes())])])}else{var v=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw v.algorithm=r.algorithm,v}var R=ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[u,ue.create(ue.Class.UNIVERSAL,ue.Type.OCTETSTRING,!1,c)]);return R};je.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!ue.validate(e,n4,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var l=ue.derToOid(n.encryptionOid),u=je.pbe.getCipher(l,n.encryptionParams,t),c=Be.util.createBuffer(n.encryptedData);return u.update(c),u.finish()&&(r=ue.fromDer(u.output)),r};je.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:ue.toDer(e).getBytes()};return Be.pem.encode(r,{maxline:t})};je.encryptedPrivateKeyFromPem=function(e){var t=Be.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return ue.fromDer(t.body)};je.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=je.wrapRsaPrivateKey(je.privateKeyToAsn1(e));return n=je.encryptPrivateKeyInfo(n,t,r),je.encryptedPrivateKeyToPem(n)}var i,s,l,u;switch(r.algorithm){case"aes128":i="AES-128-CBC",l=16,s=Be.random.getBytesSync(16),u=Be.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",l=24,s=Be.random.getBytesSync(16),u=Be.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",l=32,s=Be.random.getBytesSync(16),u=Be.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",l=24,s=Be.random.getBytesSync(8),u=Be.des.createEncryptionCipher;break;case"des":i="DES-CBC",l=8,s=Be.random.getBytesSync(8),u=Be.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var f=Be.pbe.opensslDeriveBytes(t,s.substr(0,8),l),d=u(f);d.start(s),d.update(ue.toDer(je.privateKeyToAsn1(e))),d.finish();var p={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:Be.util.bytesToHex(s).toUpperCase()},body:d.output.getBytes()};return Be.pem.encode(p)};je.decryptRsaPrivateKey=function(e,t){var r=null,n=Be.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,l;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,l=Be.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,l=Be.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,l=Be.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,l=Be.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,l=Be.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,l=function(p){return Be.rc2.createDecryptionCipher(p,40)};break;case"RC2-64-CBC":s=8,l=function(p){return Be.rc2.createDecryptionCipher(p,64)};break;case"RC2-128-CBC":s=16,l=function(p){return Be.rc2.createDecryptionCipher(p,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var u=Be.util.hexToBytes(n.dekInfo.parameters),c=Be.pbe.opensslDeriveBytes(t,u.substr(0,8),s),f=l(c);if(f.start(u),f.update(Be.util.createBuffer(n.body)),f.finish())r=f.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=je.decryptPrivateKeyInfo(ue.fromDer(r),t):r=ue.fromDer(r),r!==null&&(r=je.privateKeyFromAsn1(r)),r};je.pbe.generatePkcs12Key=function(e,t,r,n,i,s){var l,u;if(typeof s>"u"||s===null){if(!("sha1"in Be.md))throw new Error('"sha1" hash algorithm unavailable.');s=Be.md.sha1.create()}var c=s.digestLength,f=s.blockLength,d=new Be.util.ByteBuffer,p=new Be.util.ByteBuffer;if(e!=null){for(u=0;u<e.length;u++)p.putInt16(e.charCodeAt(u));p.putInt16(0)}var v=p.length(),y=t.length(),x=new Be.util.ByteBuffer;x.fillWithByte(r,f);var m=f*Math.ceil(y/f),C=new Be.util.ByteBuffer;for(u=0;u<m;u++)C.putByte(t.at(u%y));var A=f*Math.ceil(v/f),S=new Be.util.ByteBuffer;for(u=0;u<A;u++)S.putByte(p.at(u%v));var E=C;E.putBuffer(S);for(var R=Math.ceil(i/c),k=1;k<=R;k++){var N=new Be.util.ByteBuffer;N.putBytes(x.bytes()),N.putBytes(E.bytes());for(var D=0;D<n;D++)s.start(),s.update(N.getBytes()),N=s.digest();var F=new Be.util.ByteBuffer;for(u=0;u<f;u++)F.putByte(N.at(u%c));var j=Math.ceil(y/f)+Math.ceil(v/f),P=new Be.util.ByteBuffer;for(l=0;l<j;l++){var O=new Be.util.ByteBuffer(E.getBytes(f)),q=511;for(u=F.length()-1;u>=0;u--)q=q>>8,q+=F.at(u)+O.at(u),O.setAt(u,q&255);P.putBuffer(O)}E=P,d.putBuffer(N)}return d.truncate(d.length()-i),d};je.pbe.getCipher=function(e,t,r){switch(e){case je.oids.pkcs5PBES2:return je.pbe.getCipherForPBES2(e,t,r);case je.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case je.oids["pbewithSHAAnd40BitRC2-CBC"]:return je.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};je.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!ue.validate(t,a4,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(e=ue.derToOid(n.kdfOid),e!==je.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=e,s.supportedOids=["pkcs5PBKDF2"],s}if(e=ue.derToOid(n.encOid),e!==je.oids["aes128-CBC"]&&e!==je.oids["aes192-CBC"]&&e!==je.oids["aes256-CBC"]&&e!==je.oids["des-EDE3-CBC"]&&e!==je.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=e,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var l=n.kdfSalt,u=Be.util.createBuffer(n.kdfIterationCount);u=u.getInt(u.length()<<3);var c,f;switch(je.oids[e]){case"aes128-CBC":c=16,f=Be.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,f=Be.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,f=Be.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,f=Be.des.createDecryptionCipher;break;case"desCBC":c=8,f=Be.des.createDecryptionCipher;break}var d=op(n.prfOid),p=Be.pkcs5.pbkdf2(r,l,u,c,d),v=n.encIv,y=f(p);return y.start(v),y};je.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!ue.validate(t,i4,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var l=Be.util.createBuffer(n.salt),u=Be.util.createBuffer(n.iterations);u=u.getInt(u.length()<<3);var c,f,d;switch(e){case je.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,f=8,d=Be.des.startDecrypting;break;case je.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,f=8,d=function(m,C){var A=Be.rc2.createDecryptionCipher(m,40);return A.start(C,null),A};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=e,s}var p=op(n.prfOid),v=je.pbe.generatePkcs12Key(r,l,1,u,c,p);p.start();var y=je.pbe.generatePkcs12Key(r,l,2,u,f,p);return d(v,y)};je.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in Be.md))throw new Error('"md5" hash algorithm unavailable.');n=Be.md.md5.create()}t===null&&(t="");for(var i=[od(n,e+t)],s=16,l=1;s<r;++l,s+=16)i.push(od(n,i[l-1]+e+t));return i.join("").substr(0,r)};function od(e,t){return e.start().update(t).digest().getBytes()}function op(e){var t;if(!e)t="hmacWithSHA1";else if(t=je.oids[ue.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return lp(t)}function lp(e){var t=Be.md;switch(e){case"hmacWithSHA224":t=Be.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function s4(e,t,r,n){var i=ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[ue.create(ue.Class.UNIVERSAL,ue.Type.OCTETSTRING,!1,e),ue.create(ue.Class.UNIVERSAL,ue.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(ue.create(ue.Class.UNIVERSAL,ue.Type.INTEGER,!1,Be.util.hexToBytes(r.toString(16))),ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[ue.create(ue.Class.UNIVERSAL,ue.Type.OID,!1,ue.oidToDer(je.oids[n]).getBytes()),ue.create(ue.Class.UNIVERSAL,ue.Type.NULL,!1,"")])),i}var Ni=it,Te=Ni.asn1,Vi=Ni.pkcs7asn1=Ni.pkcs7asn1||{};Ni.pkcs7=Ni.pkcs7||{};Ni.pkcs7.asn1=Vi;var up={name:"ContentInfo",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Te.Class.UNIVERSAL,type:Te.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Te.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};Vi.contentInfoValidator=up;var fp={name:"EncryptedContentInfo",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Te.Class.UNIVERSAL,type:Te.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Te.Class.UNIVERSAL,type:Te.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Te.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Te.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};Vi.envelopedDataValidator={name:"EnvelopedData",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Te.Class.UNIVERSAL,type:Te.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(fp)};Vi.encryptedDataValidator={name:"EncryptedData",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Te.Class.UNIVERSAL,type:Te.Type.INTEGER,constructed:!1,capture:"version"}].concat(fp)};var o4={name:"SignerInfo",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Te.Class.UNIVERSAL,type:Te.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Te.Class.UNIVERSAL,type:Te.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Te.Class.UNIVERSAL,type:Te.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Te.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Te.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Te.Class.UNIVERSAL,type:Te.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Te.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};Vi.signedDataValidator={name:"SignedData",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Te.Class.UNIVERSAL,type:Te.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},up,{name:"SignedData.Certificates",tagClass:Te.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Te.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SET,capture:"signerInfos",optional:!0,value:[o4]}]};Vi.recipientInfoValidator={name:"RecipientInfo",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Te.Class.UNIVERSAL,type:Te.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Te.Class.UNIVERSAL,type:Te.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Te.Class.UNIVERSAL,type:Te.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Te.Class.UNIVERSAL,type:Te.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Te.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:Te.Class.UNIVERSAL,type:Te.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]};var ei=it;ei.mgf=ei.mgf||{};var l4=ei.mgf.mgf1=ei.mgf1=ei.mgf1||{};l4.create=function(e){var t={generate:function(r,n){for(var i=new ei.util.ByteBuffer,s=Math.ceil(n/e.digestLength),l=0;l<s;l++){var u=new ei.util.ByteBuffer;u.putInt32(l),e.start(),e.update(r+u.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()}};return t};var ms=it;ms.mgf=ms.mgf||{};ms.mgf.mgf1=ms.mgf1;var Ga=it,u4=Ga.pss=Ga.pss||{};u4.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=Ga.util.createBuffer(i));var s;if("saltLength"in e)s=e.saltLength;else if(i!==null)s=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==s)throw new Error("Given salt length does not match length of given salt.");var l=e.prng||Ga.random,u={};return u.encode=function(c,f){var d,p=f-1,v=Math.ceil(p/8),y=c.digest().getBytes();if(v<n+s+2)throw new Error("Message is too long to encrypt.");var x;i===null?x=l.getBytesSync(s):x=i.bytes();var m=new Ga.util.ByteBuffer;m.fillWithByte(0,8),m.putBytes(y),m.putBytes(x),t.start(),t.update(m.getBytes());var C=t.digest().getBytes(),A=new Ga.util.ByteBuffer;A.fillWithByte(0,v-s-n-2),A.putByte(1),A.putBytes(x);var S=A.getBytes(),E=v-n-1,R=r.generate(C,E),k="";for(d=0;d<E;d++)k+=String.fromCharCode(S.charCodeAt(d)^R.charCodeAt(d));var N=65280>>8*v-p&255;return k=String.fromCharCode(k.charCodeAt(0)&~N)+k.substr(1),k+C+String.fromCharCode(188)},u.verify=function(c,f,d){var p,v=d-1,y=Math.ceil(v/8);if(f=f.substr(-y),y<n+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(f.charCodeAt(y-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var x=y-n-1,m=f.substr(0,x),C=f.substr(x,n),A=65280>>8*y-v&255;if(m.charCodeAt(0)&A)throw new Error("Bits beyond keysize not zero as expected.");var S=r.generate(C,x),E="";for(p=0;p<x;p++)E+=String.fromCharCode(m.charCodeAt(p)^S.charCodeAt(p));E=String.fromCharCode(E.charCodeAt(0)&~A)+E.substr(1);var R=y-n-s-2;for(p=0;p<R;p++)if(E.charCodeAt(p)!==0)throw new Error("Leftmost octets not zero as expected");if(E.charCodeAt(R)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var k=E.substr(-s),N=new Ga.util.ByteBuffer;N.fillWithByte(0,8),N.putBytes(c),N.putBytes(k),t.start(),t.update(N.getBytes());var D=t.digest().getBytes();return C===D},u};var Oe=it,b=Oe.asn1,Ce=Oe.pki=Oe.pki||{},vt=Ce.oids,Yt={};Yt.CN=vt.commonName;Yt.commonName="CN";Yt.C=vt.countryName;Yt.countryName="C";Yt.L=vt.localityName;Yt.localityName="L";Yt.ST=vt.stateOrProvinceName;Yt.stateOrProvinceName="ST";Yt.O=vt.organizationName;Yt.organizationName="O";Yt.OU=vt.organizationalUnitName;Yt.organizationalUnitName="OU";Yt.E=vt.emailAddress;Yt.emailAddress="E";var cp=Oe.pki.rsa.publicKeyValidator,f4={name:"Certificate",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:b.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:b.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:b.Class.UNIVERSAL,type:b.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:b.Class.UNIVERSAL,type:b.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:b.Class.UNIVERSAL,type:b.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:b.Class.UNIVERSAL,type:b.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},cp,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:b.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:b.Class.UNIVERSAL,type:b.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:b.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:b.Class.UNIVERSAL,type:b.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:b.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:b.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:b.Class.UNIVERSAL,type:b.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},c4={name:"rsapss",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:b.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:b.Class.UNIVERSAL,type:b.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:b.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:b.Class.UNIVERSAL,type:b.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:b.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:b.Class.UNIVERSAL,type:b.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:b.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:b.Class.UNIVERSAL,type:b.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},h4={name:"CertificationRequestInfo",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},cp,{name:"CertificationRequestInfo.attributes",tagClass:b.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:b.Class.UNIVERSAL,type:b.Type.SET,constructed:!0}]}]}]},d4={name:"CertificationRequest",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[h4,{name:"CertificationRequest.signatureAlgorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:b.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:b.Class.UNIVERSAL,type:b.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};Ce.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,s,l=0;l<e.value.length;++l){n=e.value[l];for(var u=0;u<n.value.length;++u)s={},i=n.value[u],s.type=b.derToOid(i.value[0].value),s.value=i.value[1].value,s.valueTagClass=i.value[1].type,s.type in vt&&(s.name=vt[s.type],s.name in Yt&&(s.shortName=Yt[s.name])),t&&(t.update(s.type),t.update(s.value)),r.push(s)}return r};Ce.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=b.derToOid(n.value[0].value),s=n.value[1].value,l=0;l<s.length;++l){var u={};if(u.type=i,u.value=s[l].value,u.valueTagClass=s[l].type,u.type in vt&&(u.name=vt[u.type],u.name in Yt&&(u.shortName=Yt[u.name])),u.type===vt.extensionRequest){u.extensions=[];for(var c=0;c<u.value.length;++c)u.extensions.push(Ce.certificateExtensionFromAsn1(u.value[c]))}t.push(u)}return t};function wa(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}var Cs=function(e,t,r){var n={};if(e!==vt["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:vt.sha1},mgf:{algorithmOid:vt.mgf1,hash:{algorithmOid:vt.sha1}},saltLength:20});var i={},s=[];if(!b.validate(t,c4,i,s)){var l=new Error("Cannot read RSASSA-PSS parameter block.");throw l.errors=s,l}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=b.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=b.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=b.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},Os=function(e){switch(vt[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return Oe.md.sha1.create();case"md5WithRSAEncryption":return Oe.md.md5.create();case"sha256WithRSAEncryption":return Oe.md.sha256.create();case"sha384WithRSAEncryption":return Oe.md.sha384.create();case"sha512WithRSAEncryption":return Oe.md.sha512.create();case"RSASSA-PSS":return Oe.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},hp=function(e){var t=e.certificate,r;switch(t.signatureOid){case vt.sha1WithRSAEncryption:case vt.sha1WithRSASignature:break;case vt["RSASSA-PSS"]:var n,i;if(n=vt[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||Oe.md[n]===void 0){var s=new Error("Unsupported MGF hash function.");throw s.oid=t.signatureParameters.mgf.hash.algorithmOid,s.name=n,s}if(i=vt[t.signatureParameters.mgf.algorithmOid],i===void 0||Oe.mgf[i]===void 0){var s=new Error("Unsupported MGF function.");throw s.oid=t.signatureParameters.mgf.algorithmOid,s.name=i,s}if(i=Oe.mgf[i].create(Oe.md[n].create()),n=vt[t.signatureParameters.hash.algorithmOid],n===void 0||Oe.md[n]===void 0){var s=new Error("Unsupported RSASSA-PSS hash function.");throw s.oid=t.signatureParameters.hash.algorithmOid,s.name=n,s}r=Oe.pss.create(Oe.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)};Ce.certificateFromPem=function(e,t,r){var n=Oe.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=b.fromDer(n.body,r);return Ce.certificateFromAsn1(s,t)};Ce.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:b.toDer(Ce.certificateToAsn1(e)).getBytes()};return Oe.pem.encode(r,{maxline:t})};Ce.publicKeyFromPem=function(e){var t=Oe.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=b.fromDer(t.body);return Ce.publicKeyFromAsn1(n)};Ce.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:b.toDer(Ce.publicKeyToAsn1(e)).getBytes()};return Oe.pem.encode(r,{maxline:t})};Ce.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:b.toDer(Ce.publicKeyToRSAPublicKey(e)).getBytes()};return Oe.pem.encode(r,{maxline:t})};Ce.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Oe.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=b.toDer(Ce.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=b.toDer(Ce.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var s=r.digest();if(t.encoding==="hex"){var l=s.toHex();return t.delimiter?l.match(/.{2}/g).join(t.delimiter):l}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};Ce.certificationRequestFromPem=function(e,t,r){var n=Oe.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=b.fromDer(n.body,r);return Ce.certificationRequestFromAsn1(s,t)};Ce.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:b.toDer(Ce.certificationRequestToAsn1(e)).getBytes()};return Oe.pem.encode(r,{maxline:t})};Ce.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return wa(e.issuer,t)},e.issuer.addField=function(t){yn([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return wa(e.subject,t)},e.subject.addField=function(t){yn([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){yn(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){yn(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)dp(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||Oe.md.sha1.create();var n=vt[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=Ce.getTBSCertificate(e);var s=b.toDer(e.tbsCertificate);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=i.attributes,s.actualIssuer=n.attributes,s}var l=t.md;if(l===null){l=Os({signatureOid:t.signatureOid,type:"certificate"});var u=t.tbsCertificate||Ce.getTBSCertificate(t),c=b.toDer(u);l.update(c.getBytes())}return l!==null&&(r=hp({certificate:e,md:l,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var s,l,u=0;r&&u<n.attributes.length;++u)s=n.attributes[u],l=i.attributes[u],(s.type!==l.type||s.value!==l.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return Ce.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=vt.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return Oe.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};Ce.certificateFromAsn1=function(e,t){var r={},n=[];if(!b.validate(e,f4,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var s=b.derToOid(r.publicKeyOid);if(s!==Ce.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var l=Ce.createCertificate();l.version=r.certVersion?r.certVersion.charCodeAt(0):0;var u=Oe.util.createBuffer(r.certSerialNumber);l.serialNumber=u.toHex(),l.signatureOid=Oe.asn1.derToOid(r.certSignatureOid),l.signatureParameters=Cs(l.signatureOid,r.certSignatureParams,!0),l.siginfo.algorithmOid=Oe.asn1.derToOid(r.certinfoSignatureOid),l.siginfo.parameters=Cs(l.siginfo.algorithmOid,r.certinfoSignatureParams,!1),l.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push(b.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push(b.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push(b.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push(b.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(l.validity.notBefore=c[0],l.validity.notAfter=c[1],l.tbsCertificate=r.tbsCertificate,t){l.md=Os({signatureOid:l.signatureOid,type:"certificate"});var f=b.toDer(l.tbsCertificate);l.md.update(f.getBytes())}var d=Oe.md.sha1.create(),p=b.toDer(r.certIssuer);d.update(p.getBytes()),l.issuer.getField=function(x){return wa(l.issuer,x)},l.issuer.addField=function(x){yn([x]),l.issuer.attributes.push(x)},l.issuer.attributes=Ce.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(l.issuer.uniqueId=r.certIssuerUniqueId),l.issuer.hash=d.digest().toHex();var v=Oe.md.sha1.create(),y=b.toDer(r.certSubject);return v.update(y.getBytes()),l.subject.getField=function(x){return wa(l.subject,x)},l.subject.addField=function(x){yn([x]),l.subject.attributes.push(x)},l.subject.attributes=Ce.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(l.subject.uniqueId=r.certSubjectUniqueId),l.subject.hash=v.digest().toHex(),r.certExtensions?l.extensions=Ce.certificateExtensionsFromAsn1(r.certExtensions):l.extensions=[],l.publicKey=Ce.publicKeyFromAsn1(r.subjectPublicKeyInfo),l};Ce.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(Ce.certificateExtensionFromAsn1(n.value[i]));return t};Ce.certificateExtensionFromAsn1=function(e){var t={};if(t.id=b.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===b.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in vt){if(t.name=vt[t.id],t.name==="keyUsage"){var r=b.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(i&128)===128}else if(t.name==="basicConstraints"){var r=b.fromDer(t.value);r.value.length>0&&r.value[0].type===b.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var s=null;r.value.length>0&&r.value[0].type===b.Type.INTEGER?s=r.value[0].value:r.value.length>1&&(s=r.value[1].value),s!==null&&(t.pathLenConstraint=b.derToInteger(s))}else if(t.name==="extKeyUsage")for(var r=b.fromDer(t.value),l=0;l<r.value.length;++l){var u=b.derToOid(r.value[l].value);u in vt?t[vt[u]]=!0:t[u]=!0}else if(t.name==="nsCertType"){var r=b.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=b.fromDer(t.value),f=0;f<r.value.length;++f){c=r.value[f];var d={type:c.type,value:c.value};switch(t.altNames.push(d),c.type){case 1:case 2:case 6:break;case 7:d.ip=Oe.util.bytesToIP(c.value);break;case 8:d.oid=b.derToOid(c.value);break}}}else if(t.name==="subjectKeyIdentifier"){var r=b.fromDer(t.value);t.subjectKeyIdentifier=Oe.util.bytesToHex(r.value)}}return t};Ce.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!b.validate(e,d4,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var s=b.derToOid(r.publicKeyOid);if(s!==Ce.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var l=Ce.createCertificationRequest();if(l.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,l.signatureOid=Oe.asn1.derToOid(r.csrSignatureOid),l.signatureParameters=Cs(l.signatureOid,r.csrSignatureParams,!0),l.siginfo.algorithmOid=Oe.asn1.derToOid(r.csrSignatureOid),l.siginfo.parameters=Cs(l.siginfo.algorithmOid,r.csrSignatureParams,!1),l.signature=r.csrSignature,l.certificationRequestInfo=r.certificationRequestInfo,t){l.md=Os({signatureOid:l.signatureOid,type:"certification request"});var u=b.toDer(l.certificationRequestInfo);l.md.update(u.getBytes())}var c=Oe.md.sha1.create();return l.subject.getField=function(f){return wa(l.subject,f)},l.subject.addField=function(f){yn([f]),l.subject.attributes.push(f)},l.subject.attributes=Ce.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),l.subject.hash=c.digest().toHex(),l.publicKey=Ce.publicKeyFromAsn1(r.subjectPublicKeyInfo),l.getAttribute=function(f){return wa(l,f)},l.addAttribute=function(f){yn([f]),l.attributes.push(f)},l.attributes=Ce.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),l};Ce.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return wa(e.subject,t)},e.subject.addField=function(t){yn([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return wa(e,t)},e.addAttribute=function(t){yn([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){yn(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){yn(t),e.attributes=t},e.sign=function(t,r){e.md=r||Oe.md.sha1.create();var n=vt[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=Ce.getCertificationRequestInfo(e);var s=b.toDer(e.certificationRequestInfo);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=Os({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||Ce.getCertificationRequestInfo(e),i=b.toDer(n);r.update(i.getBytes())}return r!==null&&(t=hp({certificate:e,md:r,signature:e.signature})),t},e};function ki(e){for(var t=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,s=0;s<i.length;++s){r=i[s];var l=r.value,u=b.Type.PRINTABLESTRING;"valueTagClass"in r&&(u=r.valueTagClass,u===b.Type.UTF8&&(l=Oe.util.encodeUtf8(l))),n=b.create(b.Class.UNIVERSAL,b.Type.SET,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(r.type).getBytes()),b.create(b.Class.UNIVERSAL,u,!1,l)])]),t.value.push(n)}return t}function yn(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in Ce.oids?t.name=Ce.oids[t.type]:t.shortName&&t.shortName in Yt&&(t.name=Ce.oids[Yt[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in Ce.oids)t.type=Ce.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in Yt&&(t.shortName=Yt[t.name]),t.type===vt.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=b.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(Ce.certificateExtensionToAsn1(dp(t.extensions[i])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}function dp(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in Ce.oids&&(e.name=Ce.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in Ce.oids)e.id=Ce.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,i=0,s=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(s|=128,n=7);var l=String.fromCharCode(n);s!==0?l+=String.fromCharCode(i)+String.fromCharCode(s):i!==0&&(l+=String.fromCharCode(i)),e.value=b.create(b.Class.UNIVERSAL,b.Type.BITSTRING,!1,l)}else if(e.name==="basicConstraints")e.value=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(b.create(b.Class.UNIVERSAL,b.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,b.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]);var u=e.value.value;for(var c in e)e[c]===!0&&(c in vt?u.push(b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(vt[c]).getBytes())):c.indexOf(".")!==-1&&u.push(b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var l=String.fromCharCode(n);i!==0&&(l+=String.fromCharCode(i)),e.value=b.create(b.Class.UNIVERSAL,b.Type.BITSTRING,!1,l)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]);for(var f,d=0;d<e.altNames.length;++d){f=e.altNames[d];var l=f.value;if(f.type===7&&f.ip){if(l=Oe.util.bytesFromIP(f.ip),l===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else f.type===8&&(f.oid?l=b.oidToDer(b.oidToDer(f.oid)):l=b.oidToDer(l));e.value.value.push(b.create(b.Class.CONTEXT_SPECIFIC,f.type,!1,l))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=b.create(b.Class.UNIVERSAL,b.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var p=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=p.toHex(),e.value=b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,p.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]);var u=e.value.value;if(e.keyIdentifier){var v=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;u.push(b.create(b.Class.CONTEXT_SPECIFIC,0,!1,v))}if(e.authorityCertIssuer){var y=[b.create(b.Class.CONTEXT_SPECIFIC,4,!0,[ki(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];u.push(b.create(b.Class.CONTEXT_SPECIFIC,1,!0,y))}if(e.serialNumber){var x=Oe.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);u.push(b.create(b.Class.CONTEXT_SPECIFIC,2,!1,x))}}else if(e.name==="cRLDistributionPoints"){e.value=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]);for(var u=e.value.value,m=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]),C=b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[]),f,d=0;d<e.altNames.length;++d){f=e.altNames[d];var l=f.value;if(f.type===7&&f.ip){if(l=Oe.util.bytesFromIP(f.ip),l===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else f.type===8&&(f.oid?l=b.oidToDer(b.oidToDer(f.oid)):l=b.oidToDer(l));C.value.push(b.create(b.Class.CONTEXT_SPECIFIC,f.type,!1,l))}m.value.push(b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[C])),u.push(m)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}function Iu(e,t){switch(e){case vt["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(t.hash.algorithmOid).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(b.create(b.Class.CONTEXT_SPECIFIC,1,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(t.mgf.algorithmOid).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(t.mgf.hash.algorithmOid).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(b.create(b.Class.CONTEXT_SPECIFIC,2,!0,[b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,b.integerToDer(t.saltLength).getBytes())])),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,r);default:return b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")}}function p4(e){var t=b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],s=i.value,l=b.Type.UTF8;"valueTagClass"in i&&(l=i.valueTagClass),l===b.Type.UTF8&&(s=Oe.util.encodeUtf8(s));var u=!1;"valueConstructed"in i&&(u=i.valueConstructed);var c=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(i.type).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SET,!0,[b.create(b.Class.UNIVERSAL,l,u,s)])]);t.value.push(c)}return t}var v4=new Date("1950-01-01T00:00:00Z"),g4=new Date("2050-01-01T00:00:00Z");function ld(e){return e>=v4&&e<g4?b.create(b.Class.UNIVERSAL,b.Type.UTCTIME,!1,b.dateToUtcTime(e)):b.create(b.Class.UNIVERSAL,b.Type.GENERALIZEDTIME,!1,b.dateToGeneralizedTime(e))}Ce.getTBSCertificate=function(e){var t=ld(e.validity.notBefore),r=ld(e.validity.notAfter),n=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,b.integerToDer(e.version).getBytes())]),b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,Oe.util.hexToBytes(e.serialNumber)),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(e.siginfo.algorithmOid).getBytes()),Iu(e.siginfo.algorithmOid,e.siginfo.parameters)]),ki(e.issuer),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[t,r]),ki(e.subject),Ce.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(b.create(b.Class.CONTEXT_SPECIFIC,1,!0,[b.create(b.Class.UNIVERSAL,b.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(b.create(b.Class.CONTEXT_SPECIFIC,2,!0,[b.create(b.Class.UNIVERSAL,b.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(Ce.certificateExtensionsToAsn1(e.extensions)),n};Ce.getCertificationRequestInfo=function(e){var t=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,b.integerToDer(e.version).getBytes()),ki(e.subject),Ce.publicKeyToAsn1(e.publicKey),p4(e)]);return t};Ce.distinguishedNameToAsn1=function(e){return ki(e)};Ce.certificateToAsn1=function(e){var t=e.tbsCertificate||Ce.getTBSCertificate(e);return b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[t,b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(e.signatureOid).getBytes()),Iu(e.signatureOid,e.signatureParameters)]),b.create(b.Class.UNIVERSAL,b.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};Ce.certificateExtensionsToAsn1=function(e){var t=b.create(b.Class.CONTEXT_SPECIFIC,3,!0,[]),r=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(Ce.certificateExtensionToAsn1(e[n]));return t};Ce.certificateExtensionToAsn1=function(e){var t=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[]);t.value.push(b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(e.id).getBytes())),e.critical&&t.value.push(b.create(b.Class.UNIVERSAL,b.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return typeof e.value!="string"&&(r=b.toDer(r).getBytes()),t.value.push(b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,r)),t};Ce.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||Ce.getCertificationRequestInfo(e);return b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[t,b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(e.signatureOid).getBytes()),Iu(e.signatureOid,e.signatureParameters)]),b.create(b.Class.UNIVERSAL,b.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};Ce.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(l){var u=r(l.issuer);return u},t.addCertificate=function(l){if(typeof l=="string"&&(l=Oe.pki.certificateFromPem(l)),n(l.subject),!t.hasCertificate(l))if(l.subject.hash in t.certs){var u=t.certs[l.subject.hash];Oe.util.isArray(u)||(u=[u]),u.push(l),t.certs[l.subject.hash]=u}else t.certs[l.subject.hash]=l},t.hasCertificate=function(l){typeof l=="string"&&(l=Oe.pki.certificateFromPem(l));var u=r(l.subject);if(!u)return!1;Oe.util.isArray(u)||(u=[u]);for(var c=b.toDer(Ce.certificateToAsn1(l)).getBytes(),f=0;f<u.length;++f){var d=b.toDer(Ce.certificateToAsn1(u[f])).getBytes();if(c===d)return!0}return!1},t.listAllCertificates=function(){var l=[];for(var u in t.certs)if(t.certs.hasOwnProperty(u)){var c=t.certs[u];if(!Oe.util.isArray(c))l.push(c);else for(var f=0;f<c.length;++f)l.push(c[f])}return l},t.removeCertificate=function(l){var u;if(typeof l=="string"&&(l=Oe.pki.certificateFromPem(l)),n(l.subject),!t.hasCertificate(l))return null;var c=r(l.subject);if(!Oe.util.isArray(c))return u=t.certs[l.subject.hash],delete t.certs[l.subject.hash],u;for(var f=b.toDer(Ce.certificateToAsn1(l)).getBytes(),d=0;d<c.length;++d){var p=b.toDer(Ce.certificateToAsn1(c[d])).getBytes();f===p&&(u=c[d],c.splice(d,1))}return c.length===0&&delete t.certs[l.subject.hash],u};function r(l){return n(l),t.certs[l.hash]||null}function n(l){if(!l.hash){var u=Oe.md.sha1.create();l.attributes=Ce.RDNAttributesAsArray(ki(l),u),l.hash=u.digest().toHex()}}if(e)for(var i=0;i<e.length;++i){var s=e[i];t.addCertificate(s)}return t};Ce.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};Ce.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var s=!0,l=null,u=0;do{var c=t.shift(),f=null,d=!1;if(i&&(i<c.validity.notBefore||i>c.validity.notAfter)&&(l={message:"Certificate is not valid yet or has expired.",error:Ce.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:i}),l===null){if(f=t[0]||e.getIssuer(c),f===null&&c.isIssuer(c)&&(d=!0,f=c),f){var p=f;Oe.util.isArray(p)||(p=[p]);for(var v=!1;!v&&p.length>0;){f=p.shift();try{v=f.verify(c)}catch{}}v||(l={message:"Certificate signature is invalid.",error:Ce.certificateError.bad_certificate})}l===null&&(!f||d)&&!e.hasCertificate(c)&&(l={message:"Certificate is not trusted.",error:Ce.certificateError.unknown_ca})}if(l===null&&f&&!c.isIssuer(f)&&(l={message:"Certificate issuer is invalid.",error:Ce.certificateError.bad_certificate}),l===null)for(var y={keyUsage:!0,basicConstraints:!0},x=0;l===null&&x<c.extensions.length;++x){var m=c.extensions[x];m.critical&&!(m.name in y)&&(l={message:"Certificate has an unsupported critical extension.",error:Ce.certificateError.unsupported_certificate})}if(l===null&&(!s||t.length===0&&(!f||d))){var C=c.getExtension("basicConstraints"),A=c.getExtension("keyUsage");if(A!==null&&(!A.keyCertSign||C===null)&&(l={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:Ce.certificateError.bad_certificate}),l===null&&C!==null&&!C.cA&&(l={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:Ce.certificateError.bad_certificate}),l===null&&A!==null&&"pathLenConstraint"in C){var S=u-1;S>C.pathLenConstraint&&(l={message:"Certificate basicConstraints pathLenConstraint violated.",error:Ce.certificateError.bad_certificate})}}var E=l===null?!0:l.error,R=r.verify?r.verify(E,u,n):E;if(R===!0)l=null;else throw E===!0&&(l={message:"The application rejected the certificate.",error:Ce.certificateError.bad_certificate}),(R||R===0)&&(typeof R=="object"&&!Oe.util.isArray(R)?(R.message&&(l.message=R.message),R.error&&(l.error=R.error)):typeof R=="string"&&(l.error=R)),l;s=!1,++u}while(t.length>0);return!0};var Dt=it,V=Dt.asn1,lt=Dt.pki,c0=Dt.pkcs12=Dt.pkcs12||{},pp={name:"ContentInfo",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:V.Class.UNIVERSAL,type:V.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:V.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},y4={name:"PFX",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:V.Class.UNIVERSAL,type:V.Type.INTEGER,constructed:!1,capture:"version"},pp,{name:"PFX.macData",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:V.Class.UNIVERSAL,type:V.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:V.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:V.Class.UNIVERSAL,type:V.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:V.Class.UNIVERSAL,type:V.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:V.Class.UNIVERSAL,type:V.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},x4={name:"SafeBag",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:V.Class.UNIVERSAL,type:V.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:V.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:V.Class.UNIVERSAL,type:V.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},m4={name:"Attribute",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:V.Class.UNIVERSAL,type:V.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:V.Class.UNIVERSAL,type:V.Type.SET,constructed:!0,capture:"values"}]},C4={name:"CertBag",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:V.Class.UNIVERSAL,type:V.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:V.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:V.Class.UNIVERSAL,type:V.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function t0(e,t,r,n){for(var i=[],s=0;s<e.length;s++)for(var l=0;l<e[s].safeBags.length;l++){var u=e[s].safeBags[l];if(!(n!==void 0&&u.type!==n)){if(t===null){i.push(u);continue}u.attributes[t]!==void 0&&u.attributes[t].indexOf(r)>=0&&i.push(u)}}return i}c0.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!V.validate(e,y4,n,i)){var s=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw s.errors=s,s}var l={version:n.version.charCodeAt(0),safeContents:[],getBags:function(C){var A={},S;return"localKeyId"in C?S=C.localKeyId:"localKeyIdHex"in C&&(S=Dt.util.hexToBytes(C.localKeyIdHex)),S===void 0&&!("friendlyName"in C)&&"bagType"in C&&(A[C.bagType]=t0(l.safeContents,null,null,C.bagType)),S!==void 0&&(A.localKeyId=t0(l.safeContents,"localKeyId",S,C.bagType)),"friendlyName"in C&&(A.friendlyName=t0(l.safeContents,"friendlyName",C.friendlyName,C.bagType)),A},getBagsByFriendlyName:function(C,A){return t0(l.safeContents,"friendlyName",C,A)},getBagsByLocalKeyId:function(C,A){return t0(l.safeContents,"localKeyId",C,A)}};if(n.version.charCodeAt(0)!==3){var s=new Error("PKCS#12 PFX of version other than 3 not supported.");throw s.version=n.version.charCodeAt(0),s}if(V.derToOid(n.contentType)!==lt.oids.data){var s=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw s.oid=V.derToOid(n.contentType),s}var u=n.content.value[0];if(u.tagClass!==V.Class.UNIVERSAL||u.type!==V.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(u=wu(u),n.mac){var c=null,f=0,d=V.derToOid(n.macAlgorithm);switch(d){case lt.oids.sha1:c=Dt.md.sha1.create(),f=20;break;case lt.oids.sha256:c=Dt.md.sha256.create(),f=32;break;case lt.oids.sha384:c=Dt.md.sha384.create(),f=48;break;case lt.oids.sha512:c=Dt.md.sha512.create(),f=64;break;case lt.oids.md5:c=Dt.md.md5.create(),f=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+d);var p=new Dt.util.ByteBuffer(n.macSalt),v="macIterations"in n?parseInt(Dt.util.bytesToHex(n.macIterations),16):1,y=c0.generateKey(r,p,3,v,f,c),x=Dt.hmac.create();x.start(c,y),x.update(u.value);var m=x.getMac();if(m.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return _4(l,u.value,t,r),l};function wu(e){if(e.composed||e.constructed){for(var t=Dt.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function _4(e,t,r,n){if(t=V.fromDer(t,r),t.tagClass!==V.Class.UNIVERSAL||t.type!==V.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var s=t.value[i],l={},u=[];if(!V.validate(s,pp,l,u)){var c=new Error("Cannot read ContentInfo.");throw c.errors=u,c}var f={encrypted:!1},d=null,p=l.content.value[0];switch(V.derToOid(l.contentType)){case lt.oids.data:if(p.tagClass!==V.Class.UNIVERSAL||p.type!==V.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");d=wu(p).value;break;case lt.oids.encryptedData:d=E4(p,n),f.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=V.derToOid(l.contentType),c}f.safeBags=S4(d,r,n),e.safeContents.push(f)}}function E4(e,t){var r={},n=[];if(!V.validate(e,Dt.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var s=V.derToOid(r.contentType);if(s!==lt.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=s,i}s=V.derToOid(r.encAlgorithm);var l=lt.pbe.getCipher(s,r.encParameter,t),u=wu(r.encryptedContentAsn1),c=Dt.util.createBuffer(u.value);if(l.update(c),!l.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return l.output.getBytes()}function S4(e,t,r){if(!t&&e.length===0)return[];if(e=V.fromDer(e,t),e.tagClass!==V.Class.UNIVERSAL||e.type!==V.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var s=e.value[i],l={},u=[];if(!V.validate(s,x4,l,u)){var c=new Error("Cannot read SafeBag.");throw c.errors=u,c}var f={type:V.derToOid(l.bagId),attributes:b4(l.bagAttributes)};n.push(f);var d,p,v=l.bagValue.value[0];switch(f.type){case lt.oids.pkcs8ShroudedKeyBag:if(v=lt.decryptPrivateKeyInfo(v,r),v===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case lt.oids.keyBag:try{f.key=lt.privateKeyFromAsn1(v)}catch{f.key=null,f.asn1=v}continue;case lt.oids.certBag:d=C4,p=function(){if(V.derToOid(l.certId)!==lt.oids.x509Certificate){var x=new Error("Unsupported certificate type, only X.509 supported.");throw x.oid=V.derToOid(l.certId),x}var m=V.fromDer(l.cert,t);try{f.cert=lt.certificateFromAsn1(m,!0)}catch{f.cert=null,f.asn1=m}};break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=f.type,c}if(d!==void 0&&!V.validate(v,d,l,u)){var c=new Error("Cannot read PKCS#12 "+d.name);throw c.errors=u,c}p()}return n}function b4(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!V.validate(e[r],m4,n,i)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=i,s}var l=V.derToOid(n.oid);if(lt.oids[l]!==void 0){t[lt.oids[l]]=[];for(var u=0;u<n.values.length;++u)t[lt.oids[l]].push(n.values[u].value)}}return t}c0.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,s;if(i!==null)i=Dt.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var l=Dt.util.isArray(t)?t[0]:t;typeof l=="string"&&(l=lt.certificateFromPem(l));var u=Dt.md.sha1.create();u.update(V.toDer(lt.certificateToAsn1(l)).getBytes()),i=u.digest().getBytes()}else i=Dt.random.getBytes(20);var c=[];i!==null&&c.push(V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(lt.oids.localKeyId).getBytes()),V.create(V.Class.UNIVERSAL,V.Type.SET,!0,[V.create(V.Class.UNIVERSAL,V.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&c.push(V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(lt.oids.friendlyName).getBytes()),V.create(V.Class.UNIVERSAL,V.Type.SET,!0,[V.create(V.Class.UNIVERSAL,V.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(s=V.create(V.Class.UNIVERSAL,V.Type.SET,!0,c));var f=[],d=[];t!==null&&(Dt.util.isArray(t)?d=t:d=[t]);for(var p=[],v=0;v<d.length;++v){t=d[v],typeof t=="string"&&(t=lt.certificateFromPem(t));var y=v===0?s:void 0,x=lt.certificateToAsn1(t),m=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(lt.oids.certBag).getBytes()),V.create(V.Class.CONTEXT_SPECIFIC,0,!0,[V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(lt.oids.x509Certificate).getBytes()),V.create(V.Class.CONTEXT_SPECIFIC,0,!0,[V.create(V.Class.UNIVERSAL,V.Type.OCTETSTRING,!1,V.toDer(x).getBytes())])])]),y]);p.push(m)}if(p.length>0){var C=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,p),A=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(lt.oids.data).getBytes()),V.create(V.Class.CONTEXT_SPECIFIC,0,!0,[V.create(V.Class.UNIVERSAL,V.Type.OCTETSTRING,!1,V.toDer(C).getBytes())])]);f.push(A)}var S=null;if(e!==null){var E=lt.wrapRsaPrivateKey(lt.privateKeyToAsn1(e));r===null?S=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(lt.oids.keyBag).getBytes()),V.create(V.Class.CONTEXT_SPECIFIC,0,!0,[E]),s]):S=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(lt.oids.pkcs8ShroudedKeyBag).getBytes()),V.create(V.Class.CONTEXT_SPECIFIC,0,!0,[lt.encryptPrivateKeyInfo(E,r,n)]),s]);var R=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[S]),k=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(lt.oids.data).getBytes()),V.create(V.Class.CONTEXT_SPECIFIC,0,!0,[V.create(V.Class.UNIVERSAL,V.Type.OCTETSTRING,!1,V.toDer(R).getBytes())])]);f.push(k)}var N=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,f),D;if(n.useMac){var u=Dt.md.sha1.create(),F=new Dt.util.ByteBuffer(Dt.random.getBytes(n.saltSize)),j=n.count,e=c0.generateKey(r,F,3,j,20),P=Dt.hmac.create();P.start(u,e),P.update(V.toDer(N).getBytes());var O=P.getMac();D=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(lt.oids.sha1).getBytes()),V.create(V.Class.UNIVERSAL,V.Type.NULL,!1,"")]),V.create(V.Class.UNIVERSAL,V.Type.OCTETSTRING,!1,O.getBytes())]),V.create(V.Class.UNIVERSAL,V.Type.OCTETSTRING,!1,F.getBytes()),V.create(V.Class.UNIVERSAL,V.Type.INTEGER,!1,V.integerToDer(j).getBytes())])}return V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.INTEGER,!1,V.integerToDer(3).getBytes()),V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(lt.oids.data).getBytes()),V.create(V.Class.CONTEXT_SPECIFIC,0,!0,[V.create(V.Class.UNIVERSAL,V.Type.OCTETSTRING,!1,V.toDer(N).getBytes())])]),D])};c0.generateKey=Dt.pbe.generatePkcs12Key;var Ra=it,Ru=Ra.asn1,Li=Ra.pki=Ra.pki||{};Li.pemToDer=function(e){var t=Ra.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return Ra.util.createBuffer(t.body)};Li.privateKeyFromPem=function(e){var t=Ra.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=Ru.fromDer(t.body);return Li.privateKeyFromAsn1(n)};Li.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:Ru.toDer(Li.privateKeyToAsn1(e)).getBytes()};return Ra.pem.encode(r,{maxline:t})};Li.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:Ru.toDer(e).getBytes()};return Ra.pem.encode(r,{maxline:t})};var pe=it,Fs=function(e,t,r,n){var i=pe.util.createBuffer(),s=e.length>>1,l=s+(e.length&1),u=e.substr(0,l),c=e.substr(s,l),f=pe.util.createBuffer(),d=pe.hmac.create();r=t+r;var p=Math.ceil(n/16),v=Math.ceil(n/20);d.start("MD5",u);var y=pe.util.createBuffer();f.putBytes(r);for(var x=0;x<p;++x)d.start(null,null),d.update(f.getBytes()),f.putBuffer(d.digest()),d.start(null,null),d.update(f.bytes()+r),y.putBuffer(d.digest());d.start("SHA1",c);var m=pe.util.createBuffer();f.clear(),f.putBytes(r);for(var x=0;x<v;++x)d.start(null,null),d.update(f.getBytes()),f.putBuffer(d.digest()),d.start(null,null),d.update(f.bytes()+r),m.putBuffer(d.digest());return i.putBytes(pe.util.xorBytes(y.getBytes(),m.getBytes(),n)),i},T4=function(e,t,r){var n=pe.hmac.create();n.start("SHA1",e);var i=pe.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},A4=function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=pe.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},B4=function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=pe.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},Zr=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return pe.util.createBuffer(e.getBytes(r))},cn=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},B={};B.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};B.SupportedVersions=[B.Versions.TLS_1_1,B.Versions.TLS_1_0];B.Version=B.SupportedVersions[0];B.MaxFragment=16384-1024;B.ConnectionEnd={server:0,client:1};B.PRFAlgorithm={tls_prf_sha256:0};B.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};B.CipherType={stream:0,block:1,aead:2};B.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};B.CompressionMethod={none:0,deflate:1};B.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};B.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};B.Alert={};B.Alert.Level={warning:1,fatal:2};B.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};B.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};B.CipherSuites={};B.getCipherSuite=function(e){var t=null;for(var r in B.CipherSuites){var n=B.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};B.handleUnexpected=function(e,t){var r=!e.open&&e.entity===B.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.unexpected_message}})};B.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(B.queue(e,B.createAlert(e,{level:B.Alert.Level.warning,description:B.Alert.Description.no_renegotiation})),B.flush(e)),e.process()};B.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===B.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.illegal_parameter}});else{var s=t.fragment,l=s.length();if(n={version:{major:s.getByte(),minor:s.getByte()},random:pe.util.createBuffer(s.getBytes(32)),session_id:Zr(s,1),extensions:[]},i?(n.cipher_suite=s.getBytes(2),n.compression_method=s.getByte()):(n.cipher_suites=Zr(s,2),n.compression_methods=Zr(s,1)),l=r-(l-s.length()),l>0){for(var u=Zr(s,2);u.length()>0;)n.extensions.push({type:[u.getByte(),u.getByte()],data:Zr(u,2)});if(!i)for(var c=0;c<n.extensions.length;++c){var f=n.extensions[c];if(f.type[0]===0&&f.type[1]===0)for(var d=Zr(f.data,2);d.length()>0;){var p=d.getByte();if(p!==0)break;e.session.extensions.server_name.serverNameList.push(Zr(d,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=B.getCipherSuite(n.cipher_suite);else for(var v=pe.util.createBuffer(n.cipher_suites.bytes());v.length()>0&&(e.session.cipherSuite=B.getCipherSuite(v.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.handshake_failure},cipherSuite:pe.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=B.CompressionMethod.none}return n};B.createSecurityParameters=function(e,t){var r=e.entity===B.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,s=r?n:B.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:B.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:s}};B.handleServerHello=function(e,t,r){var n=B.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=vp,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=w4,e.session.resuming=!1,B.createSecurityParameters(e,n)),e.session.id=i,e.process()}};B.handleClientHello=function(e,t,r){var n=B.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),s=null;if(e.sessionCache&&(s=e.sessionCache.getSession(i),s===null?i="":(s.version.major!==n.version.major||s.version.minor>n.version.minor)&&(s=null,i="")),i.length===0&&(i=pe.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},s)e.version=e.session.version=s.version,e.session.sp=s.sp;else{for(var l,u=1;u<B.SupportedVersions.length&&(l=B.SupportedVersions[u],!(l.minor<=n.version.minor));++u);e.version={major:l.major,minor:l.minor},e.session.version=e.version}s!==null?(e.expect=Nu,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?U4:au,e.session.resuming=!1,B.createSecurityParameters(e,n)),e.open=!0,B.queue(e,B.createRecord(e,{type:B.ContentType.handshake,data:B.createServerHello(e)})),e.session.resuming?(B.queue(e,B.createRecord(e,{type:B.ContentType.change_cipher_spec,data:B.createChangeCipherSpec()})),e.state.pending=B.createConnectionState(e),e.state.current.write=e.state.pending.write,B.queue(e,B.createRecord(e,{type:B.ContentType.handshake,data:B.createFinished(e)}))):(B.queue(e,B.createRecord(e,{type:B.ContentType.handshake,data:B.createCertificate(e)})),e.fail||(B.queue(e,B.createRecord(e,{type:B.ContentType.handshake,data:B.createServerKeyExchange(e)})),e.verifyClient!==!1&&B.queue(e,B.createRecord(e,{type:B.ContentType.handshake,data:B.createCertificateRequest(e)})),B.queue(e,B.createRecord(e,{type:B.ContentType.handshake,data:B.createServerHelloDone(e)})))),B.flush(e),e.process()}};B.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:Zr(n,3)},s,l,u=[];try{for(;i.certificate_list.length()>0;)s=Zr(i.certificate_list,3),l=pe.asn1.fromDer(s),s=pe.pki.certificateFromAsn1(l,!0),u.push(s)}catch(f){return e.error(e,{message:"Could not parse certificate list.",cause:f,send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.bad_certificate}})}var c=e.entity===B.ConnectionEnd.client;(c||e.verifyClient===!0)&&u.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.illegal_parameter}}):u.length===0?e.expect=c?ud:au:(c?e.session.serverCertificate=u[0]:e.session.clientCertificate=u[0],B.verifyCertificateChain(e,u)&&(e.expect=c?ud:au)),e.process()};B.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.unsupported_certificate}});e.expect=R4,e.process()};B.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:Zr(n,2).getBytes()},s=null;if(e.getPrivateKey)try{s=e.getPrivateKey(e,e.session.serverCertificate),s=pe.pki.privateKeyFromPem(s)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.internal_error}})}if(s===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.internal_error}});try{var l=e.session.sp;l.pre_master_secret=s.decrypt(i.enc_pre_master_secret);var u=e.session.clientHelloVersion;if(u.major!==l.pre_master_secret.charCodeAt(0)||u.minor!==l.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{l.pre_master_secret=pe.random.getBytes(48)}e.expect=Nu,e.session.clientCertificate!==null&&(e.expect=O4),e.process()};B.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:Zr(n,1),certificate_authorities:Zr(n,2)};e.session.certificateRequest=i,e.expect=N4,e.process()};B.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s={signature:Zr(n,2).getBytes()},l=pe.util.createBuffer();l.putBuffer(e.session.md5.digest()),l.putBuffer(e.session.sha1.digest()),l=l.getBytes();try{var u=e.session.clientCertificate;if(!u.publicKey.verify(l,s.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.handshake_failure}})}e.expect=Nu,e.process()};B.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.insufficient_security}},i=0,s=e.verify(e,n.alert.description,i,[]);if(s!==!0)return(s||s===0)&&(typeof s=="object"&&!pe.util.isArray(s)?(s.message&&(n.message=s.message),s.alert&&(n.alert.description=s.alert)):typeof s=="number"&&(n.alert.description=s)),e.error(e,n)}e.session.certificateRequest!==null&&(t=B.createRecord(e,{type:B.ContentType.handshake,data:B.createCertificate(e)}),B.queue(e,t)),t=B.createRecord(e,{type:B.ContentType.handshake,data:B.createClientKeyExchange(e)}),B.queue(e,t),e.expect=D4;var l=function(u,c){u.session.certificateRequest!==null&&u.session.clientCertificate!==null&&B.queue(u,B.createRecord(u,{type:B.ContentType.handshake,data:B.createCertificateVerify(u,c)})),B.queue(u,B.createRecord(u,{type:B.ContentType.change_cipher_spec,data:B.createChangeCipherSpec()})),u.state.pending=B.createConnectionState(u),u.state.current.write=u.state.pending.write,B.queue(u,B.createRecord(u,{type:B.ContentType.handshake,data:B.createFinished(u)})),u.expect=vp,B.flush(u),u.process()};if(e.session.certificateRequest===null||e.session.clientCertificate===null)return l(e,null);B.getClientSignature(e,l)};B.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.illegal_parameter}});var r=e.entity===B.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=B.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?k4:F4,e.process()};B.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s=t.fragment.getBytes();n=pe.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var l=e.entity===B.ConnectionEnd.client,u=l?"server finished":"client finished",c=e.session.sp,f=12,d=Fs;if(n=d(c.master_secret,u,n.getBytes(),f),n.getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&l||!e.session.resuming&&!l)&&(B.queue(e,B.createRecord(e,{type:B.ContentType.change_cipher_spec,data:B.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,B.queue(e,B.createRecord(e,{type:B.ContentType.handshake,data:B.createFinished(e)}))),e.expect=l?L4:V4,e.handshaking=!1,++e.handshakes,e.peerCertificate=l?e.session.serverCertificate:e.session.clientCertificate,B.flush(e),e.isConnected=!0,e.connected(e),e.process()};B.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case B.Alert.Description.close_notify:i="Connection closed.";break;case B.Alert.Description.unexpected_message:i="Unexpected message.";break;case B.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case B.Alert.Description.decryption_failed:i="Decryption failed.";break;case B.Alert.Description.record_overflow:i="Record overflow.";break;case B.Alert.Description.decompression_failure:i="Decompression failed.";break;case B.Alert.Description.handshake_failure:i="Handshake failure.";break;case B.Alert.Description.bad_certificate:i="Bad certificate.";break;case B.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case B.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case B.Alert.Description.certificate_expired:i="Certificate expired.";break;case B.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case B.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case B.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case B.Alert.Description.access_denied:i="Access denied.";break;case B.Alert.Description.decode_error:i="Decode error.";break;case B.Alert.Description.decrypt_error:i="Decrypt error.";break;case B.Alert.Description.export_restriction:i="Export restriction.";break;case B.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case B.Alert.Description.insufficient_security:i="Insufficient security.";break;case B.Alert.Description.internal_error:i="Internal error.";break;case B.Alert.Description.user_canceled:i="User canceled.";break;case B.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===B.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===B.ConnectionEnd.client?"server":"client",alert:n}),e.process()};B.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=pe.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var s=r.bytes(i+4);r.read+=4,n in _s[e.entity][e.expect]?(e.entity===B.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:pe.md.md5.create(),sha1:pe.md.sha1.create()}),n!==B.HandshakeType.hello_request&&n!==B.HandshakeType.certificate_verify&&n!==B.HandshakeType.finished&&(e.session.md5.update(s),e.session.sha1.update(s)),_s[e.entity][e.expect][n](e,t,i)):B.handleUnexpected(e,t)};B.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};B.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),s=r.getBytes(i);if(n===B.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>s.length)return e.process();B.queue(e,B.createRecord(e,{type:B.ContentType.heartbeat,data:B.createHeartbeat(B.HeartbeatMessageType.heartbeat_response,s)})),B.flush(e)}else if(n===B.HeartbeatMessageType.heartbeat_response){if(s!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,pe.util.createBuffer(s))}e.process()};var I4=0,w4=1,ud=2,R4=3,N4=4,vp=5,k4=6,L4=7,D4=8,P4=0,U4=1,au=2,O4=3,Nu=4,F4=5,V4=6,T=B.handleUnexpected,gp=B.handleChangeCipherSpec,xr=B.handleAlert,Rr=B.handleHandshake,yp=B.handleApplicationData,mr=B.handleHeartbeat,ku=[];ku[B.ConnectionEnd.client]=[[T,xr,Rr,T,mr],[T,xr,Rr,T,mr],[T,xr,Rr,T,mr],[T,xr,Rr,T,mr],[T,xr,Rr,T,mr],[gp,xr,T,T,mr],[T,xr,Rr,T,mr],[T,xr,Rr,yp,mr],[T,xr,Rr,T,mr]];ku[B.ConnectionEnd.server]=[[T,xr,Rr,T,mr],[T,xr,Rr,T,mr],[T,xr,Rr,T,mr],[T,xr,Rr,T,mr],[gp,xr,T,T,mr],[T,xr,Rr,T,mr],[T,xr,Rr,yp,mr],[T,xr,Rr,T,mr]];var Ca=B.handleHelloRequest,M4=B.handleServerHello,xp=B.handleCertificate,fd=B.handleServerKeyExchange,Kl=B.handleCertificateRequest,os=B.handleServerHelloDone,mp=B.handleFinished,_s=[];_s[B.ConnectionEnd.client]=[[T,T,M4,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[Ca,T,T,T,T,T,T,T,T,T,T,xp,fd,Kl,os,T,T,T,T,T,T],[Ca,T,T,T,T,T,T,T,T,T,T,T,fd,Kl,os,T,T,T,T,T,T],[Ca,T,T,T,T,T,T,T,T,T,T,T,T,Kl,os,T,T,T,T,T,T],[Ca,T,T,T,T,T,T,T,T,T,T,T,T,T,os,T,T,T,T,T,T],[Ca,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[Ca,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,mp],[Ca,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[Ca,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T]];var K4=B.handleClientHello,H4=B.handleClientKeyExchange,q4=B.handleCertificateVerify;_s[B.ConnectionEnd.server]=[[T,K4,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,xp,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,H4,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,q4,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,mp],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T]];B.generateKeys=function(e,t){var r=Fs,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,s=e.version.major===B.Versions.TLS_1_0.major&&e.version.minor===B.Versions.TLS_1_0.minor;s&&(i+=2*t.fixed_iv_length);var l=r(t.master_secret,"key expansion",n,i),u={client_write_MAC_key:l.getBytes(t.mac_key_length),server_write_MAC_key:l.getBytes(t.mac_key_length),client_write_key:l.getBytes(t.enc_key_length),server_write_key:l.getBytes(t.enc_key_length)};return s&&(u.client_write_IV=l.getBytes(t.fixed_iv_length),u.server_write_IV=l.getBytes(t.fixed_iv_length)),u};B.createConnectionState=function(e){var t=e.entity===B.ConnectionEnd.client,r=function(){var s={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(l){return!0},compressionState:null,compressFunction:function(l){return!0},updateSequenceNumber:function(){s.sequenceNumber[1]===4294967295?(s.sequenceNumber[1]=0,++s.sequenceNumber[0]):++s.sequenceNumber[1]}};return s},n={read:r(),write:r()};if(n.read.update=function(s,l){return n.read.cipherFunction(l,n.read)?n.read.compressFunction(s,l,n.read)||s.error(s,{message:"Could not decompress record.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.decompression_failure}}):s.error(s,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.bad_record_mac}}),!s.fail},n.write.update=function(s,l){return n.write.compressFunction(s,l,n.write)?n.write.cipherFunction(l,n.write)||s.error(s,{message:"Could not encrypt record.",send:!1,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.internal_error}}):s.error(s,{message:"Could not compress record.",send:!1,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.internal_error}}),!s.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=B.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case B.CompressionMethod.none:break;case B.CompressionMethod.deflate:n.read.compressFunction=B4,n.write.compressFunction=A4;break;default:throw new Error("Unsupported compression algorithm.")}}return n};B.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=pe.util.createBuffer();return r.putInt32(t),r.putBytes(pe.random.getBytes(28)),r};B.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};B.createAlert=function(e,t){var r=pe.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),B.createRecord(e,{type:B.ContentType.alert,data:r})};B.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=pe.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),s=pe.util.createBuffer();s.putByte(B.CompressionMethod.none);var l=s.length(),u=pe.util.createBuffer();if(e.virtualHost){var c=pe.util.createBuffer();c.putByte(0),c.putByte(0);var f=pe.util.createBuffer();f.putByte(0),cn(f,2,pe.util.createBuffer(e.virtualHost));var d=pe.util.createBuffer();cn(d,2,f),cn(c,2,d),u.putBuffer(c)}var p=u.length();p>0&&(p+=2);var v=e.session.id,y=v.length+1+2+4+28+2+i+1+l+p,x=pe.util.createBuffer();return x.putByte(B.HandshakeType.client_hello),x.putInt24(y),x.putByte(e.version.major),x.putByte(e.version.minor),x.putBytes(e.session.sp.client_random),cn(x,1,pe.util.createBuffer(v)),cn(x,2,t),cn(x,1,s),p>0&&cn(x,2,u),x};B.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=pe.util.createBuffer();return n.putByte(B.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),cn(n,1,pe.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};B.createCertificate=function(e){var t=e.entity===B.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=pe.util.createBuffer();if(r!==null)try{pe.util.isArray(r)||(r=[r]);for(var s=null,l=0;l<r.length;++l){var u=pe.pem.decode(r[l])[0];if(u.type!=="CERTIFICATE"&&u.type!=="X509 CERTIFICATE"&&u.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=u.type,c}if(u.procType&&u.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var f=pe.util.createBuffer(u.body);s===null&&(s=pe.asn1.fromDer(f.bytes(),!1));var d=pe.util.createBuffer();cn(d,3,f),i.putBuffer(d)}r=pe.pki.certificateFromAsn1(s),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(y){return e.error(e,{message:"Could not send certificate list.",cause:y,send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.bad_certificate}})}var p=3+i.length(),v=pe.util.createBuffer();return v.putByte(B.HandshakeType.certificate),v.putInt24(p),cn(v,3,i),v};B.createClientKeyExchange=function(e){var t=pe.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(pe.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,s=pe.util.createBuffer();return s.putByte(B.HandshakeType.client_key_exchange),s.putInt24(i),s.putInt16(t.length),s.putBytes(t),s};B.createServerKeyExchange=function(e){var t=pe.util.createBuffer();return t};B.getClientSignature=function(e,t){var r=pe.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,s){var l=null;if(n.getPrivateKey)try{l=n.getPrivateKey(n,n.session.clientCertificate),l=pe.pki.privateKeyFromPem(l)}catch(u){n.error(n,{message:"Could not get private key.",cause:u,send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.internal_error}})}l===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.internal_error}}):i=l.sign(i,null),s(n,i)},e.getSignature(e,r,t)};B.createCertificateVerify=function(e,t){var r=t.length+2,n=pe.util.createBuffer();return n.putByte(B.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};B.createCertificateRequest=function(e){var t=pe.util.createBuffer();t.putByte(1);var r=pe.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],s=pe.pki.distinguishedNameToAsn1(i.subject),l=pe.asn1.toDer(s);r.putInt16(l.length()),r.putBuffer(l)}var u=1+t.length()+2+r.length(),c=pe.util.createBuffer();return c.putByte(B.HandshakeType.certificate_request),c.putInt24(u),cn(c,1,t),cn(c,2,r),c};B.createServerHelloDone=function(e){var t=pe.util.createBuffer();return t.putByte(B.HandshakeType.server_hello_done),t.putInt24(0),t};B.createChangeCipherSpec=function(){var e=pe.util.createBuffer();return e.putByte(1),e};B.createFinished=function(e){var t=pe.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===B.ConnectionEnd.client,n=e.session.sp,i=12,s=Fs,l=r?"client finished":"server finished";t=s(n.master_secret,l,t.getBytes(),i);var u=pe.util.createBuffer();return u.putByte(B.HandshakeType.finished),u.putInt24(t.length()),u.putBuffer(t),u};B.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=pe.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),s=Math.max(16,i-r-3);return n.putBytes(pe.random.getBytes(s)),n};B.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===B.ContentType.handshake||t.type===B.ContentType.alert||t.type===B.ContentType.change_cipher_spec))){if(t.type===B.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=B.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>B.MaxFragment;)n.push(B.createRecord(e,{type:t.type,data:pe.util.createBuffer(i.slice(0,B.MaxFragment))})),i=i.slice(B.MaxFragment);i.length>0&&n.push(B.createRecord(e,{type:t.type,data:pe.util.createBuffer(i)}))}for(var s=0;s<n.length&&!e.fail;++s){var l=n[s],u=e.state.current.write;u.update(e,l)&&e.records.push(l)}}};B.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var Hl=function(e){switch(e){case!0:return!0;case pe.pki.certificateError.bad_certificate:return B.Alert.Description.bad_certificate;case pe.pki.certificateError.unsupported_certificate:return B.Alert.Description.unsupported_certificate;case pe.pki.certificateError.certificate_revoked:return B.Alert.Description.certificate_revoked;case pe.pki.certificateError.certificate_expired:return B.Alert.Description.certificate_expired;case pe.pki.certificateError.certificate_unknown:return B.Alert.Description.certificate_unknown;case pe.pki.certificateError.unknown_ca:return B.Alert.Description.unknown_ca;default:return B.Alert.Description.bad_certificate}},z4=function(e){switch(e){case!0:return!0;case B.Alert.Description.bad_certificate:return pe.pki.certificateError.bad_certificate;case B.Alert.Description.unsupported_certificate:return pe.pki.certificateError.unsupported_certificate;case B.Alert.Description.certificate_revoked:return pe.pki.certificateError.certificate_revoked;case B.Alert.Description.certificate_expired:return pe.pki.certificateError.certificate_expired;case B.Alert.Description.certificate_unknown:return pe.pki.certificateError.certificate_unknown;case B.Alert.Description.unknown_ca:return pe.pki.certificateError.unknown_ca;default:return pe.pki.certificateError.bad_certificate}};B.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(s,l,u){var c=Hl(s),f=e.verify(e,s,l,u);if(f!==!0){if(typeof f=="object"&&!pe.util.isArray(f)){var d=new Error("The application rejected the certificate.");throw d.send=!0,d.alert={level:B.Alert.Level.fatal,description:B.Alert.Description.bad_certificate},f.message&&(d.message=f.message),f.alert&&(d.alert.description=f.alert),d}f!==s&&(f=z4(f))}return f},pe.pki.verifyCertificateChain(e.caStore,t,r)}catch(s){var i=s;(typeof i!="object"||pe.util.isArray(i))&&(i={send:!0,alert:{level:B.Alert.Level.fatal,description:Hl(s)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:B.Alert.Level.fatal,description:Hl(i.error)}),e.error(e,i)}return!e.fail};B.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var s=null,l=null;if(i?l=pe.util.bytesToHex(i):r.order.length>0&&(l=r.order[0]),l!==null&&l in r.cache){s=r.cache[l],delete r.cache[l];for(var u in r.order)if(r.order[u]===l){r.order.splice(u,1);break}}return s},r.setSession=function(i,s){if(r.order.length===r.capacity){var l=r.order.shift();delete r.cache[l]}var l=pe.util.bytesToHex(i);r.order.push(l),r.cache[l]=s}}return r};B.createConnection=function(e){var t=null;e.caStore?pe.util.isArray(e.caStore)?t=pe.pki.createCaStore(e.caStore):t=e.caStore:t=pe.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in B.CipherSuites)r.push(B.CipherSuites[n])}var i=e.server?B.ConnectionEnd.server:B.ConnectionEnd.client,s=e.sessionCache?B.createSessionCache(e.sessionCache):null,l={version:{major:B.Version.major,minor:B.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:s,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(d,p,v,y){return p},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:pe.util.createBuffer(),tlsData:pe.util.createBuffer(),data:pe.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(d,p){p.origin=p.origin||(d.entity===B.ConnectionEnd.client?"client":"server"),p.send&&(B.queue(d,B.createAlert(d,p.alert)),B.flush(d));var v=p.fatal!==!1;v&&(d.fail=!0),e.error(d,p),v&&d.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};l.reset=function(d){l.version={major:B.Version.major,minor:B.Version.minor},l.record=null,l.session=null,l.peerCertificate=null,l.state={pending:null,current:null},l.expect=l.entity===B.ConnectionEnd.client?I4:P4,l.fragmented=null,l.records=[],l.open=!1,l.handshakes=0,l.handshaking=!1,l.isConnected=!1,l.fail=!(d||typeof d>"u"),l.input.clear(),l.tlsData.clear(),l.data.clear(),l.state.current=B.createConnectionState(l)},l.reset();var u=function(d,p){var v=p.type-B.ContentType.change_cipher_spec,y=ku[d.entity][d.expect];v in y?y[v](d,p):B.handleUnexpected(d,p)},c=function(d){var p=0,v=d.input,y=v.length();if(y<5)p=5-y;else{d.record={type:v.getByte(),version:{major:v.getByte(),minor:v.getByte()},length:v.getInt16(),fragment:pe.util.createBuffer(),ready:!1};var x=d.record.version.major===d.version.major;x&&d.session&&d.session.version&&(x=d.record.version.minor===d.version.minor),x||d.error(d,{message:"Incompatible TLS version.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.protocol_version}})}return p},f=function(d){var p=0,v=d.input,y=v.length();if(y<d.record.length)p=d.record.length-y;else{d.record.fragment.putBytes(v.getBytes(d.record.length)),v.compact();var x=d.state.current.read;x.update(d,d.record)&&(d.fragmented!==null&&(d.fragmented.type===d.record.type?(d.fragmented.fragment.putBuffer(d.record.fragment),d.record=d.fragmented):d.error(d,{message:"Invalid fragmented record.",send:!0,alert:{level:B.Alert.Level.fatal,description:B.Alert.Description.unexpected_message}})),d.record.ready=!0)}return p};return l.handshake=function(d){if(l.entity!==B.ConnectionEnd.client)l.error(l,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(l.handshaking)l.error(l,{message:"Handshake already in progress.",fatal:!1});else{l.fail&&!l.open&&l.handshakes===0&&(l.fail=!1),l.handshaking=!0,d=d||"";var p=null;d.length>0&&(l.sessionCache&&(p=l.sessionCache.getSession(d)),p===null&&(d="")),d.length===0&&l.sessionCache&&(p=l.sessionCache.getSession(),p!==null&&(d=p.id)),l.session={id:d,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:pe.md.md5.create(),sha1:pe.md.sha1.create()},p&&(l.version=p.version,l.session.sp=p.sp),l.session.sp.client_random=B.createRandom().getBytes(),l.open=!0,B.queue(l,B.createRecord(l,{type:B.ContentType.handshake,data:B.createClientHello(l)})),B.flush(l)}},l.process=function(d){var p=0;return d&&l.input.putBytes(d),l.fail||(l.record!==null&&l.record.ready&&l.record.fragment.isEmpty()&&(l.record=null),l.record===null&&(p=c(l)),!l.fail&&l.record!==null&&!l.record.ready&&(p=f(l)),!l.fail&&l.record!==null&&l.record.ready&&u(l,l.record)),p},l.prepare=function(d){return B.queue(l,B.createRecord(l,{type:B.ContentType.application_data,data:pe.util.createBuffer(d)})),B.flush(l)},l.prepareHeartbeatRequest=function(d,p){return d instanceof pe.util.ByteBuffer&&(d=d.bytes()),typeof p>"u"&&(p=d.length),l.expectedHeartbeatPayload=d,B.queue(l,B.createRecord(l,{type:B.ContentType.heartbeat,data:B.createHeartbeat(B.HeartbeatMessageType.heartbeat_request,d,p)})),B.flush(l)},l.close=function(d){if(!l.fail&&l.sessionCache&&l.session){var p={id:l.session.id,version:l.session.version,sp:l.session.sp};p.sp.keys=null,l.sessionCache.setSession(p.id,p)}l.open&&(l.open=!1,l.input.clear(),(l.isConnected||l.handshaking)&&(l.isConnected=l.handshaking=!1,B.queue(l,B.createAlert(l,{level:B.Alert.Level.warning,description:B.Alert.Description.close_notify})),B.flush(l)),l.closed(l)),l.reset(d)},l};pe.tls=pe.tls||{};for(var ql in B)typeof B[ql]!="function"&&(pe.tls[ql]=B[ql]);pe.tls.prf_tls1=Fs;pe.tls.hmac_sha1=T4;pe.tls.createSessionCache=B.createSessionCache;pe.tls.createConnection=B.createConnection;var Ia=it,xn=Ia.tls;xn.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=xn.BulkCipherAlgorithm.aes,e.cipher_type=xn.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=xn.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Cp};xn.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=xn.BulkCipherAlgorithm.aes,e.cipher_type=xn.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=xn.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Cp};function Cp(e,t,r){var n=t.entity===Ia.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:Ia.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:Ia.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=Y4,e.write.cipherFunction=G4,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=xn.hmac_sha1}function G4(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===xn.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=Ia.random.getBytesSync(16),t.cipherState.init=!0;var s=t.cipherState.cipher;return s.start({iv:i}),e.version.minor>=xn.Versions.TLS_1_1.minor&&s.output.putBytes(i),s.update(e.fragment),s.finish(W4)&&(e.fragment=s.output,e.length=e.fragment.length(),r=!0),r}function W4(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function Q4(e,t,r){var n=!0;if(r){for(var i=t.length(),s=t.last(),l=i-1-s;l<i-1;++l)n=n&&t.at(l)==s;n&&t.truncate(s+1)}return n}function Y4(e,t){var r=!1,n;e.version.minor===xn.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(Q4);var s=t.macLength,l=Ia.random.getBytesSync(s),u=i.output.length();u>=s?(e.fragment=i.output.getBytes(u-s),l=i.output.getBytes(s)):e.fragment=i.output.getBytes(),e.fragment=Ia.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=X4(t.macKey,l,c)&&r,r}function X4(e,t,r){var n=Ia.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}var Mt=it,p0=Mt.sha512=Mt.sha512||{};Mt.md.sha512=Mt.md.algorithms.sha512=p0;var _p=Mt.sha384=Mt.sha512.sha384=Mt.sha512.sha384||{};_p.create=function(){return p0.create("SHA-384")};Mt.md.sha384=Mt.md.algorithms.sha384=_p;Mt.sha512.sha256=Mt.sha512.sha256||{create:function(){return p0.create("SHA-512/256")}};Mt.md["sha512/256"]=Mt.md.algorithms["sha512/256"]=Mt.sha512.sha256;Mt.sha512.sha224=Mt.sha512.sha224||{create:function(){return p0.create("SHA-512/224")}};Mt.md["sha512/224"]=Mt.md.algorithms["sha512/224"]=Mt.sha512.sha224;p0.create=function(e){if(Ep||Z4(),typeof e>"u"&&(e="SHA-512"),!(e in Wa))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=Wa[e],r=null,n=Mt.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var l=64;switch(e){case"SHA-384":l=48;break;case"SHA-512/256":l=32;break;case"SHA-512/224":l=28;break}var u={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:l,messageLength:0,fullMessageLength:null,messageLengthSize:16};return u.start=function(){u.messageLength=0,u.fullMessageLength=u.messageLength128=[];for(var c=u.messageLengthSize/4,f=0;f<c;++f)u.fullMessageLength.push(0);n=Mt.util.createBuffer(),r=new Array(t.length);for(var f=0;f<t.length;++f)r[f]=t[f].slice(0);return u},u.start(),u.update=function(c,f){f==="utf8"&&(c=Mt.util.encodeUtf8(c));var d=c.length;u.messageLength+=d,d=[d/4294967296>>>0,d>>>0];for(var p=u.fullMessageLength.length-1;p>=0;--p)u.fullMessageLength[p]+=d[1],d[1]=d[0]+(u.fullMessageLength[p]/4294967296>>>0),u.fullMessageLength[p]=u.fullMessageLength[p]>>>0,d[0]=d[1]/4294967296>>>0;return n.putBytes(c),cd(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),u},u.digest=function(){var c=Mt.util.createBuffer();c.putBytes(n.bytes());var f=u.fullMessageLength[u.fullMessageLength.length-1]+u.messageLengthSize,d=f&u.blockLength-1;c.putBytes(iu.substr(0,u.blockLength-d));for(var p,v,y=u.fullMessageLength[0]*8,x=0;x<u.fullMessageLength.length-1;++x)p=u.fullMessageLength[x+1]*8,v=p/4294967296>>>0,y+=v,c.putInt32(y>>>0),y=p>>>0;c.putInt32(y);for(var m=new Array(r.length),x=0;x<r.length;++x)m[x]=r[x].slice(0);cd(m,i,c);var C=Mt.util.createBuffer(),A;e==="SHA-512"?A=m.length:e==="SHA-384"?A=m.length-2:A=m.length-4;for(var x=0;x<A;++x)C.putInt32(m[x][0]),(x!==A-1||e!=="SHA-512/224")&&C.putInt32(m[x][1]);return C},u};var iu=null,Ep=!1,su=null,Wa=null;function Z4(){iu=String.fromCharCode(128),iu+=Mt.util.fillString(String.fromCharCode(0),128),su=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Wa={},Wa["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Wa["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Wa["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Wa["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Ep=!0}function cd(e,t,r){for(var n,i,s,l,u,c,f,d,p,v,y,x,m,C,A,S,E,R,k,N,D,F,j,P,O,q,Z,de,ee,ne,ie,_e,Pe,le,G,$=r.length();$>=128;){for(ee=0;ee<16;++ee)t[ee][0]=r.getInt32()>>>0,t[ee][1]=r.getInt32()>>>0;for(;ee<80;++ee)_e=t[ee-2],ne=_e[0],ie=_e[1],n=((ne>>>19|ie<<13)^(ie>>>29|ne<<3)^ne>>>6)>>>0,i=((ne<<13|ie>>>19)^(ie<<3|ne>>>29)^(ne<<26|ie>>>6))>>>0,le=t[ee-15],ne=le[0],ie=le[1],s=((ne>>>1|ie<<31)^(ne>>>8|ie<<24)^ne>>>7)>>>0,l=((ne<<31|ie>>>1)^(ne<<24|ie>>>8)^(ne<<25|ie>>>7))>>>0,Pe=t[ee-7],G=t[ee-16],ie=i+Pe[1]+l+G[1],t[ee][0]=n+Pe[0]+s+G[0]+(ie/4294967296>>>0)>>>0,t[ee][1]=ie>>>0;for(m=e[0][0],C=e[0][1],A=e[1][0],S=e[1][1],E=e[2][0],R=e[2][1],k=e[3][0],N=e[3][1],D=e[4][0],F=e[4][1],j=e[5][0],P=e[5][1],O=e[6][0],q=e[6][1],Z=e[7][0],de=e[7][1],ee=0;ee<80;++ee)f=((D>>>14|F<<18)^(D>>>18|F<<14)^(F>>>9|D<<23))>>>0,d=((D<<18|F>>>14)^(D<<14|F>>>18)^(F<<23|D>>>9))>>>0,p=(O^D&(j^O))>>>0,v=(q^F&(P^q))>>>0,u=((m>>>28|C<<4)^(C>>>2|m<<30)^(C>>>7|m<<25))>>>0,c=((m<<4|C>>>28)^(C<<30|m>>>2)^(C<<25|m>>>7))>>>0,y=(m&A|E&(m^A))>>>0,x=(C&S|R&(C^S))>>>0,ie=de+d+v+su[ee][1]+t[ee][1],n=Z+f+p+su[ee][0]+t[ee][0]+(ie/4294967296>>>0)>>>0,i=ie>>>0,ie=c+x,s=u+y+(ie/4294967296>>>0)>>>0,l=ie>>>0,Z=O,de=q,O=j,q=P,j=D,P=F,ie=N+i,D=k+n+(ie/4294967296>>>0)>>>0,F=ie>>>0,k=E,N=R,E=A,R=S,A=m,S=C,ie=i+l,m=n+s+(ie/4294967296>>>0)>>>0,C=ie>>>0;ie=e[0][1]+C,e[0][0]=e[0][0]+m+(ie/4294967296>>>0)>>>0,e[0][1]=ie>>>0,ie=e[1][1]+S,e[1][0]=e[1][0]+A+(ie/4294967296>>>0)>>>0,e[1][1]=ie>>>0,ie=e[2][1]+R,e[2][0]=e[2][0]+E+(ie/4294967296>>>0)>>>0,e[2][1]=ie>>>0,ie=e[3][1]+N,e[3][0]=e[3][0]+k+(ie/4294967296>>>0)>>>0,e[3][1]=ie>>>0,ie=e[4][1]+F,e[4][0]=e[4][0]+D+(ie/4294967296>>>0)>>>0,e[4][1]=ie>>>0,ie=e[5][1]+P,e[5][0]=e[5][0]+j+(ie/4294967296>>>0)>>>0,e[5][1]=ie>>>0,ie=e[6][1]+q,e[6][0]=e[6][0]+O+(ie/4294967296>>>0)>>>0,e[6][1]=ie>>>0,ie=e[7][1]+de,e[7][0]=e[7][0]+Z+(ie/4294967296>>>0)>>>0,e[7][1]=ie>>>0,$-=128}}var Lu={},J4=it,ur=J4.asn1;Lu.privateKeyValidator={name:"PrivateKeyInfo",tagClass:ur.Class.UNIVERSAL,type:ur.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:ur.Class.UNIVERSAL,type:ur.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:ur.Class.UNIVERSAL,type:ur.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ur.Class.UNIVERSAL,type:ur.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:ur.Class.UNIVERSAL,type:ur.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};Lu.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:ur.Class.UNIVERSAL,type:ur.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:ur.Class.UNIVERSAL,type:ur.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ur.Class.UNIVERSAL,type:ur.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:ur.Class.UNIVERSAL,type:ur.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]};var Cr=it,Sp=Lu,j4=Sp.publicKeyValidator,$4=Sp.privateKeyValidator;if(typeof eS>"u")var eS=Cr.jsbn.BigInteger;var ou=Cr.util.ByteBuffer,Mr=typeof Buffer>"u"?Uint8Array:Buffer;Cr.pki=Cr.pki||{};Cr.pki.ed25519=Cr.ed25519=Cr.ed25519||{};var ut=Cr.ed25519;ut.constants={};ut.constants.PUBLIC_KEY_BYTE_LENGTH=32;ut.constants.PRIVATE_KEY_BYTE_LENGTH=64;ut.constants.SEED_BYTE_LENGTH=32;ut.constants.SIGN_BYTE_LENGTH=64;ut.constants.HASH_BYTE_LENGTH=64;ut.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=Cr.random.getBytesSync(ut.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==ut.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+ut.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=sa({message:t,encoding:"binary"});for(var r=new Mr(ut.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Mr(ut.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return aS(r,n),{publicKey:r,privateKey:n}};ut.privateKeyFromAsn1=function(e){var t={},r=[],n=Cr.asn1.validate(e,$4,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=Cr.asn1.derToOid(t.privateKeyOid),l=Cr.oids.EdDSA25519;if(s!==l)throw new Error('Invalid OID "'+s+'"; OID must be "'+l+'".');var u=t.privateKey,c=sa({message:Cr.asn1.fromDer(u).value,encoding:"binary"});return{privateKeyBytes:c}};ut.publicKeyFromAsn1=function(e){var t={},r=[],n=Cr.asn1.validate(e,j4,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=Cr.asn1.derToOid(t.publicKeyOid),l=Cr.oids.EdDSA25519;if(s!==l)throw new Error('Invalid OID "'+s+'"; OID must be "'+l+'".');var u=t.ed25519PublicKey;if(u.length!==ut.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return sa({message:u,encoding:"binary"})};ut.publicKeyFromPrivateKey=function(e){e=e||{};var t=sa({message:e.privateKey,encoding:"binary"});if(t.length!==ut.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ut.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Mr(ut.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};ut.sign=function(e){e=e||{};var t=sa(e),r=sa({message:e.privateKey,encoding:"binary"});if(r.length===ut.constants.SEED_BYTE_LENGTH){var n=ut.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==ut.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ut.constants.SEED_BYTE_LENGTH+" or "+ut.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new Mr(ut.constants.SIGN_BYTE_LENGTH+t.length);iS(i,t,t.length,r);for(var s=new Mr(ut.constants.SIGN_BYTE_LENGTH),l=0;l<s.length;++l)s[l]=i[l];return s};ut.verify=function(e){e=e||{};var t=sa(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=sa({message:e.signature,encoding:"binary"});if(r.length!==ut.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+ut.constants.SIGN_BYTE_LENGTH);var n=sa({message:e.publicKey,encoding:"binary"});if(n.length!==ut.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+ut.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new Mr(ut.constants.SIGN_BYTE_LENGTH+t.length),s=new Mr(ut.constants.SIGN_BYTE_LENGTH+t.length),l;for(l=0;l<ut.constants.SIGN_BYTE_LENGTH;++l)i[l]=r[l];for(l=0;l<t.length;++l)i[l+ut.constants.SIGN_BYTE_LENGTH]=t[l];return sS(s,i,i.length,n)>=0};function sa(e){var t=e.message;if(t instanceof Uint8Array||t instanceof Mr)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new ou(t,r)}else if(!(t instanceof ou))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Mr(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}var lu=qe(),Es=qe([1]),tS=qe([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),rS=qe([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),hd=qe([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),dd=qe([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),zl=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),nS=qe([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function o0(e,t){var r=Cr.md.sha512.create(),n=new ou(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var s=new Mr(ut.constants.HASH_BYTE_LENGTH),l=0;l<64;++l)s[l]=i.charCodeAt(l);return s}function aS(e,t){var r=[qe(),qe(),qe(),qe()],n,i=o0(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,Pu(r,i),Du(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}function iS(e,t,r,n){var i,s,l=new Float64Array(64),u=[qe(),qe(),qe(),qe()],c=o0(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var f=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var d=o0(e.subarray(32),r+32);for(uu(d),Pu(u,d),Du(e,u),i=32;i<64;++i)e[i]=n[i];var p=o0(e,r+64);for(uu(p),i=32;i<64;++i)l[i]=0;for(i=0;i<32;++i)l[i]=d[i];for(i=0;i<32;++i)for(s=0;s<32;s++)l[i+s]+=p[i]*c[s];return bp(e.subarray(32),l),f}function sS(e,t,r,n){var i,s,l=new Mr(32),u=[qe(),qe(),qe(),qe()],c=[qe(),qe(),qe(),qe()];if(s=-1,r<64||oS(c,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var f=o0(e,r);if(uu(f),Bp(u,c,f),Pu(c,t.subarray(32)),fu(u,c),Du(l,u),r-=64,Tp(t,0,l,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return s=r,s}function bp(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*zl[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*zl[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*zl[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}function uu(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;bp(e,t)}function fu(e,t){var r=qe(),n=qe(),i=qe(),s=qe(),l=qe(),u=qe(),c=qe(),f=qe(),d=qe();Bi(r,e[1],e[0]),Bi(d,t[1],t[0]),kt(r,r,d),Ti(n,e[0],e[1]),Ti(d,t[0],t[1]),kt(n,n,d),kt(i,e[3],t[3]),kt(i,i,rS),kt(s,e[2],t[2]),Ti(s,s,s),Bi(l,n,r),Bi(u,s,i),Ti(c,s,i),Ti(f,n,r),kt(e[0],l,u),kt(e[1],f,c),kt(e[2],c,u),kt(e[3],l,f)}function pd(e,t,r){for(var n=0;n<4;++n)Ip(e[n],t[n],r)}function Du(e,t){var r=qe(),n=qe(),i=qe();cS(i,t[2]),kt(r,t[0],i),kt(n,t[1],i),Ss(e,n),e[31]^=Ap(r)<<7}function Ss(e,t){var r,n,i,s=qe(),l=qe();for(r=0;r<16;++r)l[r]=t[r];for(Gl(l),Gl(l),Gl(l),n=0;n<2;++n){for(s[0]=l[0]-65517,r=1;r<15;++r)s[r]=l[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=l[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,Ip(l,s,1-i)}for(r=0;r<16;r++)e[2*r]=l[r]&255,e[2*r+1]=l[r]>>8}function oS(e,t){var r=qe(),n=qe(),i=qe(),s=qe(),l=qe(),u=qe(),c=qe();return Aa(e[2],Es),lS(e[1],t),Qa(i,e[1]),kt(s,i,tS),Bi(i,i,e[2]),Ti(s,e[2],s),Qa(l,s),Qa(u,l),kt(c,u,l),kt(r,c,i),kt(r,r,s),uS(r,r),kt(r,r,i),kt(r,r,s),kt(r,r,s),kt(e[0],r,s),Qa(n,e[0]),kt(n,n,s),vd(n,i)&&kt(e[0],e[0],nS),Qa(n,e[0]),kt(n,n,s),vd(n,i)?-1:(Ap(e[0])===t[31]>>7&&Bi(e[0],lu,e[0]),kt(e[3],e[0],e[1]),0)}function lS(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function uS(e,t){var r=qe(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)Qa(r,r),n!==1&&kt(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}function vd(e,t){var r=new Mr(32),n=new Mr(32);return Ss(r,e),Ss(n,t),Tp(r,0,n,0)}function Tp(e,t,r,n){return fS(e,t,r,n,32)}function fS(e,t,r,n,i){var s,l=0;for(s=0;s<i;++s)l|=e[t+s]^r[n+s];return(1&l-1>>>8)-1}function Ap(e){var t=new Mr(32);return Ss(t,e),t[0]&1}function Bp(e,t,r){var n,i;for(Aa(e[0],lu),Aa(e[1],Es),Aa(e[2],Es),Aa(e[3],lu),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,pd(e,t,n),fu(t,e),fu(e,e),pd(e,t,n)}function Pu(e,t){var r=[qe(),qe(),qe(),qe()];Aa(r[0],hd),Aa(r[1],dd),Aa(r[2],Es),kt(r[3],hd,dd),Bp(e,r,t)}function Aa(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}function cS(e,t){var r=qe(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)Qa(r,r),n!==2&&n!==4&&kt(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}function Gl(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}function Ip(e,t,r){for(var n,i=~(r-1),s=0;s<16;++s)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function qe(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function Ti(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function Bi(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function Qa(e,t){kt(e,t,t)}function kt(e,t,r){var n,i,s=0,l=0,u=0,c=0,f=0,d=0,p=0,v=0,y=0,x=0,m=0,C=0,A=0,S=0,E=0,R=0,k=0,N=0,D=0,F=0,j=0,P=0,O=0,q=0,Z=0,de=0,ee=0,ne=0,ie=0,_e=0,Pe=0,le=r[0],G=r[1],$=r[2],oe=r[3],te=r[4],we=r[5],Ae=r[6],Fe=r[7],me=r[8],Re=r[9],st=r[10],$e=r[11],ze=r[12],et=r[13],ke=r[14],rt=r[15];n=t[0],s+=n*le,l+=n*G,u+=n*$,c+=n*oe,f+=n*te,d+=n*we,p+=n*Ae,v+=n*Fe,y+=n*me,x+=n*Re,m+=n*st,C+=n*$e,A+=n*ze,S+=n*et,E+=n*ke,R+=n*rt,n=t[1],l+=n*le,u+=n*G,c+=n*$,f+=n*oe,d+=n*te,p+=n*we,v+=n*Ae,y+=n*Fe,x+=n*me,m+=n*Re,C+=n*st,A+=n*$e,S+=n*ze,E+=n*et,R+=n*ke,k+=n*rt,n=t[2],u+=n*le,c+=n*G,f+=n*$,d+=n*oe,p+=n*te,v+=n*we,y+=n*Ae,x+=n*Fe,m+=n*me,C+=n*Re,A+=n*st,S+=n*$e,E+=n*ze,R+=n*et,k+=n*ke,N+=n*rt,n=t[3],c+=n*le,f+=n*G,d+=n*$,p+=n*oe,v+=n*te,y+=n*we,x+=n*Ae,m+=n*Fe,C+=n*me,A+=n*Re,S+=n*st,E+=n*$e,R+=n*ze,k+=n*et,N+=n*ke,D+=n*rt,n=t[4],f+=n*le,d+=n*G,p+=n*$,v+=n*oe,y+=n*te,x+=n*we,m+=n*Ae,C+=n*Fe,A+=n*me,S+=n*Re,E+=n*st,R+=n*$e,k+=n*ze,N+=n*et,D+=n*ke,F+=n*rt,n=t[5],d+=n*le,p+=n*G,v+=n*$,y+=n*oe,x+=n*te,m+=n*we,C+=n*Ae,A+=n*Fe,S+=n*me,E+=n*Re,R+=n*st,k+=n*$e,N+=n*ze,D+=n*et,F+=n*ke,j+=n*rt,n=t[6],p+=n*le,v+=n*G,y+=n*$,x+=n*oe,m+=n*te,C+=n*we,A+=n*Ae,S+=n*Fe,E+=n*me,R+=n*Re,k+=n*st,N+=n*$e,D+=n*ze,F+=n*et,j+=n*ke,P+=n*rt,n=t[7],v+=n*le,y+=n*G,x+=n*$,m+=n*oe,C+=n*te,A+=n*we,S+=n*Ae,E+=n*Fe,R+=n*me,k+=n*Re,N+=n*st,D+=n*$e,F+=n*ze,j+=n*et,P+=n*ke,O+=n*rt,n=t[8],y+=n*le,x+=n*G,m+=n*$,C+=n*oe,A+=n*te,S+=n*we,E+=n*Ae,R+=n*Fe,k+=n*me,N+=n*Re,D+=n*st,F+=n*$e,j+=n*ze,P+=n*et,O+=n*ke,q+=n*rt,n=t[9],x+=n*le,m+=n*G,C+=n*$,A+=n*oe,S+=n*te,E+=n*we,R+=n*Ae,k+=n*Fe,N+=n*me,D+=n*Re,F+=n*st,j+=n*$e,P+=n*ze,O+=n*et,q+=n*ke,Z+=n*rt,n=t[10],m+=n*le,C+=n*G,A+=n*$,S+=n*oe,E+=n*te,R+=n*we,k+=n*Ae,N+=n*Fe,D+=n*me,F+=n*Re,j+=n*st,P+=n*$e,O+=n*ze,q+=n*et,Z+=n*ke,de+=n*rt,n=t[11],C+=n*le,A+=n*G,S+=n*$,E+=n*oe,R+=n*te,k+=n*we,N+=n*Ae,D+=n*Fe,F+=n*me,j+=n*Re,P+=n*st,O+=n*$e,q+=n*ze,Z+=n*et,de+=n*ke,ee+=n*rt,n=t[12],A+=n*le,S+=n*G,E+=n*$,R+=n*oe,k+=n*te,N+=n*we,D+=n*Ae,F+=n*Fe,j+=n*me,P+=n*Re,O+=n*st,q+=n*$e,Z+=n*ze,de+=n*et,ee+=n*ke,ne+=n*rt,n=t[13],S+=n*le,E+=n*G,R+=n*$,k+=n*oe,N+=n*te,D+=n*we,F+=n*Ae,j+=n*Fe,P+=n*me,O+=n*Re,q+=n*st,Z+=n*$e,de+=n*ze,ee+=n*et,ne+=n*ke,ie+=n*rt,n=t[14],E+=n*le,R+=n*G,k+=n*$,N+=n*oe,D+=n*te,F+=n*we,j+=n*Ae,P+=n*Fe,O+=n*me,q+=n*Re,Z+=n*st,de+=n*$e,ee+=n*ze,ne+=n*et,ie+=n*ke,_e+=n*rt,n=t[15],R+=n*le,k+=n*G,N+=n*$,D+=n*oe,F+=n*te,j+=n*we,P+=n*Ae,O+=n*Fe,q+=n*me,Z+=n*Re,de+=n*st,ee+=n*$e,ne+=n*ze,ie+=n*et,_e+=n*ke,Pe+=n*rt,s+=38*k,l+=38*N,u+=38*D,c+=38*F,f+=38*j,d+=38*P,p+=38*O,v+=38*q,y+=38*Z,x+=38*de,m+=38*ee,C+=38*ne,A+=38*ie,S+=38*_e,E+=38*Pe,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=C+i+65535,i=Math.floor(n/65536),C=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=C+i+65535,i=Math.floor(n/65536),C=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,s+=i-1+37*(i-1),e[0]=s,e[1]=l,e[2]=u,e[3]=c,e[4]=f,e[5]=d,e[6]=p,e[7]=v,e[8]=y,e[9]=x,e[10]=m,e[11]=C,e[12]=A,e[13]=S,e[14]=E,e[15]=R}var Jr=it;Jr.kem=Jr.kem||{};var gd=Jr.jsbn.BigInteger;Jr.kem.rsa={};Jr.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||Jr.random,n={};return n.encrypt=function(i,s){var l=Math.ceil(i.n.bitLength()/8),u;do u=new gd(Jr.util.bytesToHex(r.getBytesSync(l)),16).mod(i.n);while(u.compareTo(gd.ONE)<=0);u=Jr.util.hexToBytes(u.toString(16));var c=l-u.length;c>0&&(u=Jr.util.fillString(String.fromCharCode(0),c)+u);var f=i.encrypt(u,"NONE"),d=e.generate(u,s);return{encapsulation:f,key:d}},n.decrypt=function(i,s,l){var u=i.decrypt(s,"NONE");return e.generate(u,l)},n};Jr.kem.kdf1=function(e,t){wp(this,e,0,t||e.digestLength)};Jr.kem.kdf2=function(e,t){wp(this,e,1,t||e.digestLength)};function wp(e,t,r,n){e.generate=function(i,s){for(var l=new Jr.util.ByteBuffer,u=Math.ceil(s/n)+r,c=new Jr.util.ByteBuffer,f=r;f<u;++f){c.putInt32(f),t.start(),t.update(i+c.getBytes());var d=t.digest();l.putBytes(d.getBytes(n))}return l.truncate(l.length()-s),l.getBytes()}}var ht=it;ht.log=ht.log||{};ht.log.levels=["none","error","warning","info","debug","verbose","max"];var bs={},cu=[],l0=null;ht.log.LEVEL_LOCKED=2;ht.log.NO_LEVEL_CHECK=4;ht.log.INTERPOLATE=8;for(var Ba=0;Ba<ht.log.levels.length;++Ba){var yd=ht.log.levels[Ba];bs[yd]={index:Ba,name:yd.toUpperCase()}}ht.log.logMessage=function(e){for(var t=bs[e.level].index,r=0;r<cu.length;++r){var n=cu[r];if(n.flags&ht.log.NO_LEVEL_CHECK)n.f(e);else{var i=bs[n.level].index;t<=i&&n.f(n,e)}}};ht.log.prepareStandard=function(e){"standard"in e||(e.standard=bs[e.level].name+" ["+e.category+"] "+e.message)};ht.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=ht.util.format.apply(this,t)}};ht.log.prepareStandardFull=function(e){"standardFull"in e||(ht.log.prepareStandard(e),e.standardFull=e.standard)};for(var xd=["error","warning","info","debug","verbose"],Ba=0;Ba<xd.length;++Ba)(function(t){ht.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),s={timestamp:new Date,level:t,category:r,message:n,arguments:i};ht.log.logMessage(s)}})(xd[Ba]);ht.log.makeLogger=function(e){var t={flags:0,f:e};return ht.log.setLevel(t,"none"),t};ht.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&ht.log.LEVEL_LOCKED))for(var n=0;n<ht.log.levels.length;++n){var i=ht.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};ht.log.lock=function(e,t){typeof t>"u"||t?e.flags|=ht.log.LEVEL_LOCKED:e.flags&=~ht.log.LEVEL_LOCKED};ht.log.addLogger=function(e){cu.push(e)};if(typeof console<"u"&&"log"in console){var r0;if(console.error&&console.warn&&console.info&&console.debug){var hS={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},Uu=function(e,t){ht.log.prepareStandard(t);var r=hS[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)};r0=ht.log.makeLogger(Uu)}else{var Uu=function(t,r){ht.log.prepareStandardFull(r),console.log(r.standardFull)};r0=ht.log.makeLogger(Uu)}ht.log.setLevel(r0,"debug"),ht.log.addLogger(r0),l0=r0}else console={log:function(){}};if(l0!==null&&typeof window<"u"&&window.location){var ls=new URL(window.location.href).searchParams;if(ls.has("console.level")&&ht.log.setLevel(l0,ls.get("console.level").slice(-1)[0]),ls.has("console.lock")){var dS=ls.get("console.lock").slice(-1)[0];dS=="true"&&ht.log.lock(l0)}}ht.log.consoleLogger=l0;var Ee=it,K=Ee.asn1,kr=Ee.pkcs7=Ee.pkcs7||{};kr.messageFromPem=function(e){var t=Ee.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=K.fromDer(t.body);return kr.messageFromAsn1(n)};kr.messageToPem=function(e,t){var r={type:"PKCS7",body:K.toDer(e.toAsn1()).getBytes()};return Ee.pem.encode(r,{maxline:t})};kr.messageFromAsn1=function(e){var t={},r=[];if(!K.validate(e,kr.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=K.derToOid(t.contentType),s;switch(i){case Ee.pki.oids.envelopedData:s=kr.createEnvelopedData();break;case Ee.pki.oids.encryptedData:s=kr.createEncryptedData();break;case Ee.pki.oids.signedData:s=kr.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return s.fromAsn1(t.content.value[0]),s};kr.createSignedData=function(){var e=null;return e={type:Ee.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(Ou(e,n,kr.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,s=0;s<i.length;++s)e.certificates.push(Ee.pki.certificateFromAsn1(i[s]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(Ee.pki.certificateToAsn1(e.certificates[i]));var s=[],l=K.create(K.Class.CONTEXT_SPECIFIC,0,!0,[K.create(K.Class.UNIVERSAL,K.Type.SEQUENCE,!0,[K.create(K.Class.UNIVERSAL,K.Type.INTEGER,!1,K.integerToDer(e.version).getBytes()),K.create(K.Class.UNIVERSAL,K.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&l.value[0].value.push(K.create(K.Class.CONTEXT_SPECIFIC,0,!0,n)),s.length>0&&l.value[0].value.push(K.create(K.Class.CONTEXT_SPECIFIC,1,!0,s)),l.value[0].value.push(K.create(K.Class.UNIVERSAL,K.Type.SET,!0,e.signerInfos)),K.create(K.Class.UNIVERSAL,K.Type.SEQUENCE,!0,[K.create(K.Class.UNIVERSAL,K.Type.OID,!1,K.oidToDer(e.type).getBytes()),l])},addSigner:function(n){var i=n.issuer,s=n.serialNumber;if(n.certificate){var l=n.certificate;typeof l=="string"&&(l=Ee.pki.certificateFromPem(l)),i=l.issuer.attributes,s=l.serialNumber}var u=n.key;if(!u)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof u=="string"&&(u=Ee.pki.privateKeyFromPem(u));var c=n.digestAlgorithm||Ee.pki.oids.sha1;switch(c){case Ee.pki.oids.sha1:case Ee.pki.oids.sha256:case Ee.pki.oids.sha384:case Ee.pki.oids.sha512:case Ee.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var f=n.authenticatedAttributes||[];if(f.length>0){for(var d=!1,p=!1,v=0;v<f.length;++v){var y=f[v];if(!d&&y.type===Ee.pki.oids.contentType){if(d=!0,p)break;continue}if(!p&&y.type===Ee.pki.oids.messageDigest){if(p=!0,d)break;continue}}if(!d||!p)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:u,version:1,issuer:i,serialNumber:s,digestAlgorithm:c,signatureAlgorithm:Ee.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:f,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=K.create(K.Class.UNIVERSAL,K.Type.SEQUENCE,!0,[K.create(K.Class.UNIVERSAL,K.Type.OID,!1,K.oidToDer(Ee.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof Ee.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=Ee.util.encodeUtf8(e.content)),n.detached?e.detachedContent=K.create(K.Class.UNIVERSAL,K.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(K.create(K.Class.CONTEXT_SPECIFIC,0,!0,[K.create(K.Class.UNIVERSAL,K.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var s=t();r(s)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=Ee.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var s=e.signers[i],l=s.digestAlgorithm;l in n||(n[l]=Ee.md[Ee.pki.oids[l]].create()),s.authenticatedAttributes.length===0?s.md=n[l]:s.md=Ee.md[Ee.pki.oids[l]].create()}e.digestAlgorithmIdentifiers=[];for(var l in n)e.digestAlgorithmIdentifiers.push(K.create(K.Class.UNIVERSAL,K.Type.SEQUENCE,!0,[K.create(K.Class.UNIVERSAL,K.Type.OID,!1,K.oidToDer(l).getBytes()),K.create(K.Class.UNIVERSAL,K.Type.NULL,!1,"")]));return n}function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=K.derToOid(e.contentInfo.value[0].value),l=K.toDer(i);l.getByte(),K.getBerValueLength(l),l=l.getBytes();for(var u in n)n[u].start().update(l);for(var c=new Date,f=0;f<e.signers.length;++f){var d=e.signers[f];if(d.authenticatedAttributes.length===0){if(s!==Ee.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=K.create(K.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var p=K.create(K.Class.UNIVERSAL,K.Type.SET,!0,[]),v=0;v<d.authenticatedAttributes.length;++v){var y=d.authenticatedAttributes[v];y.type===Ee.pki.oids.messageDigest?y.value=n[d.digestAlgorithm].digest():y.type===Ee.pki.oids.signingTime&&(y.value||(y.value=c)),p.value.push(hu(y)),d.authenticatedAttributesAsn1.value.push(hu(y))}l=K.toDer(p).getBytes(),d.md.start().update(l)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=mS(e.signers)}};kr.createEncryptedData=function(){var e=null;return e={type:Ee.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:Ee.pki.oids["aes256-CBC"]},fromAsn1:function(t){Ou(e,t,kr.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),Rp(e)}},e};kr.createEnvelopedData=function(){var e=null;return e={type:Ee.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:Ee.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=Ou(e,t,kr.asn1.envelopedDataValidator);e.recipients=gS(r.recipientInfos.value)},toAsn1:function(){return K.create(K.Class.UNIVERSAL,K.Type.SEQUENCE,!0,[K.create(K.Class.UNIVERSAL,K.Type.OID,!1,K.oidToDer(e.type).getBytes()),K.create(K.Class.CONTEXT_SPECIFIC,0,!0,[K.create(K.Class.UNIVERSAL,K.Type.SEQUENCE,!0,[K.create(K.Class.UNIVERSAL,K.Type.INTEGER,!1,K.integerToDer(e.version).getBytes()),K.create(K.Class.UNIVERSAL,K.Type.SET,!0,yS(e.recipients)),K.create(K.Class.UNIVERSAL,K.Type.SEQUENCE,!0,CS(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],s=i.issuer;if(i.serialNumber===t.serialNumber&&s.length===r.length){for(var l=!0,u=0;u<r.length;++u)if(s[u].type!==r[u].type||s[u].value!==r[u].value){l=!1;break}if(l)return i}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case Ee.pki.oids.rsaEncryption:case Ee.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=Ee.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}Rp(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:Ee.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,s;switch(r){case Ee.pki.oids["aes128-CBC"]:n=16,i=16,s=Ee.aes.createEncryptionCipher;break;case Ee.pki.oids["aes192-CBC"]:n=24,i=16,s=Ee.aes.createEncryptionCipher;break;case Ee.pki.oids["aes256-CBC"]:n=32,i=16,s=Ee.aes.createEncryptionCipher;break;case Ee.pki.oids["des-EDE3-CBC"]:n=24,i=8,s=Ee.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=Ee.util.createBuffer(Ee.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=Ee.util.createBuffer(Ee.random.getBytes(i));var l=s(t);if(l.start(e.encryptedContent.parameter.copy()),l.update(e.content),!l.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=l.output}for(var u=0;u<e.recipients.length;++u){var c=e.recipients[u];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case Ee.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}},e};function pS(e){var t={},r=[];if(!K.validate(e,kr.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:Ee.pki.RDNAttributesAsArray(t.issuer),serialNumber:Ee.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:K.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}function vS(e){return K.create(K.Class.UNIVERSAL,K.Type.SEQUENCE,!0,[K.create(K.Class.UNIVERSAL,K.Type.INTEGER,!1,K.integerToDer(e.version).getBytes()),K.create(K.Class.UNIVERSAL,K.Type.SEQUENCE,!0,[Ee.pki.distinguishedNameToAsn1({attributes:e.issuer}),K.create(K.Class.UNIVERSAL,K.Type.INTEGER,!1,Ee.util.hexToBytes(e.serialNumber))]),K.create(K.Class.UNIVERSAL,K.Type.SEQUENCE,!0,[K.create(K.Class.UNIVERSAL,K.Type.OID,!1,K.oidToDer(e.encryptedContent.algorithm).getBytes()),K.create(K.Class.UNIVERSAL,K.Type.NULL,!1,"")]),K.create(K.Class.UNIVERSAL,K.Type.OCTETSTRING,!1,e.encryptedContent.content)])}function gS(e){for(var t=[],r=0;r<e.length;++r)t.push(pS(e[r]));return t}function yS(e){for(var t=[],r=0;r<e.length;++r)t.push(vS(e[r]));return t}function xS(e){var t=K.create(K.Class.UNIVERSAL,K.Type.SEQUENCE,!0,[K.create(K.Class.UNIVERSAL,K.Type.INTEGER,!1,K.integerToDer(e.version).getBytes()),K.create(K.Class.UNIVERSAL,K.Type.SEQUENCE,!0,[Ee.pki.distinguishedNameToAsn1({attributes:e.issuer}),K.create(K.Class.UNIVERSAL,K.Type.INTEGER,!1,Ee.util.hexToBytes(e.serialNumber))]),K.create(K.Class.UNIVERSAL,K.Type.SEQUENCE,!0,[K.create(K.Class.UNIVERSAL,K.Type.OID,!1,K.oidToDer(e.digestAlgorithm).getBytes()),K.create(K.Class.UNIVERSAL,K.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(K.create(K.Class.UNIVERSAL,K.Type.SEQUENCE,!0,[K.create(K.Class.UNIVERSAL,K.Type.OID,!1,K.oidToDer(e.signatureAlgorithm).getBytes()),K.create(K.Class.UNIVERSAL,K.Type.NULL,!1,"")])),t.value.push(K.create(K.Class.UNIVERSAL,K.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=K.create(K.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(hu(i))}t.value.push(r)}return t}function mS(e){for(var t=[],r=0;r<e.length;++r)t.push(xS(e[r]));return t}function hu(e){var t;if(e.type===Ee.pki.oids.contentType)t=K.create(K.Class.UNIVERSAL,K.Type.OID,!1,K.oidToDer(e.value).getBytes());else if(e.type===Ee.pki.oids.messageDigest)t=K.create(K.Class.UNIVERSAL,K.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===Ee.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var s=Date.parse(i);isNaN(s)?i.length===13?i=K.utcTimeToDate(i):i=K.generalizedTimeToDate(i):i=new Date(s)}i>=r&&i<n?t=K.create(K.Class.UNIVERSAL,K.Type.UTCTIME,!1,K.dateToUtcTime(i)):t=K.create(K.Class.UNIVERSAL,K.Type.GENERALIZEDTIME,!1,K.dateToGeneralizedTime(i))}return K.create(K.Class.UNIVERSAL,K.Type.SEQUENCE,!0,[K.create(K.Class.UNIVERSAL,K.Type.OID,!1,K.oidToDer(e.type).getBytes()),K.create(K.Class.UNIVERSAL,K.Type.SET,!0,[t])])}function CS(e){return[K.create(K.Class.UNIVERSAL,K.Type.OID,!1,K.oidToDer(Ee.pki.oids.data).getBytes()),K.create(K.Class.UNIVERSAL,K.Type.SEQUENCE,!0,[K.create(K.Class.UNIVERSAL,K.Type.OID,!1,K.oidToDer(e.algorithm).getBytes()),e.parameter?K.create(K.Class.UNIVERSAL,K.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),K.create(K.Class.CONTEXT_SPECIFIC,0,!0,[K.create(K.Class.UNIVERSAL,K.Type.OCTETSTRING,!1,e.content.getBytes())])]}function Ou(e,t,r){var n={},i=[];if(!K.validate(t,r,n,i)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}var l=K.derToOid(n.contentType);if(l!==Ee.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var u="";if(Ee.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==K.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");u+=n.encryptedContent[c].value}else u=n.encryptedContent;e.encryptedContent={algorithm:K.derToOid(n.encAlgorithm),parameter:Ee.util.createBuffer(n.encParameter.value),content:Ee.util.createBuffer(u)}}if(n.content){var u="";if(Ee.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==K.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");u+=n.content[c].value}else u=n.content;e.content=Ee.util.createBuffer(u)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}function Rp(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case Ee.pki.oids["aes128-CBC"]:case Ee.pki.oids["aes192-CBC"]:case Ee.pki.oids["aes256-CBC"]:t=Ee.aes.createDecryptionCipher(e.encryptedContent.key);break;case Ee.pki.oids.desCBC:case Ee.pki.oids["des-EDE3-CBC"]:t=Ee.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}var rr=it,Vs=rr.ssh=rr.ssh||{};Vs.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",s="PuTTY-User-Key-File-2: "+n+`\r
`;s+="Encryption: "+i+`\r
`,s+="Comment: "+r+`\r
`;var l=rr.util.createBuffer();Ii(l,n),Vn(l,e.e),Vn(l,e.n);var u=rr.util.encode64(l.bytes(),64),c=Math.floor(u.length/66)+1;s+="Public-Lines: "+c+`\r
`,s+=u;var f=rr.util.createBuffer();Vn(f,e.d),Vn(f,e.p),Vn(f,e.q),Vn(f,e.qInv);var d;if(!t)d=rr.util.encode64(f.bytes(),64);else{var p=f.length()+16-1;p-=p%16;var v=us(f.bytes());v.truncate(v.length()-p+f.length()),f.putBuffer(v);var y=rr.util.createBuffer();y.putBuffer(us("\0\0\0\0",t)),y.putBuffer(us("\0\0\0",t));var x=rr.aes.createEncryptionCipher(y.truncate(8),"CBC");x.start(rr.util.createBuffer().fillWithByte(0,16)),x.update(f.copy()),x.finish();var m=x.output;m.truncate(16),d=rr.util.encode64(m.bytes(),64)}c=Math.floor(d.length/66)+1,s+=`\r
Private-Lines: `+c+`\r
`,s+=d;var C=us("putty-private-key-file-mac-key",t),A=rr.util.createBuffer();Ii(A,n),Ii(A,i),Ii(A,r),A.putInt32(l.length()),A.putBuffer(l),A.putInt32(f.length()),A.putBuffer(f);var S=rr.hmac.create();return S.start("sha1",C),S.update(A.bytes()),s+=`\r
Private-MAC: `+S.digest().toHex()+`\r
`,s};Vs.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=rr.util.createBuffer();return Ii(n,r),Vn(n,e.e),Vn(n,e.n),r+" "+rr.util.encode64(n.bytes())+" "+t};Vs.privateKeyToOpenSSH=function(e,t){return t?rr.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):rr.pki.privateKeyToPem(e)};Vs.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||rr.md.md5.create(),n="ssh-rsa",i=rr.util.createBuffer();Ii(i,n),Vn(i,e.e),Vn(i,e.n),r.start(),r.update(i.getBytes());var s=r.digest();if(t.encoding==="hex"){var l=s.toHex();return t.delimiter?l.match(/.{2}/g).join(t.delimiter):l}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};function Vn(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=rr.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}function Ii(e,t){e.putInt32(t.length),e.putString(t)}function us(){for(var e=rr.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}var _S=it;const _a=Ud(_S);class St{static findUpdates(t,r){let n=Object.keys(t),i=Object.keys(r),s={};for(const l of i)if(!n.includes(l))s[l]=r[l];else{let u=t[l],c=r[l];if(typeof u=="object"){let f=St.findUpdates(u,c);Object.keys(f).length>0&&(s[l]=f)}else u!=c&&(s[l]=c)}return s}static cloneDeep(t){if(!t||typeof t!="object"||t instanceof Date||t instanceof Map||t instanceof Set||t instanceof Array)return St.cloneValue(t);let r=Object.keys(t),n={};for(let i of r){let s=t[i];n[i]=St.cloneValue(s)}return n}static cloneValue(t){if(t===null)return null;if(t===void 0)return;if(t instanceof Array){let r=[];for(let n of t)r.push(St.cloneValue(n));return r}else if(t instanceof Map){let r=new Map;return r.forEach((n,i)=>{r.set(i,St.cloneValue(n))}),r}else if(t instanceof Set){let r=new Set;return r.forEach(n=>{r.add(St.cloneValue(n))}),r}else return t instanceof Date?new Date(t.getDate()):typeof t=="object"?St.cloneDeep(t):t}static equalsDeep(t,r){if(t==null&&r==null)return!0;if(t==null||r==null)return!1;let n=Object.keys(t),i=Object.keys(r);if(n.length!=i.length)return!1;for(let s of n){let l=t[s],u=r[s];if(typeof l=="object"){if(!St.equalsDeep(l,u))return!1}else if(l!=u)return!1}return!0}}function ES(e){let t,r,n,i,s,l,u,c,f,d,p,v,y;const x=e[4].default,m=Gm(x,e,e[3],null);return{c(){t=Y("main"),r=Y("div"),n=ye(),i=Y("div"),s=Y("div"),l=Y("div"),m&&m.c(),u=ye(),c=Y("div"),f=Y("button"),d=wt(e[1]),H(r,"class","background svelte-95myax"),W(l,"color","#333"),H(s,"class","content-box svelte-95myax"),W(f,"width","150px"),W(c,"width","100%"),W(c,"display","flex"),W(c,"justify-content","center"),W(c,"align-items","center"),H(i,"class","popup-box svelte-95myax"),W(i,"height",bS+"px"),W(i,"width",SS+"px"),W(t,"display",e[0]?"flex":"none"),H(t,"class","svelte-95myax")},m(C,A){We(C,t,A),L(t,r),L(t,n),L(t,i),L(i,s),L(s,l),m&&m.m(l,null),L(i,u),L(i,c),L(c,f),L(f,d),p=!0,v||(y=Me(f,"click",e[2]),v=!0)},p(C,[A]){m&&m.p&&(!p||A&8)&&Qm(m,x,C,C[3],p?Wm(x,C[3],A,null):Ym(C[3]),null),(!p||A&2)&&hn(d,C[1]),(!p||A&1)&&W(t,"display",C[0]?"flex":"none")},i(C){p||(at(m,C),p=!0)},o(C){_t(m,C),p=!1},d(C){C&&Ge(t),m&&m.d(C),v=!1,y()}}}const SS=320,bS=150;function TS(e,t,r){let{$$slots:n={},$$scope:i}=t,{show:s=!1}=t,{button:l="Ok"}=t;const u=Bs();let c=()=>{r(0,s=!1),u("close")};return e.$$set=f=>{"show"in f&&r(0,s=f.show),"button"in f&&r(1,l=f.button),"$$scope"in f&&r(3,i=f.$$scope)},[s,l,c,i,n]}class v0 extends wn{constructor(t){super(),In(this,t,TS,ES,Bn,{show:0,button:1})}}function md(e){let t;return{c(){t=Y("ul"),t.innerHTML='<li class="svelte-1dinodq">If you do not upload a cert, a random key will be used.</li> <li class="svelte-1dinodq">If an incorrect cert is uploaded, it will work with HTTP.</li>',H(t,"class","svelte-1dinodq")},m(r,n){We(r,t,n)},d(r){r&&Ge(t)}}}function AS(e){let t;return{c(){t=wt(e[6])},m(r,n){We(r,t,n)},p(r,n){n[0]&64&&hn(t,r[6])},d(r){r&&Ge(t)}}}function BS(e){let t,r,n,i,s,l,u,c,f,d,p,v,y,x,m,C,A,S,E,R,k,N,D,F,j,P,O,q,Z=e[0]===!1&&md();function de(ne){e[17](ne)}let ee={$$slots:{default:[AS]},$$scope:{ctx:e}};return e[5]!==void 0&&(ee.show=e[5]),F=new v0({props:ee}),jt.push(()=>pn(F,"show",de)),{c(){t=Y("main"),r=Y("div"),n=Y("div"),i=ye(),s=Y("div"),l=Y("div"),l.innerHTML='Key<span style="font-weight: bold;color: saddlebrown; font-size: 9pt">*</span>',u=ye(),c=Y("input"),f=ye(),d=Y("div"),p=Y("div"),p.innerHTML='Cert<span style="font-weight: bold;color: saddlebrown; font-size: 9pt">*</span>',v=ye(),y=Y("input"),x=ye(),m=Y("div"),C=Y("div"),C.textContent="CA",A=ye(),S=Y("input"),E=ye(),R=Y("div"),k=Y("button"),k.textContent="X",N=ye(),Z&&Z.c(),D=ye(),_r(F.$$.fragment),H(n,"class","cert-select-box-vertical-line svelte-1dinodq"),H(l,"class","form-label file-label svelte-1dinodq"),W(l,"display","inline-block"),H(c,"type","file"),H(c,"class","form-control"),H(c,"accept",".pem, *.crt, *.cer"),W(c,"width",e[1]+"px"),H(s,"class","input-box file-input-box svelte-1dinodq"),H(p,"class","form-label file-label svelte-1dinodq"),W(p,"display","inline"),H(y,"type","file"),H(y,"class","form-control"),H(y,"accept",".pem, *.crt, *.cer"),W(y,"width",e[1]+"px"),H(d,"class","input-box file-input-box svelte-1dinodq"),H(C,"class","form-label file-label svelte-1dinodq"),W(C,"display","inline-block"),H(S,"type","file"),H(S,"class","form-control"),H(S,"accept",".pem, *.crt, *.cer"),W(S,"width",e[1]+"px"),H(k,"class","text-button-x svelte-1dinodq"),H(k,"aria-pressed","true"),W(R,"display","inline"),W(R,"position","relative"),H(m,"class","input-box file-input-box svelte-1dinodq"),H(r,"class","cert-select-box svelte-1dinodq")},m(ne,ie){We(ne,t,ie),L(t,r),L(r,n),L(r,i),L(r,s),L(s,l),L(s,u),L(s,c),e[12](c),L(r,f),L(r,d),L(d,p),L(d,v),L(d,y),e[14](y),L(r,x),L(r,m),L(m,C),L(m,A),L(m,S),e[16](S),L(m,E),L(m,R),L(R,k),L(r,N),Z&&Z.m(r,null),L(t,D),cr(F,t,null),P=!0,O||(q=[Me(c,"keyup",e[7]),Me(c,"input",e[11]),Me(y,"keyup",e[7]),Me(y,"input",e[13]),Me(S,"keyup",e[7]),Me(S,"input",e[15]),Me(k,"click",e[9])],O=!0)},p(ne,ie){(!P||ie[0]&2)&&W(c,"width",ne[1]+"px"),(!P||ie[0]&2)&&W(y,"width",ne[1]+"px"),(!P||ie[0]&2)&&W(S,"width",ne[1]+"px"),ne[0]===!1?Z||(Z=md(),Z.c(),Z.m(r,null)):Z&&(Z.d(1),Z=null);const _e={};ie[0]&64|ie[1]&4&&(_e.$$scope={dirty:ie,ctx:ne}),!j&&ie[0]&32&&(j=!0,_e.show=ne[5],dn(()=>j=!1)),F.$set(_e)},i(ne){P||(at(F.$$.fragment,ne),P=!0)},o(ne){_t(F.$$.fragment,ne),P=!1},d(ne){ne&&Ge(t),e[12](null),e[14](null),e[16](null),Z&&Z.d(),hr(F),O=!1,mn(q)}}}function IS(e,t,r){let n,i,s,l=!1,u=Bs(),c=!1,f="",{hideMessage:d=!1}=t,{width:p=250}=t,{certInfo:v}=t;v||(v={key:{name:"",value:""},cert:{name:"",value:""},ca:{name:"",value:""}});let y=St.cloneDeep(v),x=()=>{St.equalsDeep(v,y)||u("update",St.cloneDeep(y)),r(10,v=St.cloneDeep(y))};ti(async()=>{!l&&i&&(C(),l=!0)}),$m(async()=>{y=St.cloneDeep(v),C()});let m=le=>{r(6,f=le),r(5,c=!0)},C=()=>{y=St.cloneDeep(v),i&&y.cert.name!=""&&y.cert.value!=""?r(3,i.files=S(y.cert).files,i):i&&r(3,i.value="",i),n&&y.key.name!=""&&y.key.value!=""?r(2,n.files=S(y.key).files,n):n&&r(2,n.value="",n),s&&y.ca.name!=""&&y.ca.value!=""?r(4,s.files=S(y.ca).files,s):s&&r(4,s.value="",s)},A=()=>{r(10,v.key.name="",v),r(10,v.key.value="",v),r(10,v.cert.name="",v),r(10,v.cert.value="",v),r(10,v.ca.name="",v),r(10,v.ca.value="",v),y.key.name="",y.key.value="",y.cert.name="",y.cert.value="",r(2,n.value="",n),r(3,i.value="",i)},S=le=>{let G=new DataTransfer,$=new File([E(le.value)],le.name);return G.items.add($),G},E=le=>new Blob([le],{type:"text/plain"}),R=le=>{let G=le.target;G.value!=""&&(parseInt(G.value)<parseInt(G.min)&&(G.value=G.min),parseInt(G.value)>parseInt(G.max)&&(G.value=G.max))},k=(le,G)=>{try{const $=_a.pki.certificateFromPem(G),oe=_a.pki.privateKeyFromPem(le),te=Md.SHA512(Date.now()+"@").toString();let we=$.publicKey.encrypt(te,"RSA-OAEP",{md:_a.md.sha256.create(),mgf1:{md:_a.md.sha256.create()}});return oe.decrypt(we,"RSA-OAEP",{md:_a.md.sha256.create(),mgf1:{md:_a.md.sha256.create()}})==te}catch($){return console.error($),!1}},N=le=>{if(le=le.trim(),!le.startsWith("-----BEGIN CERTIFICATE")||!le.endsWith("END CERTIFICATE-----"))return!1;try{if(_a.pki.certificateFromPem(le).publicKey.n.bitLength()<2048)return!1}catch(G){return console.error(G),!1}return!0},D=le=>{if(le=le.trim(),(!le.startsWith("-----BEGIN PRIVATE KEY")||!le.endsWith("END PRIVATE KEY-----"))&&(!le.startsWith("-----BEGIN RSA PRIVATE KEY")||!le.endsWith("END RSA PRIVATE KEY-----")))return!1;try{if(_a.pki.privateKeyFromPem(le).n.bitLength()<2048)return!1}catch(G){return console.error(G),!1}return!0},F=async(le,G,$,oe)=>{var me;let te=(me=G.files)==null?void 0:me.item(0);if(!te)return;let we=await O(te),Ae=$.name!=""&&$.value!=""?S($):null;if(!oe(we)){m(`Invalid ${le=="private"?"private key":"certificate"}`),Ae?r(2,n.files=Ae.files,n):G.value="";return}$.name=te.name,$.value=we;let Fe=P();Fe=="Success"?x():Fe=="Fail"&&A()},j=async(le,G)=>{var te;let $=le.target,oe=(te=$.files)==null?void 0:te.item(0);oe&&(await O(oe),G=="private"?await F(G,$,y.key,D):G=="cert"?await F(G,$,y.cert,N):G=="ca"&&await F(G,$,y.ca,N))},P=()=>y.cert.value==""||y.key.value==""?"NoCondition":k(y.key.value,y.cert.value)?"Success":(m("Invalid Key Pair"),"Fail"),O=le=>{let G=new FileReader;G.readAsText(le);let $="";return new Promise((oe,te)=>{G.onload=we=>{var Ae;$=(Ae=we.target)==null?void 0:Ae.result,oe($)}})},q=()=>{y.ca.name="",y.ca.value="",P()=="Success"&&x(),r(4,s.value="",s),r(10,v.ca.name="",v),r(10,v.ca.value="",v)};const Z=le=>j(le,"private");function de(le){jt[le?"unshift":"push"](()=>{n=le,r(2,n)})}const ee=le=>j(le,"cert");function ne(le){jt[le?"unshift":"push"](()=>{i=le,r(3,i)})}const ie=le=>j(le,"ca");function _e(le){jt[le?"unshift":"push"](()=>{s=le,r(4,s)})}function Pe(le){c=le,r(5,c)}return e.$$set=le=>{"hideMessage"in le&&r(0,d=le.hideMessage),"width"in le&&r(1,p=le.width),"certInfo"in le&&r(10,v=le.certInfo)},[d,p,n,i,s,c,f,R,j,q,v,Z,de,ee,ne,ie,_e,Pe]}class Np extends wn{constructor(t){super(),In(this,t,IS,BS,Bn,{hideMessage:0,width:1,certInfo:10},null,[-1,-1])}}const wS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC6ElEQVR4nO3c32oTQRTH8R+VJg8Re12w7bNY+vclbJ5DbZWKRR9AESqFPoB/Lq1eKVRJ/fcGKiZ6WamsTGAR3d3ZnWHPTr4fGAhpOps9J52zmZNGAgAAAAAAAOzpSxpKeinppxvZ7R33M0Q0kPRG0sV/xmv3GETQLwl+Pgn8JUQwrBD86bgW4wnMulceCTjxmJeaUtEPjwRMKs5JTWkxAX1qSrtL0HAWasqCpCP3iszGsaTFmnPtBA5YrJpiKvhf/3Ey39zPfPXdJWaVy9BeSzXFlKOCE3pcc85BSRJ83ogln4BJwQmNG8zbc0vMiQtiNl64+6q88mdmCSpKwPe2n5zC1xRzjgtO6LDtJ6fwNcWcRVdw/z6hL5Iuy4ZBwJpi0oIruGM3Dg0FP3RNAQAAAABEQg+5RfSQW0QPuWUme8ghe77WmWvghO75WmeuhRmj52uZuQTE6vlaZW4Jst7zTb6HbL3nm3wPuQs93+R7yF3o+YZGDxkAAAAAIlmRdEfS29x3UmS39yUtxzoo9GfP556kXwVbDueSDvj0dJzgP/fY9XxGEsK67xH86bgrw7rUM14pWXaKlqMlGdS1nvF+jeBPx20Z1LWe8bsGCTiVQV3rGU8aJMDkP3LH6Bn3JG1LeiTpLHd9fubu22pwVZJcAkL3jNclfa4QjE+S1mrMn9wSFKpnfEnSXo2g7Eqam+UiHKpnvNcgMDc9jrPsLil9j5H9zhUlar1B8Kdj1eN4BzXmz/aLktSruOaXjY8ehTl73FOPuZ9ImleitgMEfzo2PY7bc9sLRcvRuXvlJxt8ucvKUAl4KH9Lrrie5r5DIrt9K+U1P+9DwARk7xMQ8ePgFyUjmwstJmBM9P29D5iAEQlotwg/IAH+tgImYIME+Jt3b6KaBj97M8dXj9W0FiABV3n1N7PbIPjXCX5zc25X0zf4Nzy3o1FitWJNyB7DshOxMG+6vZ1Rbo9m5O7bSH2DDAAAAAAAAOq836+c4pabVYFmAAAAAElFTkSuQmCC";function RS(e){let t,r,n,i,s,l,u,c;return{c(){t=Y("main"),r=Y("div"),i=ye(),s=Y("div"),l=Y("img"),H(r,"class","background svelte-9r5b10"),H(r,"style",n=e[1]?"opacity: 0.0 !important;":""),Dd(l.src,u=wS)||H(l,"src",u),H(s,"class","progress"),H(s,"style",c=e[1]?"opacity: 0.0 !important;":""),W(t,"display",e[0]?"flex":"none"),H(t,"class","svelte-9r5b10")},m(f,d){We(f,t,d),L(t,r),L(t,i),L(t,s),L(s,l),e[3](l)},p(f,[d]){d&2&&n!==(n=f[1]?"opacity: 0.0 !important;":"")&&H(r,"style",n),d&2&&c!==(c=f[1]?"opacity: 0.0 !important;":"")&&H(s,"style",c),d&1&&W(t,"display",f[0]?"flex":"none")},i:nr,o:nr,d(f){f&&Ge(t),e[3](null)}}}function NS(e,t,r){let{show:n=!1}=t,{transition:i=!1}=t,s,l=0;ti(()=>{s&&r(2,s.onload=()=>{setInterval(u,200)},s)});let u=()=>{l+=45,s&&r(2,s.style.transform=`rotate(${l}deg)`,s)};function c(f){jt[f?"unshift":"push"](()=>{s=f,r(2,s)})}return e.$$set=f=>{"show"in f&&r(0,n=f.show),"transition"in f&&r(1,i=f.transition)},[n,i,s,c]}class kp extends wn{constructor(t){super(),In(this,t,NS,RS,Bn,{show:0,transition:1})}}function Cd(e){let t,r;return t=new Np({props:{certInfo:e[1]}}),t.$on("update",e[9]),{c(){_r(t.$$.fragment)},m(n,i){cr(t,n,i),r=!0},p(n,i){const s={};i&2&&(s.certInfo=n[1]),t.$set(s)},i(n){r||(at(t.$$.fragment,n),r=!0)},o(n){_t(t.$$.fragment,n),r=!1},d(n){hr(t,n)}}}function kS(e){let t,r;return{c(){t=new vu(!1),r=pu(),t.a=r},m(n,i){t.m(e[6],n,i),We(n,r,i)},p(n,i){i&64&&t.p(n[6])},d(n){n&&(Ge(r),t.d())}}}function LS(e){let t,r,n,i,s,l,u,c,f,d,p,v,y,x,m,C,A,S,E,R,k,N,D,F,j,P,O,q,Z,de,ee,ne,ie,_e,Pe,le,G,$,oe,te,we,Ae,Fe,me,Re,st,$e,ze,et,ke,rt,$t,Ut,Ct=e[0].adminTls&&Cd(e);function er(ae){e[20](ae)}let ar={};e[2]!==void 0&&(ar.show=e[2]),Re=new kp({props:ar}),jt.push(()=>pn(Re,"show",er));function pt(ae){e[21](ae)}function It(ae){e[22](ae)}let zt={$$slots:{default:[kS]},$$scope:{ctx:e}};return e[3]!==void 0&&(zt.show=e[3]),e[4]!==void 0&&(zt.button=e[4]),ze=new v0({props:zt}),jt.push(()=>pn(ze,"show",pt)),jt.push(()=>pn(ze,"button",It)),ze.$on("close",function(){As(e[5])&&e[5].apply(this,arguments)}),{c(){t=Y("main"),r=Y("h2"),r.textContent="Server settings",n=ye(),i=Y("div"),s=Y("div"),l=Y("label"),l.textContent="Tunnel server-client authentication key",u=ye(),c=Y("input"),f=ye(),d=Y("div"),p=Y("label"),p.textContent="Admin service port number",v=ye(),y=Y("input"),x=ye(),m=Y("div"),C=Y("input"),A=ye(),S=Y("div"),S.textContent="Secure tunneling Server/Client",E=ye(),Ct&&Ct.c(),R=ye(),k=Y("div"),N=Y("label"),N.textContent="Tunnel server port number",D=ye(),F=Y("input"),j=ye(),P=Y("div"),O=Y("input"),q=ye(),Z=Y("div"),Z.textContent="Enable secure Tunnel server",de=ye(),ee=Y("div"),ne=Y("label"),ne.textContent="Total buffer size limit (MiB)",ie=ye(),_e=Y("input"),Pe=ye(),le=Y("div"),G=Y("div"),$=Y("button"),oe=wt("Apply"),we=ye(),Ae=Y("div"),Fe=Y("button"),Fe.textContent="Reset",me=ye(),_r(Re.$$.fragment),$e=ye(),_r(ze.$$.fragment),H(r,"class","svelte-t92r83"),H(l,"for","input-key"),H(l,"class","form-label"),H(c,"type","text"),H(c,"id","input-key"),H(c,"class","form-control svelte-t92r83"),H(c,"aria-describedby","passwordHelpBlock"),H(s,"class","input-box"),H(p,"for","input-admin-port"),H(p,"class","form-label"),H(y,"type","number"),H(y,"min","0"),H(y,"max","65535"),H(y,"id","input-admin-port"),H(y,"class","form-control svelte-t92r83"),H(y,"aria-describedby","passwordHelpBlock"),H(d,"class","input-box"),W(d,"margin-bottom","5px"),H(C,"type","checkbox"),W(C,"width","14px"),H(C,"class","svelte-t92r83"),W(S,"display","inline-block"),W(S,"position","relative"),W(S,"top","-7px"),W(S,"font-size","10pt"),H(m,"class","check-box"),W(m,"margin-bottom",(e[0].adminTls?10:20)+"px"),H(N,"for","input-tunnel-port"),H(N,"class","form-label"),H(F,"type","number"),H(F,"min","0"),H(F,"max","65535"),H(F,"id","input-tunnel-port"),H(F,"class","form-control svelte-t92r83"),H(k,"class","input-box"),W(k,"margin-bottom","5px"),W(k,"margin-top","20px"),H(O,"type","checkbox"),W(O,"width","14px"),H(O,"class","svelte-t92r83"),W(Z,"display","inline-block"),W(Z,"position","relative"),W(Z,"top","-7px"),W(Z,"font-size","10pt"),H(P,"class","check-box"),W(P,"margin-bottom","25px"),H(ne,"for","input-global-cache-limit"),H(ne,"class","form-label"),H(_e,"type","number"),H(_e,"min","1"),H(_e,"max","99999"),H(_e,"class","svelte-t92r83"),H(ee,"class","input-box"),W($,"width","100px"),$.disabled=te=!e[7],W(G,"display","inline-block"),W(Fe,"width","100px"),W(Ae,"display","inline-block"),W(le,"width","100%"),W(le,"margin-top","40px"),H(i,"class","round-box"),H(t,"class","svelte-t92r83")},m(ae,re){We(ae,t,re),L(t,r),L(t,n),L(t,i),L(i,s),L(s,l),L(s,u),L(s,c),yt(c,e[0].key),L(i,f),L(i,d),L(d,p),L(d,v),L(d,y),yt(y,e[0].adminPort),L(i,x),L(i,m),L(m,C),C.checked=e[0].adminTls,L(m,A),L(m,S),L(i,E),Ct&&Ct.m(i,null),L(i,R),L(i,k),L(k,N),L(k,D),L(k,F),yt(F,e[0].port),L(i,j),L(i,P),L(P,O),O.checked=e[0].tls,L(P,q),L(P,Z),L(i,de),L(i,ee),L(ee,ne),L(ee,ie),L(ee,_e),yt(_e,e[0].globalMemCacheLimit),L(i,Pe),L(i,le),L(le,G),L(G,$),L($,oe),L(le,we),L(le,Ae),L(Ae,Fe),L(t,me),cr(Re,t,null),L(t,$e),cr(ze,t,null),rt=!0,$t||(Ut=[Me(c,"input",e[14]),Me(y,"keyup",e[8]),Me(y,"input",e[15]),Me(C,"change",e[16]),Me(F,"keyup",e[8]),Me(F,"input",e[17]),Me(O,"change",e[18]),Me(_e,"keyup",e[8]),Me(_e,"input",e[19]),Me($,"click",e[10]),Me(Fe,"click",e[11])],$t=!0)},p(ae,[re]){e=ae,re&1&&c.value!==e[0].key&&yt(c,e[0].key),re&1&&zn(y.value)!==e[0].adminPort&&yt(y,e[0].adminPort),re&1&&(C.checked=e[0].adminTls),(!rt||re&1)&&W(m,"margin-bottom",(e[0].adminTls?10:20)+"px"),e[0].adminTls?Ct?(Ct.p(e,re),re&1&&at(Ct,1)):(Ct=Cd(e),Ct.c(),at(Ct,1),Ct.m(i,R)):Ct&&(ja(),_t(Ct,1,1,()=>{Ct=null}),$a()),re&1&&zn(F.value)!==e[0].port&&yt(F,e[0].port),re&1&&(O.checked=e[0].tls),re&1&&zn(_e.value)!==e[0].globalMemCacheLimit&&yt(_e,e[0].globalMemCacheLimit),(!rt||re&128&&te!==(te=!e[7]))&&($.disabled=te);const De={};!st&&re&4&&(st=!0,De.show=e[2],dn(()=>st=!1)),Re.$set(De);const Le={};re&536870976&&(Le.$$scope={dirty:re,ctx:e}),!et&&re&8&&(et=!0,Le.show=e[3],dn(()=>et=!1)),!ke&&re&16&&(ke=!0,Le.button=e[4],dn(()=>ke=!1)),ze.$set(Le)},i(ae){rt||(at(Ct),at(Re.$$.fragment,ae),at(ze.$$.fragment,ae),rt=!0)},o(ae){_t(Ct),_t(Re.$$.fragment,ae),_t(ze.$$.fragment,ae),rt=!1},d(ae){ae&&Ge(t),Ct&&Ct.d(),hr(Re),hr(ze),$t=!1,mn(Ut)}}}function DS(e,t,r){let n=Nr.instance.getCachedServerOption(),i=Nr.instance.getCachedServerOption(),s=null,l=null,u=null,c=!1,f=!1,d=!1,p="OK",v=()=>{},y="",x=!1;ti(async()=>{if(!c)try{r(2,f=!0),r(0,n=await Nr.instance.getServerOption()),await Nr.instance.getServerOptionHash(),r(12,i=St.cloneDeep(n)),r(1,s=await Ea.instance.loadAdminCert()),r(13,u=St.cloneDeep(s)),l=St.cloneDeep(s),c=!0,r(2,f=!1)}catch(ne){if(console.error(ne),ne instanceof Qt){N();return}S("Unable to connect to the server.","OK",()=>{location.href="/"})}});let m=ne=>{let ie=ne.target;ie.value!=""&&(parseInt(ie.value)<parseInt(ie.min)&&(ie.value=ie.min),parseInt(ie.value)>parseInt(ie.max)&&(ie.value=ie.max))},C=ne=>{A(ne.detail)},A=async ne=>{r(2,f=!0);try{let ie=await Ea.instance.updateAdminCert(ne);ie.success?(r(13,u=s),r(1,s=ne)):S(ie.message),r(2,f=!1)}catch(ie){console.error(ie),ie instanceof Qt?(r(2,f=!1),N()):S("Unable to connect to the server.","Retry",async()=>{await A(ne)})}},S=(ne,ie,_e)=>{ie==null?ie="OK":r(4,p=ie),_e==null?r(5,v=()=>{}):r(5,v=_e),r(6,y=ne),r(3,d=!0)},E=async()=>{try{r(2,f=!0);let ne=await Nr.instance.updateServerOption(n);r(2,f=!1),ne.success?await R():S(ne.message)}catch(ne){console.error(ne),r(2,f=!1),ne instanceof Qt?N():S("Unable to connect to the server.","Retry",async()=>{await E()})}},R=async()=>{r(2,f=!0);let ne=!1;try{ne=await Nr.instance.checkChangeServerOption(i,n)}catch{S(`Error: Server status could not be determined.${n.adminTls?"(It could be a TSL certificate error.)":""}`,"OK",()=>{console.log((n.adminTls?"https://":"http://")+location.hostname+":"+n.adminPort+"/"),location.href=(n.adminTls?"https://":"http://")+location.hostname+":"+n.adminPort+"/"});return}r(2,f=!1),ne?S("Server settings have been changed.<br/>The server has been restarted.","OK",()=>{r(12,i=St.cloneDeep(n)),r(13,u=St.cloneDeep(s)),l=St.cloneDeep(s),console.log((n.adminTls?"https://":"http://")+location.hostname+":"+n.adminPort+"/"),location.href=(n.adminTls?"https://":"http://")+location.hostname+":"+n.adminPort+"/"}):S("New server options cannot be applied.","OK",()=>{r(0,n=St.cloneDeep(i)),r(1,s=St.cloneDeep(l)),r(13,u=St.cloneDeep(s)),location.href="/"})},k=()=>{let ne=!St.equalsDeep(s,l);r(0,n=St.cloneDeep(i)),r(1,s=St.cloneDeep(l)),ne&&A(s)},N=()=>{S("Session is expired.<br/>Please login again.","OK",()=>{location.href="/"})};function D(){n.key=this.value,r(0,n)}function F(){n.adminPort=zn(this.value),r(0,n)}function j(){n.adminTls=this.checked,r(0,n)}function P(){n.port=zn(this.value),r(0,n)}function O(){n.tls=this.checked,r(0,n)}function q(){n.globalMemCacheLimit=zn(this.value),r(0,n)}function Z(ne){f=ne,r(2,f)}function de(ne){d=ne,r(3,d)}function ee(ne){p=ne,r(4,p)}return e.$$.update=()=>{e.$$.dirty&12291&&r(7,x=!St.equalsDeep(n,i)||s==null||u==null||!St.equalsDeep(s,u))},[n,s,f,d,p,v,y,x,m,C,E,k,i,u,D,F,j,P,O,q,Z,de,ee]}class PS extends wn{constructor(t){super(),In(this,t,DS,LS,Bn,{})}}function _d(e,t,r){const n=e.slice();return n[10]=t[r],n[11]=t,n[12]=r,n}function US(e){let t,r,n;function i(){return e[7](e[12])}return{c(){t=Y("button"),t.textContent="-",W(t,"width","28px"),W(t,"font-weight","bold")},m(s,l){We(s,t,l),r||(n=Me(t,"click",i),r=!0)},p(s,l){e=s},d(s){s&&Ge(t),r=!1,n()}}}function OS(e){let t,r,n;return{c(){t=Y("button"),t.textContent="+",W(t,"width","28px")},m(i,s){We(i,t,s),r||(n=Me(t,"click",e[2]),r=!0)},p:nr,d(i){i&&Ge(t),r=!1,n()}}}function Ed(e){let t,r,n,i,s,l,u,c,f,d,p,v,y,x,m;function C(){e[5].call(r,e[11],e[12])}function A(){e[6].call(l,e[11],e[12])}function S(N,D){return N[12]===N[0].length-1?OS:US}let E=S(e),R=E(e);function k(){e[8].call(d,e[11],e[12])}return{c(){t=Y("div"),r=Y("input"),n=ye(),i=Y("div"),i.textContent=":",s=ye(),l=Y("input"),u=ye(),R.c(),c=ye(),f=Y("div"),d=Y("input"),p=ye(),v=Y("div"),v.textContent="Replace header",y=ye(),H(r,"type","text"),W(r,"width",e[1]/2-40+"px"),W(i,"width","10px"),W(i,"display","inline-block"),W(i,"text-align","center"),W(i,"font-weight","bold"),W(i,"color","#333"),H(l,"type","text"),W(l,"width",e[1]/2-40+"px"),H(d,"type","checkbox"),W(d,"width","14px"),W(v,"display","inline-block"),W(v,"position","relative"),W(v,"top","-7px"),W(v,"font-size","10pt"),W(f,"position","relative"),W(f,"height","15px"),W(f,"margin-top","5px"),W(f,"margin-bottom","5px"),W(t,"border-radius","5px"),W(t,"padding","10px"),W(t,"background-color",e[4]),W(t,"margin-bottom","6px")},m(N,D){We(N,t,D),L(t,r),yt(r,e[10].name),L(t,n),L(t,i),L(t,s),L(t,l),yt(l,e[10].value),L(t,u),R.m(t,null),L(t,c),L(t,f),L(f,d),d.checked=e[10].replace,L(f,p),L(f,v),L(t,y),x||(m=[Me(r,"input",C),Me(l,"input",A),Me(d,"change",k)],x=!0)},p(N,D){e=N,D&2&&W(r,"width",e[1]/2-40+"px"),D&1&&r.value!==e[10].name&&yt(r,e[10].name),D&2&&W(l,"width",e[1]/2-40+"px"),D&1&&l.value!==e[10].value&&yt(l,e[10].value),E===(E=S(e))&&R?R.p(e,D):(R.d(1),R=E(e),R&&(R.c(),R.m(t,c))),D&1&&(d.checked=e[10].replace)},d(N){N&&Ge(t),R.d(),x=!1,mn(m)}}}function FS(e){let t,r,n,i,s=Ri(e[0]),l=[];for(let u=0;u<s.length;u+=1)l[u]=Ed(_d(e,s,u));return{c(){t=Y("div"),r=Y("div"),n=ye(),i=Y("div");for(let u=0;u<l.length;u+=1)l[u].c();H(r,"class","horizontal-line svelte-1idq8y4"),W(r,"margin-bottom","10px"),W(r,"max-width",e[1]+"px")},m(u,c){We(u,t,c),L(t,r),L(t,n),L(t,i);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(i,null)},p(u,[c]){if(c&2&&W(r,"max-width",u[1]+"px"),c&31){s=Ri(u[0]);let f;for(f=0;f<s.length;f+=1){const d=_d(u,s,f);l[f]?l[f].p(d,c):(l[f]=Ed(d),l[f].c(),l[f].m(i,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=s.length}},i:nr,o:nr,d(u){u&&Ge(t),du(l,u)}}}function VS(e,t,r){let{maxWidth:n=280}=t,{options:i=[{name:"",value:"",replace:!1}]}=t,s=y=>{r(0,i=[...i,{name:"",value:"",replace:!1}])},l=y=>{r(0,i=i.filter((x,m)=>m!==y))},c=(()=>{const y=Math.floor(Math.random()*360),x=50+Math.floor(Math.random()*50),m=90+Math.floor(Math.random()*6);return`hsl(${y}, ${x}%, ${m}%)`})();function f(y,x){y[x].name=this.value,r(0,i)}function d(y,x){y[x].value=this.value,r(0,i)}const p=y=>l(y);function v(y,x){y[x].replace=this.checked,r(0,i)}return e.$$set=y=>{"maxWidth"in y&&r(1,n=y.maxWidth),"options"in y&&r(0,i=y.options)},e.$$.update=()=>{e.$$.dirty&1&&i.length==0&&r(0,i=[{name:"",value:"",replace:!1}])},[i,n,s,l,c,f,d,p,v]}class Sd extends wn{constructor(t){super(),In(this,t,VS,FS,Bn,{maxWidth:1,options:0})}}function bd(e,t,r){const n=e.slice();return n[9]=t[r],n[10]=t,n[11]=r,n}function MS(e){let t,r,n;function i(){return e[7](e[11])}return{c(){t=Y("button"),t.textContent="Remove",W(t,"position","absolute"),W(t,"right","0px"),W(t,"top","0")},m(s,l){We(s,t,l),r||(n=Me(t,"click",i),r=!0)},p(s,l){e=s},d(s){s&&Ge(t),r=!1,n()}}}function KS(e){let t,r,n;return{c(){t=Y("button"),t.textContent="Add",W(t,"position","absolute"),W(t,"right","0px"),W(t,"top","0")},m(i,s){We(i,t,s),r||(n=Me(t,"click",e[2]),r=!0)},p:nr,d(i){i&&Ge(t),r=!1,n()}}}function Td(e){let t,r,n,i,s,l,u,c,f,d,p,v;function y(){e[5].call(i,e[10],e[11])}function x(){e[6].call(c,e[10],e[11])}function m(S,E){return S[11]===S[0].length-1?KS:MS}let C=m(e),A=C(e);return{c(){t=Y("div"),r=Y("div"),r.textContent="From",n=ye(),i=Y("input"),s=ye(),l=Y("div"),l.textContent="To",u=ye(),c=Y("input"),f=ye(),d=Y("div"),A.c(),H(r,"class","form-label"),H(i,"type","text"),W(i,"width",e[1]-25+"px"),H(l,"class","form-label"),H(c,"type","text"),W(c,"width",e[1]-25+"px"),W(d,"margin-top","10px"),W(d,"margin-bottom","38px"),W(d,"position","relative "),W(t,"background",e[4]),W(t,"padding","10px"),W(t,"border-radius","5px"),W(t,"margin-bottom","10px")},m(S,E){We(S,t,E),L(t,r),L(t,n),L(t,i),yt(i,e[9].from),L(t,s),L(t,l),L(t,u),L(t,c),yt(c,e[9].to),L(t,f),L(t,d),A.m(d,null),p||(v=[Me(i,"input",y),Me(c,"input",x)],p=!0)},p(S,E){e=S,E&2&&W(i,"width",e[1]-25+"px"),E&1&&i.value!==e[9].from&&yt(i,e[9].from),E&2&&W(c,"width",e[1]-25+"px"),E&1&&c.value!==e[9].to&&yt(c,e[9].to),C===(C=m(e))&&A?A.p(e,E):(A.d(1),A=C(e),A&&(A.c(),A.m(d,null)))},d(S){S&&Ge(t),A.d(),p=!1,mn(v)}}}function HS(e){let t,r,n,i,s,l,u=Ri(e[0]),c=[];for(let f=0;f<u.length;f+=1)c[f]=Td(bd(e,u,f));return{c(){t=Y("div"),r=Y("div"),n=ye(),i=Y("div");for(let f=0;f<c.length;f+=1)c[f].c();s=ye(),l=Y("div"),l.textContent="You can use a JavaScript-formatted regular expression in the 'From' input box.",H(r,"class","horizontal-line svelte-149ufur"),W(r,"margin-bottom","10px"),W(r,"max-width",e[1]+"px"),W(l,"font-size","10pt"),W(l,"line-height","11pt"),W(l,"color","#555 "),W(i,"margin-bottom","10px"),W(i,"width",e[1]+"px")},m(f,d){We(f,t,d),L(t,r),L(t,n),L(t,i);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(i,null);L(i,s),L(i,l)},p(f,[d]){if(d&2&&W(r,"max-width",f[1]+"px"),d&31){u=Ri(f[0]);let p;for(p=0;p<u.length;p+=1){const v=bd(f,u,p);c[p]?c[p].p(v,d):(c[p]=Td(v),c[p].c(),c[p].m(i,s))}for(;p<c.length;p+=1)c[p].d(1);c.length=u.length}d&2&&W(i,"width",f[1]+"px")},i:nr,o:nr,d(f){f&&Ge(t),du(c,f)}}}function qS(e,t,r){let{maxWidth:n=280}=t,{options:i=[{from:"",to:""}]}=t,s=v=>{r(0,i=[...i,{from:"",to:""}])},l=v=>{r(0,i=i.filter((y,x)=>x!==v))},c=(()=>{const v=Math.floor(Math.random()*360),y=50+Math.floor(Math.random()*50),x=90+Math.floor(Math.random()*6);return`hsl(${v}, ${y}%, ${x}%)`})();function f(v,y){v[y].from=this.value,r(0,i)}function d(v,y){v[y].to=this.value,r(0,i)}const p=v=>l(v);return e.$$set=v=>{"maxWidth"in v&&r(1,n=v.maxWidth),"options"in v&&r(0,i=v.options)},e.$$.update=()=>{e.$$.dirty&1&&i.length==0&&r(0,i=[{from:"",to:""}])},[i,n,s,l,c,f,d,p]}class zS extends wn{constructor(t){super(),In(this,t,qS,HS,Bn,{maxWidth:1,options:0})}}function GS(e){let t;return{c(){t=Y("div"),H(t,"class","center-box svelte-8lzpzo"),W(t,"border-radius","10px"),W(t,"width","10px"),W(t,"height","10px"),W(t,"top","calc(50% - 5px)"),W(t,"left","calc(50% - 5px)"),W(t,"border","1px solid #444")},m(r,n){We(r,t,n)},d(r){r&&Ge(t)}}}function WS(e){let t;return{c(){t=Y("div"),H(t,"class","center-box svelte-8lzpzo"),W(t,"font-weight","bold"),W(t,"width","1px"),W(t,"height","12px"),W(t,"border","1px solid #20c997"),W(t,"top","calc(50% - 6px)"),W(t,"left","calc(50% - 1px)")},m(r,n){We(r,t,n)},d(r){r&&Ge(t)}}}function QS(e){let t,r,n,i,s,l,u,c,f,d;function p(x,m){return x[0]?WS:GS}let v=p(e),y=v(e);return{c(){t=Y("div"),r=Y("div"),i=ye(),s=Y("div"),y.c(),u=ye(),c=Y("button"),H(r,"class",n="switch-background "+(e[0]?"switch-background-on":"switch-background-off")+" svelte-8lzpzo"),H(s,"class",l="switch-button "+(e[0]?"switch-button-on":"switch-button-off")+" svelte-8lzpzo"),H(c,"class","translate-button svelte-8lzpzo"),H(t,"class","switch-box  svelte-8lzpzo"),H(t,"style",e[1])},m(x,m){We(x,t,m),L(t,r),L(t,i),L(t,s),y.m(s,null),L(t,u),L(t,c),f||(d=Me(c,"click",e[2]),f=!0)},p(x,[m]){m&1&&n!==(n="switch-background "+(x[0]?"switch-background-on":"switch-background-off")+" svelte-8lzpzo")&&H(r,"class",n),v!==(v=p(x))&&(y.d(1),y=v(x),y&&(y.c(),y.m(s,null))),m&1&&l!==(l="switch-button "+(x[0]?"switch-button-on":"switch-button-off")+" svelte-8lzpzo")&&H(s,"class",l),m&2&&H(t,"style",x[1])},i:nr,o:nr,d(x){x&&Ge(t),y.d(),f=!1,d()}}}function YS(e,t,r){let{on:n=!1}=t,{style:i=""}=t,s=n,l=Bs(),u=()=>{r(0,n=!n)};return e.$$set=c=>{"on"in c&&r(0,n=c.on),"style"in c&&r(1,i=c.style)},e.$$.update=()=>{e.$$.dirty&9&&n!=s&&(console.log(`change: new: ${n}, old: ${s}`),l("change",{on:n}),r(3,s=n))},[n,i,u,s]}class XS extends wn{constructor(t){super(),In(this,t,YS,QS,Bn,{on:0,style:1})}}const ZS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADZElEQVR4nO2YWYiPURTAfzO2MfahsQ0llLJEFA+WKQ+ilBJJ4ckDikxMeZhQHpAH82Br4kEoKdsUhuxLmWKsM3kZiRCyZBvbjM50/vU57vf/f8vUvNxffc10v3PP+d9z7j3n3A88Ho/H4/F4PO3JMGAlcBp4DLwFfgCNwCVgDdA/hf5+QBlwDngOfAc+AQ3AeWAdMCrNAiYAx4FmoCXH0wRUAJ1j6O8EbAa+RNDfAlwAJsdZQEdgW8QF2Oe2ejgXfYFbCfS3ALuiOKwncC2hgcwj2684i43ewMMs8z8DX3PYuAkUhRkoAC6HTJTFrQbGqsfFIyN0b790yF8P8Vq+ngUrXw8sAfoEZHsAs4A9em7snCthkalyCD8BSnNEsSjkx1U6ZFc45KoibJXBQLVj7l4rOM1xJuRw9SIaXTTDBOf/AaYHZAYCH4zMQSAvoo18dY61MSkoVGsE7mto4yCReeqIaMbbOx3bqWtMG/laBoJ65Di0Ms68kMhMJBkzHJFdq++mmnGRTcJQc2aatdax3Rg4QTr2GX3vAxnmlI6dSWmjytgol8GLZnBxSiOSej8anbKthNHA77iFzcFso18cxGszKKFLS7nR+RMYqe8WtYH+YqNf6tJ/5yNOm5EtizUa3dLutBV52hZldEubw7fAgPzfVix05P1gOk7rqGYTgNYuM2hM+qC03irQvzeM7toYdSMbw43eZ2gGCQ7OJB3ztBNGD7VNx8tIz3KjU6o+m8yg9DZJEW/X6Z6VtkI4bPS/y9FURuGq0VmRSYnBQfkRJSRjvmk/0Cz4zeFBqdJJmONoU1oLonDHvDyZwFB33auuDqHMcfA3JljEQOCF0VMTFJjpMFQZczFHzPw3gcSRr629tSHX2KgMAu6a+b/0avEPxxyGzgJDchjoAOx2zF1q5ETPK4fcgQhd9ly9z9u5W8O2Rp1DWD407Fdl9uKzALgX4gBXmp0SckmS6O3QOlOilzdpZlfpbdDKZ9oScaITyTQPQiZmnsxXjrD3DWbBllJHLxb3qQEKc0SRbsChhAYkOgNyGQDG610lrv4/wJZskQjzXNQPEU26NaSix2kzNurHhig2qnW7JWYMsF7v5fV6v2jSNChXgA2aUZJSqB3x0YB+KZqPtOso0w8dHo/H4/F4PB7ah7/2x/s1CzUbPgAAAABJRU5ErkJggg==";function JS(e){let t,r,n,i;return{c(){t=Y("img"),n=ye(),i=Y("div"),Dd(t.src,r=ZS)||H(t,"src",r),W(t,"width","20px"),W(t,"height","20px"),W(t,"margin-right","0px"),W(t,"vertical-align","middle"),W(i,"width","20px"),W(i,"height","1px"),W(i,"background","1px"),W(i,"background","#333"),W(i,"position","absolute"),W(i,"left","10px"),W(i,"margin-top","-3px")},m(s,l){We(s,t,l),We(s,n,l),We(s,i,l)},p:nr,d(s){s&&(Ge(t),Ge(n),Ge(i))}}}function jS(e){let t,r=e[7](e[1]>0?e[4]/On:0)+"",n;return{c(){t=new vu(!1),n=pu(),t.a=n},m(i,s){t.m(r,i,s),We(i,n,s)},p(i,s){s&18&&r!==(r=i[7](i[1]>0?i[4]/On:0)+"")&&t.p(r)},d(i){i&&(Ge(n),t.d())}}}function $S(e){let t,r,n,i,s,l,u,c,f,d,p,v,y,x,m;return{c(){t=Y("div"),t.textContent="Tunneling activity restriction time",r=ye(),n=Y("div"),i=Y("div"),s=Y("input"),u=wt(`dÂ \r
            `),c=Y("input"),d=wt(`hÂ \r
            `),p=Y("input"),y=wt("mÂ "),W(t,"display","block"),W(t,"font-size","12pt"),W(t,"margin-bottom","15px"),W(t,"font-weight","bold"),H(s,"id","input-timeout-day"),H(s,"type","number"),H(s,"min","0"),H(s,"max","99999"),W(s,"width","40px"),W(s,"text-align","right"),s.value=l=Math.floor(e[2]/60/60/24),H(c,"id","input-timeout-hour"),H(c,"type","number"),H(c,"min","0"),H(c,"max","23"),W(c,"width","40px"),W(c,"text-align","right"),c.value=f=Math.floor(e[2]/60/60)%24,H(p,"id","input-timeout-min"),H(p,"type","number"),H(p,"min","0"),H(p,"max","59"),W(p,"width","40px"),W(p,"text-align","right"),p.value=v=Math.floor(e[2]/60)%60,W(i,"display","block"),W(i,"font-size","12pt"),W(n,"width","100%"),W(n,"text-align","center")},m(C,A){We(C,t,A),We(C,r,A),We(C,n,A),L(n,i),L(i,s),L(i,u),L(i,c),L(i,d),L(i,p),L(i,y),x||(m=[Me(s,"keyup",e[9]),Me(c,"keyup",e[9]),Me(p,"keyup",e[9])],x=!0)},p(C,A){A&4&&l!==(l=Math.floor(C[2]/60/60/24))&&s.value!==l&&(s.value=l),A&4&&f!==(f=Math.floor(C[2]/60/60)%24)&&c.value!==f&&(c.value=f),A&4&&v!==(v=Math.floor(C[2]/60)%60)&&p.value!==v&&(p.value=v)},d(C){C&&(Ge(t),Ge(r),Ge(n)),x=!1,mn(m)}}}function eb(e){let t,r,n,i,s,l,u,c,f,d,p,v,y,x,m,C,A,S,E,R,k,N,D,F,j;function P(ee,ne){if(ee[1]>=0&&ee[2]>0)return jS;if(ee[2]===0)return JS}let O=P(e),q=O&&O(e);function Z(ee){e[14](ee)}let de={$$slots:{default:[$S]},$$scope:{ctx:e}};return e[6]!==void 0&&(de.show=e[6]),E=new v0({props:de}),jt.push(()=>pn(E,"show",Z)),E.$on("close",e[10]),{c(){t=Y("div"),r=Y("div"),q&&q.c(),i=ye(),s=Y("div"),l=Y("div"),u=ye(),c=Y("div"),f=ye(),d=Y("div"),p=ye(),v=Y("div"),y=ye(),x=Y("div"),m=ye(),C=Y("div"),S=ye(),_r(E.$$.fragment),k=ye(),N=Y("div"),H(r,"class","time-text svelte-pnvd21"),H(r,"style",n=e[2]<=0?"min-width: 30px":""),H(l,"class","T-L svelte-pnvd21"),H(c,"class","T-I svelte-pnvd21"),H(d,"class","circle svelte-pnvd21"),H(v,"class","end-point svelte-pnvd21"),H(x,"class","axis svelte-pnvd21"),H(C,"class",A="second-hand "+(e[3]?"second-hand-animation":"")+" svelte-pnvd21"),H(s,"class","clock svelte-pnvd21"),W(s,"display",e[1]<0?"none":""),H(N,"role","button"),W(N,"cursor","pointer"),W(N,"position","absolute"),W(N,"top","-5px"),W(N,"left","0"),W(N,"width","100%"),W(N,"height","100%"),H(t,"class","main svelte-pnvd21"),H(t,"style",e[0])},m(ee,ne){We(ee,t,ne),L(t,r),q&&q.m(r,null),L(t,i),L(t,s),L(s,l),L(s,u),L(s,c),L(s,f),L(s,d),L(s,p),L(s,v),L(s,y),L(s,x),L(s,m),L(s,C),e[13](C),L(t,S),cr(E,t,null),L(t,k),L(t,N),D=!0,F||(j=Me(N,"click",e[8]),F=!0)},p(ee,[ne]){O===(O=P(ee))&&q?q.p(ee,ne):(q&&q.d(1),q=O&&O(ee),q&&(q.c(),q.m(r,null))),(!D||ne&4&&n!==(n=ee[2]<=0?"min-width: 30px":""))&&H(r,"style",n),(!D||ne&8&&A!==(A="second-hand "+(ee[3]?"second-hand-animation":"")+" svelte-pnvd21"))&&H(C,"class",A),(!D||ne&2)&&W(s,"display",ee[1]<0?"none":"");const ie={};ne&524292&&(ie.$$scope={dirty:ne,ctx:ee}),!R&&ne&64&&(R=!0,ie.show=ee[6],dn(()=>R=!1)),E.$set(ie),(!D||ne&1)&&H(t,"style",ee[0])},i(ee){D||(at(E.$$.fragment,ee),D=!0)},o(ee){_t(E.$$.fragment,ee),D=!1},d(ee){ee&&Ge(t),q&&q.d(),e[13](null),hr(E),F=!1,j()}}}const On=20,Wl=100,Ad=95,tb=440;function rb(e,t,r){let{style:n=""}=t,i=0,s=-1,l=!1,u=i*On,c=i*On,f,d=!1,p=Bs();const v=N=>{if(i!=null&&(r(1,i=N),r(2,s=N),s<=0)){r(3,l=!0);return}r(3,l=!1),u=s*On,r(4,c=s*On)};let y=(N,D,F,j,P)=>(N-D)*(P-j)/(F-D)+j,x=()=>{if(f){let N=Math.floor(y(u-c,0,u,Ad,tb));r(5,f.style.rotate=`${N}deg`,f),r(4,c--,c),c<=0&&s<=0?(u=Wl,r(4,c=u)):c<=0&&r(4,c=0)}};const m=(N,D)=>{if(D!=null)if(r(2,s=D),D<=0){r(3,l=!0);return}else D>0&&(r(3,l=!1),u=s*On);s<=0||(r(1,i=N),r(4,c=i*On),x())};ti(async()=>{f&&r(5,f.style.rotate=`${Ad}deg`,f)});let C=N=>{let D='<span style="font-size: 12px">';if(N<=0)return`0${D}m</span> 0${D}s</span>`;let F=Math.floor(N/60)%60,j=Math.floor(N/60/60)%24,P=Math.floor(N%60),O=Math.floor(N/60/60/24);return O>0?`${O}${D}d</span> ${j}${D}h</span> ${D}${F}m</span>`:j>0?`${j}${D}h</span> ${F}${D}m</span> ${D}${P}s</span>`:`${F}${D}m</span> ${P}${D}s</span>`},A=()=>{r(6,d=!0)},S=N=>{let D=N.target;D.value!=""&&(parseInt(D.value)<parseInt(D.min)&&(D.value=D.min),parseInt(D.value)>parseInt(D.max)&&(D.value=D.max))},E=()=>{let N=parseInt(document.getElementById("input-timeout-day").value),D=parseInt(document.getElementById("input-timeout-hour").value),F=parseInt(document.getElementById("input-timeout-min").value);N=isNaN(N)?0:N,D=isNaN(D)?0:D,F=isNaN(F)?0:F;let j=s;r(2,s=N*24*60*60+D*60*60+F*60),s!=0?(u=s*On,r(4,c=s*On)):(u=Wl,r(4,c=Wl)),j!=s&&p("change",{time:s})};function R(N){jt[N?"unshift":"push"](()=>{f=N,r(5,f)})}function k(N){d=N,r(6,d)}return e.$$set=N=>{"style"in N&&r(0,n=N.style)},[n,i,s,l,c,f,d,C,A,S,E,v,m,R,k]}class nb extends wn{constructor(t){super(),In(this,t,rb,eb,Bn,{style:0,reset:11,update:12})}get style(){return this.$$.ctx[0]}set style(t){this.$$set({style:t}),yu()}get reset(){return this.$$.ctx[11]}get update(){return this.$$.ctx[12]}}var Ts={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ts.exports;(function(e,t){(function(){var r,n="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",p=1,v=2,y=4,x=1,m=2,C=1,A=2,S=4,E=8,R=16,k=32,N=64,D=128,F=256,j=512,P=30,O="...",q=800,Z=16,de=1,ee=2,ne=3,ie=1/0,_e=9007199254740991,Pe=17976931348623157e292,le=0/0,G=4294967295,$=G-1,oe=G>>>1,te=[["ary",D],["bind",C],["bindKey",A],["curry",E],["curryRight",R],["flip",j],["partial",k],["partialRight",N],["rearg",F]],we="[object Arguments]",Ae="[object Array]",Fe="[object AsyncFunction]",me="[object Boolean]",Re="[object Date]",st="[object DOMException]",$e="[object Error]",ze="[object Function]",et="[object GeneratorFunction]",ke="[object Map]",rt="[object Number]",$t="[object Null]",Ut="[object Object]",Ct="[object Promise]",er="[object Proxy]",ar="[object RegExp]",pt="[object Set]",It="[object String]",zt="[object Symbol]",ae="[object Undefined]",re="[object WeakMap]",De="[object WeakSet]",Le="[object ArrayBuffer]",Rt="[object DataView]",Rn="[object Float32Array]",jr="[object Float64Array]",tr="[object Int8Array]",$r="[object Int16Array]",Kr="[object Int32Array]",Wn="[object Uint8Array]",en="[object Uint8ClampedArray]",Hr="[object Uint16Array]",Nn="[object Uint32Array]",oa=/\b__p \+= '';/g,la=/\b(__p \+=) '' \+/g,Na=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cn=/&(?:amp|lt|gt|quot|#39);/g,kn=/[&<>"']/g,ka=RegExp(Cn.source),ii=RegExp(kn.source),pr=/<%-([\s\S]+?)%>/g,ua=/<%([\s\S]+?)%>/g,La=/<%=([\s\S]+?)%>/g,si=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qn=/^\w*$/,Lr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ot=/[\\^$.*+?()[\]{}|]/g,vr=RegExp(Ot.source),Dr=/^\s+/,oi=/\s/,Gt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ms=/\{\n\/\* \[wrapped with (.+)\] \*/,Ks=/,? & /,Hs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qs=/[()=,{}\[\]\/\s]/,g0=/\\(\\)?/g,zs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xt=/\w*$/,Gs=/^[-+]0x[0-9a-f]+$/i,Ws=/^0b[01]+$/i,Qs=/^\[object .+?Constructor\]$/,y0=/^0o[0-7]+$/i,tn=/^(?:0|[1-9]\d*)$/,At=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Da=/($^)/,Lp=/['\n\r\u2028\u2029\\]/g,x0="\\ud800-\\udfff",Dp="\\u0300-\\u036f",Pp="\\ufe20-\\ufe2f",Up="\\u20d0-\\u20ff",Fu=Dp+Pp+Up,Vu="\\u2700-\\u27bf",Mu="a-z\\xdf-\\xf6\\xf8-\\xff",Op="\\xac\\xb1\\xd7\\xf7",Fp="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Vp="\\u2000-\\u206f",Mp=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ku="A-Z\\xc0-\\xd6\\xd8-\\xde",Hu="\\ufe0e\\ufe0f",qu=Op+Fp+Vp+Mp,Ys="['â]",Kp="["+x0+"]",zu="["+qu+"]",m0="["+Fu+"]",Gu="\\d+",Hp="["+Vu+"]",Wu="["+Mu+"]",Qu="[^"+x0+qu+Gu+Vu+Mu+Ku+"]",Xs="\\ud83c[\\udffb-\\udfff]",qp="(?:"+m0+"|"+Xs+")",Yu="[^"+x0+"]",Zs="(?:\\ud83c[\\udde6-\\uddff]){2}",Js="[\\ud800-\\udbff][\\udc00-\\udfff]",li="["+Ku+"]",Xu="\\u200d",Zu="(?:"+Wu+"|"+Qu+")",zp="(?:"+li+"|"+Qu+")",Ju="(?:"+Ys+"(?:d|ll|m|re|s|t|ve))?",ju="(?:"+Ys+"(?:D|LL|M|RE|S|T|VE))?",$u=qp+"?",ef="["+Hu+"]?",Gp="(?:"+Xu+"(?:"+[Yu,Zs,Js].join("|")+")"+ef+$u+")*",Wp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",tf=ef+$u+Gp,Yp="(?:"+[Hp,Zs,Js].join("|")+")"+tf,Xp="(?:"+[Yu+m0+"?",m0,Zs,Js,Kp].join("|")+")",Zp=RegExp(Ys,"g"),Jp=RegExp(m0,"g"),js=RegExp(Xs+"(?="+Xs+")|"+Xp+tf,"g"),jp=RegExp([li+"?"+Wu+"+"+Ju+"(?="+[zu,li,"$"].join("|")+")",zp+"+"+ju+"(?="+[zu,li+Zu,"$"].join("|")+")",li+"?"+Zu+"+"+Ju,li+"+"+ju,Qp,Wp,Gu,Yp].join("|"),"g"),$p=RegExp("["+Xu+x0+Fu+Hu+"]"),e1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,t1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],r1=-1,Ft={};Ft[Rn]=Ft[jr]=Ft[tr]=Ft[$r]=Ft[Kr]=Ft[Wn]=Ft[en]=Ft[Hr]=Ft[Nn]=!0,Ft[we]=Ft[Ae]=Ft[Le]=Ft[me]=Ft[Rt]=Ft[Re]=Ft[$e]=Ft[ze]=Ft[ke]=Ft[rt]=Ft[Ut]=Ft[ar]=Ft[pt]=Ft[It]=Ft[re]=!1;var Lt={};Lt[we]=Lt[Ae]=Lt[Le]=Lt[Rt]=Lt[me]=Lt[Re]=Lt[Rn]=Lt[jr]=Lt[tr]=Lt[$r]=Lt[Kr]=Lt[ke]=Lt[rt]=Lt[Ut]=Lt[ar]=Lt[pt]=Lt[It]=Lt[zt]=Lt[Wn]=Lt[en]=Lt[Hr]=Lt[Nn]=!0,Lt[$e]=Lt[ze]=Lt[re]=!1;var n1={Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã:"C",Ã§:"c",Ã:"D",Ã°:"d",Ã:"E",Ã:"E",Ã:"E",Ã:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",Ã:"I",Ã:"I",Ã:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã:"N",Ã±:"n",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã:"U",Ã:"U",Ã:"U",Ã:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã:"Ae",Ã¦:"ae",Ã:"Th",Ã¾:"th",Ã:"ss",Ä:"A",Ä:"A",Ä:"A",Ä:"a",Ä:"a",Ä:"a",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"D",Ä:"D",Ä:"d",Ä:"d",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"G",Ä:"G",Ä :"G",Ä¢:"G",Ä:"g",Ä:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å:"l",Å:"l",Å:"N",Å:"N",Å:"N",Å:"N",Å:"n",Å:"n",Å:"n",Å:"n",Å:"O",Å:"O",Å:"O",Å:"o",Å:"o",Å:"o",Å:"R",Å:"R",Å:"R",Å:"r",Å:"r",Å:"r",Å:"S",Å:"S",Å:"S",Å :"S",Å:"s",Å:"s",Å:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å:"Oe",Å:"oe",Å:"'n",Å¿:"s"},a1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i1={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},s1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},o1=parseFloat,l1=parseInt,rf=typeof Ye=="object"&&Ye&&Ye.Object===Object&&Ye,u1=typeof self=="object"&&self&&self.Object===Object&&self,gr=rf||u1||Function("return this")(),$s=t&&!t.nodeType&&t,Pa=$s&&!0&&e&&!e.nodeType&&e,nf=Pa&&Pa.exports===$s,eo=nf&&rf.process,rn=function(){try{var Q=Pa&&Pa.require&&Pa.require("util").types;return Q||eo&&eo.binding&&eo.binding("util")}catch{}}(),af=rn&&rn.isArrayBuffer,sf=rn&&rn.isDate,of=rn&&rn.isMap,lf=rn&&rn.isRegExp,uf=rn&&rn.isSet,ff=rn&&rn.isTypedArray;function qr(Q,fe,se){switch(se.length){case 0:return Q.call(fe);case 1:return Q.call(fe,se[0]);case 2:return Q.call(fe,se[0],se[1]);case 3:return Q.call(fe,se[0],se[1],se[2])}return Q.apply(fe,se)}function f1(Q,fe,se,Ie){for(var Qe=-1,Et=Q==null?0:Q.length;++Qe<Et;){var ir=Q[Qe];fe(Ie,ir,se(ir),Q)}return Ie}function nn(Q,fe){for(var se=-1,Ie=Q==null?0:Q.length;++se<Ie&&fe(Q[se],se,Q)!==!1;);return Q}function c1(Q,fe){for(var se=Q==null?0:Q.length;se--&&fe(Q[se],se,Q)!==!1;);return Q}function cf(Q,fe){for(var se=-1,Ie=Q==null?0:Q.length;++se<Ie;)if(!fe(Q[se],se,Q))return!1;return!0}function fa(Q,fe){for(var se=-1,Ie=Q==null?0:Q.length,Qe=0,Et=[];++se<Ie;){var ir=Q[se];fe(ir,se,Q)&&(Et[Qe++]=ir)}return Et}function C0(Q,fe){var se=Q==null?0:Q.length;return!!se&&ui(Q,fe,0)>-1}function to(Q,fe,se){for(var Ie=-1,Qe=Q==null?0:Q.length;++Ie<Qe;)if(se(fe,Q[Ie]))return!0;return!1}function Kt(Q,fe){for(var se=-1,Ie=Q==null?0:Q.length,Qe=Array(Ie);++se<Ie;)Qe[se]=fe(Q[se],se,Q);return Qe}function ca(Q,fe){for(var se=-1,Ie=fe.length,Qe=Q.length;++se<Ie;)Q[Qe+se]=fe[se];return Q}function ro(Q,fe,se,Ie){var Qe=-1,Et=Q==null?0:Q.length;for(Ie&&Et&&(se=Q[++Qe]);++Qe<Et;)se=fe(se,Q[Qe],Qe,Q);return se}function h1(Q,fe,se,Ie){var Qe=Q==null?0:Q.length;for(Ie&&Qe&&(se=Q[--Qe]);Qe--;)se=fe(se,Q[Qe],Qe,Q);return se}function no(Q,fe){for(var se=-1,Ie=Q==null?0:Q.length;++se<Ie;)if(fe(Q[se],se,Q))return!0;return!1}var d1=ao("length");function p1(Q){return Q.split("")}function v1(Q){return Q.match(Hs)||[]}function hf(Q,fe,se){var Ie;return se(Q,function(Qe,Et,ir){if(fe(Qe,Et,ir))return Ie=Et,!1}),Ie}function _0(Q,fe,se,Ie){for(var Qe=Q.length,Et=se+(Ie?1:-1);Ie?Et--:++Et<Qe;)if(fe(Q[Et],Et,Q))return Et;return-1}function ui(Q,fe,se){return fe===fe?B1(Q,fe,se):_0(Q,df,se)}function g1(Q,fe,se,Ie){for(var Qe=se-1,Et=Q.length;++Qe<Et;)if(Ie(Q[Qe],fe))return Qe;return-1}function df(Q){return Q!==Q}function pf(Q,fe){var se=Q==null?0:Q.length;return se?so(Q,fe)/se:le}function ao(Q){return function(fe){return fe==null?r:fe[Q]}}function io(Q){return function(fe){return Q==null?r:Q[fe]}}function vf(Q,fe,se,Ie,Qe){return Qe(Q,function(Et,ir,Nt){se=Ie?(Ie=!1,Et):fe(se,Et,ir,Nt)}),se}function y1(Q,fe){var se=Q.length;for(Q.sort(fe);se--;)Q[se]=Q[se].value;return Q}function so(Q,fe){for(var se,Ie=-1,Qe=Q.length;++Ie<Qe;){var Et=fe(Q[Ie]);Et!==r&&(se=se===r?Et:se+Et)}return se}function oo(Q,fe){for(var se=-1,Ie=Array(Q);++se<Q;)Ie[se]=fe(se);return Ie}function x1(Q,fe){return Kt(fe,function(se){return[se,Q[se]]})}function gf(Q){return Q&&Q.slice(0,Cf(Q)+1).replace(Dr,"")}function zr(Q){return function(fe){return Q(fe)}}function lo(Q,fe){return Kt(fe,function(se){return Q[se]})}function Mi(Q,fe){return Q.has(fe)}function yf(Q,fe){for(var se=-1,Ie=Q.length;++se<Ie&&ui(fe,Q[se],0)>-1;);return se}function xf(Q,fe){for(var se=Q.length;se--&&ui(fe,Q[se],0)>-1;);return se}function m1(Q,fe){for(var se=Q.length,Ie=0;se--;)Q[se]===fe&&++Ie;return Ie}var C1=io(n1),_1=io(a1);function E1(Q){return"\\"+s1[Q]}function S1(Q,fe){return Q==null?r:Q[fe]}function fi(Q){return $p.test(Q)}function b1(Q){return e1.test(Q)}function T1(Q){for(var fe,se=[];!(fe=Q.next()).done;)se.push(fe.value);return se}function uo(Q){var fe=-1,se=Array(Q.size);return Q.forEach(function(Ie,Qe){se[++fe]=[Qe,Ie]}),se}function mf(Q,fe){return function(se){return Q(fe(se))}}function ha(Q,fe){for(var se=-1,Ie=Q.length,Qe=0,Et=[];++se<Ie;){var ir=Q[se];(ir===fe||ir===d)&&(Q[se]=d,Et[Qe++]=se)}return Et}function E0(Q){var fe=-1,se=Array(Q.size);return Q.forEach(function(Ie){se[++fe]=Ie}),se}function A1(Q){var fe=-1,se=Array(Q.size);return Q.forEach(function(Ie){se[++fe]=[Ie,Ie]}),se}function B1(Q,fe,se){for(var Ie=se-1,Qe=Q.length;++Ie<Qe;)if(Q[Ie]===fe)return Ie;return-1}function I1(Q,fe,se){for(var Ie=se+1;Ie--;)if(Q[Ie]===fe)return Ie;return Ie}function ci(Q){return fi(Q)?R1(Q):d1(Q)}function _n(Q){return fi(Q)?N1(Q):p1(Q)}function Cf(Q){for(var fe=Q.length;fe--&&oi.test(Q.charAt(fe)););return fe}var w1=io(i1);function R1(Q){for(var fe=js.lastIndex=0;js.test(Q);)++fe;return fe}function N1(Q){return Q.match(js)||[]}function k1(Q){return Q.match(jp)||[]}var L1=function Q(fe){fe=fe==null?gr:hi.defaults(gr.Object(),fe,hi.pick(gr,t1));var se=fe.Array,Ie=fe.Date,Qe=fe.Error,Et=fe.Function,ir=fe.Math,Nt=fe.Object,fo=fe.RegExp,D1=fe.String,an=fe.TypeError,S0=se.prototype,P1=Et.prototype,di=Nt.prototype,b0=fe["__core-js_shared__"],T0=P1.toString,Bt=di.hasOwnProperty,U1=0,_f=function(){var a=/[^.]+$/.exec(b0&&b0.keys&&b0.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),A0=di.toString,O1=T0.call(Nt),F1=gr._,V1=fo("^"+T0.call(Bt).replace(Ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B0=nf?fe.Buffer:r,da=fe.Symbol,I0=fe.Uint8Array,Ef=B0?B0.allocUnsafe:r,w0=mf(Nt.getPrototypeOf,Nt),Sf=Nt.create,bf=di.propertyIsEnumerable,R0=S0.splice,Tf=da?da.isConcatSpreadable:r,Ki=da?da.iterator:r,Ua=da?da.toStringTag:r,N0=function(){try{var a=Ka(Nt,"defineProperty");return a({},"",{}),a}catch{}}(),M1=fe.clearTimeout!==gr.clearTimeout&&fe.clearTimeout,K1=Ie&&Ie.now!==gr.Date.now&&Ie.now,H1=fe.setTimeout!==gr.setTimeout&&fe.setTimeout,k0=ir.ceil,L0=ir.floor,co=Nt.getOwnPropertySymbols,q1=B0?B0.isBuffer:r,Af=fe.isFinite,z1=S0.join,G1=mf(Nt.keys,Nt),sr=ir.max,Sr=ir.min,W1=Ie.now,Q1=fe.parseInt,Bf=ir.random,Y1=S0.reverse,ho=Ka(fe,"DataView"),Hi=Ka(fe,"Map"),po=Ka(fe,"Promise"),pi=Ka(fe,"Set"),qi=Ka(fe,"WeakMap"),zi=Ka(Nt,"create"),D0=qi&&new qi,vi={},X1=Ha(ho),Z1=Ha(Hi),J1=Ha(po),j1=Ha(pi),$1=Ha(qi),P0=da?da.prototype:r,Gi=P0?P0.valueOf:r,If=P0?P0.toString:r;function I(a){if(Wt(a)&&!Xe(a)&&!(a instanceof ct)){if(a instanceof sn)return a;if(Bt.call(a,"__wrapped__"))return wc(a)}return new sn(a)}var gi=function(){function a(){}return function(o){if(!qt(o))return{};if(Sf)return Sf(o);a.prototype=o;var h=new a;return a.prototype=r,h}}();function U0(){}function sn(a,o){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=r}I.templateSettings={escape:pr,evaluate:ua,interpolate:La,variable:"",imports:{_:I}},I.prototype=U0.prototype,I.prototype.constructor=I,sn.prototype=gi(U0.prototype),sn.prototype.constructor=sn;function ct(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=G,this.__views__=[]}function ev(){var a=new ct(this.__wrapped__);return a.__actions__=Pr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Pr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Pr(this.__views__),a}function tv(){if(this.__filtered__){var a=new ct(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function rv(){var a=this.__wrapped__.value(),o=this.__dir__,h=Xe(a),g=o<0,_=h?a.length:0,w=pg(0,_,this.__views__),U=w.start,M=w.end,X=M-U,ce=g?M:U-1,he=this.__iteratees__,ge=he.length,Se=0,Ne=Sr(X,this.__takeCount__);if(!h||!g&&_==X&&Ne==X)return jf(a,this.__actions__);var Ke=[];e:for(;X--&&Se<Ne;){ce+=o;for(var tt=-1,He=a[ce];++tt<ge;){var ot=he[tt],dt=ot.iteratee,Qr=ot.type,Br=dt(He);if(Qr==ee)He=Br;else if(!Br){if(Qr==de)continue e;break e}}Ke[Se++]=He}return Ke}ct.prototype=gi(U0.prototype),ct.prototype.constructor=ct;function Oa(a){var o=-1,h=a==null?0:a.length;for(this.clear();++o<h;){var g=a[o];this.set(g[0],g[1])}}function nv(){this.__data__=zi?zi(null):{},this.size=0}function av(a){var o=this.has(a)&&delete this.__data__[a];return this.size-=o?1:0,o}function iv(a){var o=this.__data__;if(zi){var h=o[a];return h===c?r:h}return Bt.call(o,a)?o[a]:r}function sv(a){var o=this.__data__;return zi?o[a]!==r:Bt.call(o,a)}function ov(a,o){var h=this.__data__;return this.size+=this.has(a)?0:1,h[a]=zi&&o===r?c:o,this}Oa.prototype.clear=nv,Oa.prototype.delete=av,Oa.prototype.get=iv,Oa.prototype.has=sv,Oa.prototype.set=ov;function Yn(a){var o=-1,h=a==null?0:a.length;for(this.clear();++o<h;){var g=a[o];this.set(g[0],g[1])}}function lv(){this.__data__=[],this.size=0}function uv(a){var o=this.__data__,h=O0(o,a);if(h<0)return!1;var g=o.length-1;return h==g?o.pop():R0.call(o,h,1),--this.size,!0}function fv(a){var o=this.__data__,h=O0(o,a);return h<0?r:o[h][1]}function cv(a){return O0(this.__data__,a)>-1}function hv(a,o){var h=this.__data__,g=O0(h,a);return g<0?(++this.size,h.push([a,o])):h[g][1]=o,this}Yn.prototype.clear=lv,Yn.prototype.delete=uv,Yn.prototype.get=fv,Yn.prototype.has=cv,Yn.prototype.set=hv;function Xn(a){var o=-1,h=a==null?0:a.length;for(this.clear();++o<h;){var g=a[o];this.set(g[0],g[1])}}function dv(){this.size=0,this.__data__={hash:new Oa,map:new(Hi||Yn),string:new Oa}}function pv(a){var o=X0(this,a).delete(a);return this.size-=o?1:0,o}function vv(a){return X0(this,a).get(a)}function gv(a){return X0(this,a).has(a)}function yv(a,o){var h=X0(this,a),g=h.size;return h.set(a,o),this.size+=h.size==g?0:1,this}Xn.prototype.clear=dv,Xn.prototype.delete=pv,Xn.prototype.get=vv,Xn.prototype.has=gv,Xn.prototype.set=yv;function Fa(a){var o=-1,h=a==null?0:a.length;for(this.__data__=new Xn;++o<h;)this.add(a[o])}function xv(a){return this.__data__.set(a,c),this}function mv(a){return this.__data__.has(a)}Fa.prototype.add=Fa.prototype.push=xv,Fa.prototype.has=mv;function En(a){var o=this.__data__=new Yn(a);this.size=o.size}function Cv(){this.__data__=new Yn,this.size=0}function _v(a){var o=this.__data__,h=o.delete(a);return this.size=o.size,h}function Ev(a){return this.__data__.get(a)}function Sv(a){return this.__data__.has(a)}function bv(a,o){var h=this.__data__;if(h instanceof Yn){var g=h.__data__;if(!Hi||g.length<i-1)return g.push([a,o]),this.size=++h.size,this;h=this.__data__=new Xn(g)}return h.set(a,o),this.size=h.size,this}En.prototype.clear=Cv,En.prototype.delete=_v,En.prototype.get=Ev,En.prototype.has=Sv,En.prototype.set=bv;function wf(a,o){var h=Xe(a),g=!h&&qa(a),_=!h&&!g&&xa(a),w=!h&&!g&&!_&&Ci(a),U=h||g||_||w,M=U?oo(a.length,D1):[],X=M.length;for(var ce in a)(o||Bt.call(a,ce))&&!(U&&(ce=="length"||_&&(ce=="offset"||ce=="parent")||w&&(ce=="buffer"||ce=="byteLength"||ce=="byteOffset")||$n(ce,X)))&&M.push(ce);return M}function Rf(a){var o=a.length;return o?a[To(0,o-1)]:r}function Tv(a,o){return Z0(Pr(a),Va(o,0,a.length))}function Av(a){return Z0(Pr(a))}function vo(a,o,h){(h!==r&&!Sn(a[o],h)||h===r&&!(o in a))&&Zn(a,o,h)}function Wi(a,o,h){var g=a[o];(!(Bt.call(a,o)&&Sn(g,h))||h===r&&!(o in a))&&Zn(a,o,h)}function O0(a,o){for(var h=a.length;h--;)if(Sn(a[h][0],o))return h;return-1}function Bv(a,o,h,g){return pa(a,function(_,w,U){o(g,_,h(_),U)}),g}function Nf(a,o){return a&&Dn(o,or(o),a)}function Iv(a,o){return a&&Dn(o,Or(o),a)}function Zn(a,o,h){o=="__proto__"&&N0?N0(a,o,{configurable:!0,enumerable:!0,value:h,writable:!0}):a[o]=h}function go(a,o){for(var h=-1,g=o.length,_=se(g),w=a==null;++h<g;)_[h]=w?r:Zo(a,o[h]);return _}function Va(a,o,h){return a===a&&(h!==r&&(a=a<=h?a:h),o!==r&&(a=a>=o?a:o)),a}function on(a,o,h,g,_,w){var U,M=o&p,X=o&v,ce=o&y;if(h&&(U=_?h(a,g,_,w):h(a)),U!==r)return U;if(!qt(a))return a;var he=Xe(a);if(he){if(U=gg(a),!M)return Pr(a,U)}else{var ge=br(a),Se=ge==ze||ge==et;if(xa(a))return tc(a,M);if(ge==Ut||ge==we||Se&&!_){if(U=X||Se?{}:Cc(a),!M)return X?ig(a,Iv(U,a)):ag(a,Nf(U,a))}else{if(!Lt[ge])return _?a:{};U=yg(a,ge,M)}}w||(w=new En);var Ne=w.get(a);if(Ne)return Ne;w.set(a,U),Xc(a)?a.forEach(function(He){U.add(on(He,o,h,He,a,w))}):Qc(a)&&a.forEach(function(He,ot){U.set(ot,on(He,o,h,ot,a,w))});var Ke=ce?X?Uo:Po:X?Or:or,tt=he?r:Ke(a);return nn(tt||a,function(He,ot){tt&&(ot=He,He=a[ot]),Wi(U,ot,on(He,o,h,ot,a,w))}),U}function wv(a){var o=or(a);return function(h){return kf(h,a,o)}}function kf(a,o,h){var g=h.length;if(a==null)return!g;for(a=Nt(a);g--;){var _=h[g],w=o[_],U=a[_];if(U===r&&!(_ in a)||!w(U))return!1}return!0}function Lf(a,o,h){if(typeof a!="function")throw new an(l);return $i(function(){a.apply(r,h)},o)}function Qi(a,o,h,g){var _=-1,w=C0,U=!0,M=a.length,X=[],ce=o.length;if(!M)return X;h&&(o=Kt(o,zr(h))),g?(w=to,U=!1):o.length>=i&&(w=Mi,U=!1,o=new Fa(o));e:for(;++_<M;){var he=a[_],ge=h==null?he:h(he);if(he=g||he!==0?he:0,U&&ge===ge){for(var Se=ce;Se--;)if(o[Se]===ge)continue e;X.push(he)}else w(o,ge,g)||X.push(he)}return X}var pa=sc(Ln),Df=sc(xo,!0);function Rv(a,o){var h=!0;return pa(a,function(g,_,w){return h=!!o(g,_,w),h}),h}function F0(a,o,h){for(var g=-1,_=a.length;++g<_;){var w=a[g],U=o(w);if(U!=null&&(M===r?U===U&&!Wr(U):h(U,M)))var M=U,X=w}return X}function Nv(a,o,h,g){var _=a.length;for(h=Je(h),h<0&&(h=-h>_?0:_+h),g=g===r||g>_?_:Je(g),g<0&&(g+=_),g=h>g?0:Jc(g);h<g;)a[h++]=o;return a}function Pf(a,o){var h=[];return pa(a,function(g,_,w){o(g,_,w)&&h.push(g)}),h}function yr(a,o,h,g,_){var w=-1,U=a.length;for(h||(h=mg),_||(_=[]);++w<U;){var M=a[w];o>0&&h(M)?o>1?yr(M,o-1,h,g,_):ca(_,M):g||(_[_.length]=M)}return _}var yo=oc(),Uf=oc(!0);function Ln(a,o){return a&&yo(a,o,or)}function xo(a,o){return a&&Uf(a,o,or)}function V0(a,o){return fa(o,function(h){return ea(a[h])})}function Ma(a,o){o=ga(o,a);for(var h=0,g=o.length;a!=null&&h<g;)a=a[Pn(o[h++])];return h&&h==g?a:r}function Of(a,o,h){var g=o(a);return Xe(a)?g:ca(g,h(a))}function Tr(a){return a==null?a===r?ae:$t:Ua&&Ua in Nt(a)?dg(a):Ag(a)}function mo(a,o){return a>o}function kv(a,o){return a!=null&&Bt.call(a,o)}function Lv(a,o){return a!=null&&o in Nt(a)}function Dv(a,o,h){return a>=Sr(o,h)&&a<sr(o,h)}function Co(a,o,h){for(var g=h?to:C0,_=a[0].length,w=a.length,U=w,M=se(w),X=1/0,ce=[];U--;){var he=a[U];U&&o&&(he=Kt(he,zr(o))),X=Sr(he.length,X),M[U]=!h&&(o||_>=120&&he.length>=120)?new Fa(U&&he):r}he=a[0];var ge=-1,Se=M[0];e:for(;++ge<_&&ce.length<X;){var Ne=he[ge],Ke=o?o(Ne):Ne;if(Ne=h||Ne!==0?Ne:0,!(Se?Mi(Se,Ke):g(ce,Ke,h))){for(U=w;--U;){var tt=M[U];if(!(tt?Mi(tt,Ke):g(a[U],Ke,h)))continue e}Se&&Se.push(Ke),ce.push(Ne)}}return ce}function Pv(a,o,h,g){return Ln(a,function(_,w,U){o(g,h(_),w,U)}),g}function Yi(a,o,h){o=ga(o,a),a=bc(a,o);var g=a==null?a:a[Pn(un(o))];return g==null?r:qr(g,a,h)}function Ff(a){return Wt(a)&&Tr(a)==we}function Uv(a){return Wt(a)&&Tr(a)==Le}function Ov(a){return Wt(a)&&Tr(a)==Re}function Xi(a,o,h,g,_){return a===o?!0:a==null||o==null||!Wt(a)&&!Wt(o)?a!==a&&o!==o:Fv(a,o,h,g,Xi,_)}function Fv(a,o,h,g,_,w){var U=Xe(a),M=Xe(o),X=U?Ae:br(a),ce=M?Ae:br(o);X=X==we?Ut:X,ce=ce==we?Ut:ce;var he=X==Ut,ge=ce==Ut,Se=X==ce;if(Se&&xa(a)){if(!xa(o))return!1;U=!0,he=!1}if(Se&&!he)return w||(w=new En),U||Ci(a)?yc(a,o,h,g,_,w):cg(a,o,X,h,g,_,w);if(!(h&x)){var Ne=he&&Bt.call(a,"__wrapped__"),Ke=ge&&Bt.call(o,"__wrapped__");if(Ne||Ke){var tt=Ne?a.value():a,He=Ke?o.value():o;return w||(w=new En),_(tt,He,h,g,w)}}return Se?(w||(w=new En),hg(a,o,h,g,_,w)):!1}function Vv(a){return Wt(a)&&br(a)==ke}function _o(a,o,h,g){var _=h.length,w=_,U=!g;if(a==null)return!w;for(a=Nt(a);_--;){var M=h[_];if(U&&M[2]?M[1]!==a[M[0]]:!(M[0]in a))return!1}for(;++_<w;){M=h[_];var X=M[0],ce=a[X],he=M[1];if(U&&M[2]){if(ce===r&&!(X in a))return!1}else{var ge=new En;if(g)var Se=g(ce,he,X,a,o,ge);if(!(Se===r?Xi(he,ce,x|m,g,ge):Se))return!1}}return!0}function Vf(a){if(!qt(a)||_g(a))return!1;var o=ea(a)?V1:Qs;return o.test(Ha(a))}function Mv(a){return Wt(a)&&Tr(a)==ar}function Kv(a){return Wt(a)&&br(a)==pt}function Hv(a){return Wt(a)&&rs(a.length)&&!!Ft[Tr(a)]}function Mf(a){return typeof a=="function"?a:a==null?Fr:typeof a=="object"?Xe(a)?qf(a[0],a[1]):Hf(a):lh(a)}function Eo(a){if(!ji(a))return G1(a);var o=[];for(var h in Nt(a))Bt.call(a,h)&&h!="constructor"&&o.push(h);return o}function qv(a){if(!qt(a))return Tg(a);var o=ji(a),h=[];for(var g in a)g=="constructor"&&(o||!Bt.call(a,g))||h.push(g);return h}function So(a,o){return a<o}function Kf(a,o){var h=-1,g=Ur(a)?se(a.length):[];return pa(a,function(_,w,U){g[++h]=o(_,w,U)}),g}function Hf(a){var o=Fo(a);return o.length==1&&o[0][2]?Ec(o[0][0],o[0][1]):function(h){return h===a||_o(h,a,o)}}function qf(a,o){return Mo(a)&&_c(o)?Ec(Pn(a),o):function(h){var g=Zo(h,a);return g===r&&g===o?Jo(h,a):Xi(o,g,x|m)}}function M0(a,o,h,g,_){a!==o&&yo(o,function(w,U){if(_||(_=new En),qt(w))zv(a,o,U,h,M0,g,_);else{var M=g?g(Ho(a,U),w,U+"",a,o,_):r;M===r&&(M=w),vo(a,U,M)}},Or)}function zv(a,o,h,g,_,w,U){var M=Ho(a,h),X=Ho(o,h),ce=U.get(X);if(ce){vo(a,h,ce);return}var he=w?w(M,X,h+"",a,o,U):r,ge=he===r;if(ge){var Se=Xe(X),Ne=!Se&&xa(X),Ke=!Se&&!Ne&&Ci(X);he=X,Se||Ne||Ke?Xe(M)?he=M:Zt(M)?he=Pr(M):Ne?(ge=!1,he=tc(X,!0)):Ke?(ge=!1,he=rc(X,!0)):he=[]:e0(X)||qa(X)?(he=M,qa(M)?he=jc(M):(!qt(M)||ea(M))&&(he=Cc(X))):ge=!1}ge&&(U.set(X,he),_(he,X,g,w,U),U.delete(X)),vo(a,h,he)}function zf(a,o){var h=a.length;if(h)return o+=o<0?h:0,$n(o,h)?a[o]:r}function Gf(a,o,h){o.length?o=Kt(o,function(w){return Xe(w)?function(U){return Ma(U,w.length===1?w[0]:w)}:w}):o=[Fr];var g=-1;o=Kt(o,zr(Ve()));var _=Kf(a,function(w,U,M){var X=Kt(o,function(ce){return ce(w)});return{criteria:X,index:++g,value:w}});return y1(_,function(w,U){return ng(w,U,h)})}function Gv(a,o){return Wf(a,o,function(h,g){return Jo(a,g)})}function Wf(a,o,h){for(var g=-1,_=o.length,w={};++g<_;){var U=o[g],M=Ma(a,U);h(M,U)&&Zi(w,ga(U,a),M)}return w}function Wv(a){return function(o){return Ma(o,a)}}function bo(a,o,h,g){var _=g?g1:ui,w=-1,U=o.length,M=a;for(a===o&&(o=Pr(o)),h&&(M=Kt(a,zr(h)));++w<U;)for(var X=0,ce=o[w],he=h?h(ce):ce;(X=_(M,he,X,g))>-1;)M!==a&&R0.call(M,X,1),R0.call(a,X,1);return a}function Qf(a,o){for(var h=a?o.length:0,g=h-1;h--;){var _=o[h];if(h==g||_!==w){var w=_;$n(_)?R0.call(a,_,1):Io(a,_)}}return a}function To(a,o){return a+L0(Bf()*(o-a+1))}function Qv(a,o,h,g){for(var _=-1,w=sr(k0((o-a)/(h||1)),0),U=se(w);w--;)U[g?w:++_]=a,a+=h;return U}function Ao(a,o){var h="";if(!a||o<1||o>_e)return h;do o%2&&(h+=a),o=L0(o/2),o&&(a+=a);while(o);return h}function nt(a,o){return qo(Sc(a,o,Fr),a+"")}function Yv(a){return Rf(_i(a))}function Xv(a,o){var h=_i(a);return Z0(h,Va(o,0,h.length))}function Zi(a,o,h,g){if(!qt(a))return a;o=ga(o,a);for(var _=-1,w=o.length,U=w-1,M=a;M!=null&&++_<w;){var X=Pn(o[_]),ce=h;if(X==="__proto__"||X==="constructor"||X==="prototype")return a;if(_!=U){var he=M[X];ce=g?g(he,X,M):r,ce===r&&(ce=qt(he)?he:$n(o[_+1])?[]:{})}Wi(M,X,ce),M=M[X]}return a}var Yf=D0?function(a,o){return D0.set(a,o),a}:Fr,Zv=N0?function(a,o){return N0(a,"toString",{configurable:!0,enumerable:!1,value:$o(o),writable:!0})}:Fr;function Jv(a){return Z0(_i(a))}function ln(a,o,h){var g=-1,_=a.length;o<0&&(o=-o>_?0:_+o),h=h>_?_:h,h<0&&(h+=_),_=o>h?0:h-o>>>0,o>>>=0;for(var w=se(_);++g<_;)w[g]=a[g+o];return w}function jv(a,o){var h;return pa(a,function(g,_,w){return h=o(g,_,w),!h}),!!h}function K0(a,o,h){var g=0,_=a==null?g:a.length;if(typeof o=="number"&&o===o&&_<=oe){for(;g<_;){var w=g+_>>>1,U=a[w];U!==null&&!Wr(U)&&(h?U<=o:U<o)?g=w+1:_=w}return _}return Bo(a,o,Fr,h)}function Bo(a,o,h,g){var _=0,w=a==null?0:a.length;if(w===0)return 0;o=h(o);for(var U=o!==o,M=o===null,X=Wr(o),ce=o===r;_<w;){var he=L0((_+w)/2),ge=h(a[he]),Se=ge!==r,Ne=ge===null,Ke=ge===ge,tt=Wr(ge);if(U)var He=g||Ke;else ce?He=Ke&&(g||Se):M?He=Ke&&Se&&(g||!Ne):X?He=Ke&&Se&&!Ne&&(g||!tt):Ne||tt?He=!1:He=g?ge<=o:ge<o;He?_=he+1:w=he}return Sr(w,$)}function Xf(a,o){for(var h=-1,g=a.length,_=0,w=[];++h<g;){var U=a[h],M=o?o(U):U;if(!h||!Sn(M,X)){var X=M;w[_++]=U===0?0:U}}return w}function Zf(a){return typeof a=="number"?a:Wr(a)?le:+a}function Gr(a){if(typeof a=="string")return a;if(Xe(a))return Kt(a,Gr)+"";if(Wr(a))return If?If.call(a):"";var o=a+"";return o=="0"&&1/a==-ie?"-0":o}function va(a,o,h){var g=-1,_=C0,w=a.length,U=!0,M=[],X=M;if(h)U=!1,_=to;else if(w>=i){var ce=o?null:ug(a);if(ce)return E0(ce);U=!1,_=Mi,X=new Fa}else X=o?[]:M;e:for(;++g<w;){var he=a[g],ge=o?o(he):he;if(he=h||he!==0?he:0,U&&ge===ge){for(var Se=X.length;Se--;)if(X[Se]===ge)continue e;o&&X.push(ge),M.push(he)}else _(X,ge,h)||(X!==M&&X.push(ge),M.push(he))}return M}function Io(a,o){return o=ga(o,a),a=bc(a,o),a==null||delete a[Pn(un(o))]}function Jf(a,o,h,g){return Zi(a,o,h(Ma(a,o)),g)}function H0(a,o,h,g){for(var _=a.length,w=g?_:-1;(g?w--:++w<_)&&o(a[w],w,a););return h?ln(a,g?0:w,g?w+1:_):ln(a,g?w+1:0,g?_:w)}function jf(a,o){var h=a;return h instanceof ct&&(h=h.value()),ro(o,function(g,_){return _.func.apply(_.thisArg,ca([g],_.args))},h)}function wo(a,o,h){var g=a.length;if(g<2)return g?va(a[0]):[];for(var _=-1,w=se(g);++_<g;)for(var U=a[_],M=-1;++M<g;)M!=_&&(w[_]=Qi(w[_]||U,a[M],o,h));return va(yr(w,1),o,h)}function $f(a,o,h){for(var g=-1,_=a.length,w=o.length,U={};++g<_;){var M=g<w?o[g]:r;h(U,a[g],M)}return U}function Ro(a){return Zt(a)?a:[]}function No(a){return typeof a=="function"?a:Fr}function ga(a,o){return Xe(a)?a:Mo(a,o)?[a]:Ic(bt(a))}var $v=nt;function ya(a,o,h){var g=a.length;return h=h===r?g:h,!o&&h>=g?a:ln(a,o,h)}var ec=M1||function(a){return gr.clearTimeout(a)};function tc(a,o){if(o)return a.slice();var h=a.length,g=Ef?Ef(h):new a.constructor(h);return a.copy(g),g}function ko(a){var o=new a.constructor(a.byteLength);return new I0(o).set(new I0(a)),o}function eg(a,o){var h=o?ko(a.buffer):a.buffer;return new a.constructor(h,a.byteOffset,a.byteLength)}function tg(a){var o=new a.constructor(a.source,Xt.exec(a));return o.lastIndex=a.lastIndex,o}function rg(a){return Gi?Nt(Gi.call(a)):{}}function rc(a,o){var h=o?ko(a.buffer):a.buffer;return new a.constructor(h,a.byteOffset,a.length)}function nc(a,o){if(a!==o){var h=a!==r,g=a===null,_=a===a,w=Wr(a),U=o!==r,M=o===null,X=o===o,ce=Wr(o);if(!M&&!ce&&!w&&a>o||w&&U&&X&&!M&&!ce||g&&U&&X||!h&&X||!_)return 1;if(!g&&!w&&!ce&&a<o||ce&&h&&_&&!g&&!w||M&&h&&_||!U&&_||!X)return-1}return 0}function ng(a,o,h){for(var g=-1,_=a.criteria,w=o.criteria,U=_.length,M=h.length;++g<U;){var X=nc(_[g],w[g]);if(X){if(g>=M)return X;var ce=h[g];return X*(ce=="desc"?-1:1)}}return a.index-o.index}function ac(a,o,h,g){for(var _=-1,w=a.length,U=h.length,M=-1,X=o.length,ce=sr(w-U,0),he=se(X+ce),ge=!g;++M<X;)he[M]=o[M];for(;++_<U;)(ge||_<w)&&(he[h[_]]=a[_]);for(;ce--;)he[M++]=a[_++];return he}function ic(a,o,h,g){for(var _=-1,w=a.length,U=-1,M=h.length,X=-1,ce=o.length,he=sr(w-M,0),ge=se(he+ce),Se=!g;++_<he;)ge[_]=a[_];for(var Ne=_;++X<ce;)ge[Ne+X]=o[X];for(;++U<M;)(Se||_<w)&&(ge[Ne+h[U]]=a[_++]);return ge}function Pr(a,o){var h=-1,g=a.length;for(o||(o=se(g));++h<g;)o[h]=a[h];return o}function Dn(a,o,h,g){var _=!h;h||(h={});for(var w=-1,U=o.length;++w<U;){var M=o[w],X=g?g(h[M],a[M],M,h,a):r;X===r&&(X=a[M]),_?Zn(h,M,X):Wi(h,M,X)}return h}function ag(a,o){return Dn(a,Vo(a),o)}function ig(a,o){return Dn(a,xc(a),o)}function q0(a,o){return function(h,g){var _=Xe(h)?f1:Bv,w=o?o():{};return _(h,a,Ve(g,2),w)}}function yi(a){return nt(function(o,h){var g=-1,_=h.length,w=_>1?h[_-1]:r,U=_>2?h[2]:r;for(w=a.length>3&&typeof w=="function"?(_--,w):r,U&&Ar(h[0],h[1],U)&&(w=_<3?r:w,_=1),o=Nt(o);++g<_;){var M=h[g];M&&a(o,M,g,w)}return o})}function sc(a,o){return function(h,g){if(h==null)return h;if(!Ur(h))return a(h,g);for(var _=h.length,w=o?_:-1,U=Nt(h);(o?w--:++w<_)&&g(U[w],w,U)!==!1;);return h}}function oc(a){return function(o,h,g){for(var _=-1,w=Nt(o),U=g(o),M=U.length;M--;){var X=U[a?M:++_];if(h(w[X],X,w)===!1)break}return o}}function sg(a,o,h){var g=o&C,_=Ji(a);function w(){var U=this&&this!==gr&&this instanceof w?_:a;return U.apply(g?h:this,arguments)}return w}function lc(a){return function(o){o=bt(o);var h=fi(o)?_n(o):r,g=h?h[0]:o.charAt(0),_=h?ya(h,1).join(""):o.slice(1);return g[a]()+_}}function xi(a){return function(o){return ro(sh(ih(o).replace(Zp,"")),a,"")}}function Ji(a){return function(){var o=arguments;switch(o.length){case 0:return new a;case 1:return new a(o[0]);case 2:return new a(o[0],o[1]);case 3:return new a(o[0],o[1],o[2]);case 4:return new a(o[0],o[1],o[2],o[3]);case 5:return new a(o[0],o[1],o[2],o[3],o[4]);case 6:return new a(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new a(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var h=gi(a.prototype),g=a.apply(h,o);return qt(g)?g:h}}function og(a,o,h){var g=Ji(a);function _(){for(var w=arguments.length,U=se(w),M=w,X=mi(_);M--;)U[M]=arguments[M];var ce=w<3&&U[0]!==X&&U[w-1]!==X?[]:ha(U,X);if(w-=ce.length,w<h)return dc(a,o,z0,_.placeholder,r,U,ce,r,r,h-w);var he=this&&this!==gr&&this instanceof _?g:a;return qr(he,this,U)}return _}function uc(a){return function(o,h,g){var _=Nt(o);if(!Ur(o)){var w=Ve(h,3);o=or(o),h=function(M){return w(_[M],M,_)}}var U=a(o,h,g);return U>-1?_[w?o[U]:U]:r}}function fc(a){return jn(function(o){var h=o.length,g=h,_=sn.prototype.thru;for(a&&o.reverse();g--;){var w=o[g];if(typeof w!="function")throw new an(l);if(_&&!U&&Y0(w)=="wrapper")var U=new sn([],!0)}for(g=U?g:h;++g<h;){w=o[g];var M=Y0(w),X=M=="wrapper"?Oo(w):r;X&&Ko(X[0])&&X[1]==(D|E|k|F)&&!X[4].length&&X[9]==1?U=U[Y0(X[0])].apply(U,X[3]):U=w.length==1&&Ko(w)?U[M]():U.thru(w)}return function(){var ce=arguments,he=ce[0];if(U&&ce.length==1&&Xe(he))return U.plant(he).value();for(var ge=0,Se=h?o[ge].apply(this,ce):he;++ge<h;)Se=o[ge].call(this,Se);return Se}})}function z0(a,o,h,g,_,w,U,M,X,ce){var he=o&D,ge=o&C,Se=o&A,Ne=o&(E|R),Ke=o&j,tt=Se?r:Ji(a);function He(){for(var ot=arguments.length,dt=se(ot),Qr=ot;Qr--;)dt[Qr]=arguments[Qr];if(Ne)var Br=mi(He),Yr=m1(dt,Br);if(g&&(dt=ac(dt,g,_,Ne)),w&&(dt=ic(dt,w,U,Ne)),ot-=Yr,Ne&&ot<ce){var Jt=ha(dt,Br);return dc(a,o,z0,He.placeholder,h,dt,Jt,M,X,ce-ot)}var bn=ge?h:this,ra=Se?bn[a]:a;return ot=dt.length,M?dt=Bg(dt,M):Ke&&ot>1&&dt.reverse(),he&&X<ot&&(dt.length=X),this&&this!==gr&&this instanceof He&&(ra=tt||Ji(ra)),ra.apply(bn,dt)}return He}function cc(a,o){return function(h,g){return Pv(h,a,o(g),{})}}function G0(a,o){return function(h,g){var _;if(h===r&&g===r)return o;if(h!==r&&(_=h),g!==r){if(_===r)return g;typeof h=="string"||typeof g=="string"?(h=Gr(h),g=Gr(g)):(h=Zf(h),g=Zf(g)),_=a(h,g)}return _}}function Lo(a){return jn(function(o){return o=Kt(o,zr(Ve())),nt(function(h){var g=this;return a(o,function(_){return qr(_,g,h)})})})}function W0(a,o){o=o===r?" ":Gr(o);var h=o.length;if(h<2)return h?Ao(o,a):o;var g=Ao(o,k0(a/ci(o)));return fi(o)?ya(_n(g),0,a).join(""):g.slice(0,a)}function lg(a,o,h,g){var _=o&C,w=Ji(a);function U(){for(var M=-1,X=arguments.length,ce=-1,he=g.length,ge=se(he+X),Se=this&&this!==gr&&this instanceof U?w:a;++ce<he;)ge[ce]=g[ce];for(;X--;)ge[ce++]=arguments[++M];return qr(Se,_?h:this,ge)}return U}function hc(a){return function(o,h,g){return g&&typeof g!="number"&&Ar(o,h,g)&&(h=g=r),o=ta(o),h===r?(h=o,o=0):h=ta(h),g=g===r?o<h?1:-1:ta(g),Qv(o,h,g,a)}}function Q0(a){return function(o,h){return typeof o=="string"&&typeof h=="string"||(o=fn(o),h=fn(h)),a(o,h)}}function dc(a,o,h,g,_,w,U,M,X,ce){var he=o&E,ge=he?U:r,Se=he?r:U,Ne=he?w:r,Ke=he?r:w;o|=he?k:N,o&=~(he?N:k),o&S||(o&=~(C|A));var tt=[a,o,_,Ne,ge,Ke,Se,M,X,ce],He=h.apply(r,tt);return Ko(a)&&Tc(He,tt),He.placeholder=g,Ac(He,a,o)}function Do(a){var o=ir[a];return function(h,g){if(h=fn(h),g=g==null?0:Sr(Je(g),292),g&&Af(h)){var _=(bt(h)+"e").split("e"),w=o(_[0]+"e"+(+_[1]+g));return _=(bt(w)+"e").split("e"),+(_[0]+"e"+(+_[1]-g))}return o(h)}}var ug=pi&&1/E0(new pi([,-0]))[1]==ie?function(a){return new pi(a)}:rl;function pc(a){return function(o){var h=br(o);return h==ke?uo(o):h==pt?A1(o):x1(o,a(o))}}function Jn(a,o,h,g,_,w,U,M){var X=o&A;if(!X&&typeof a!="function")throw new an(l);var ce=g?g.length:0;if(ce||(o&=~(k|N),g=_=r),U=U===r?U:sr(Je(U),0),M=M===r?M:Je(M),ce-=_?_.length:0,o&N){var he=g,ge=_;g=_=r}var Se=X?r:Oo(a),Ne=[a,o,h,g,_,he,ge,w,U,M];if(Se&&bg(Ne,Se),a=Ne[0],o=Ne[1],h=Ne[2],g=Ne[3],_=Ne[4],M=Ne[9]=Ne[9]===r?X?0:a.length:sr(Ne[9]-ce,0),!M&&o&(E|R)&&(o&=~(E|R)),!o||o==C)var Ke=sg(a,o,h);else o==E||o==R?Ke=og(a,o,M):(o==k||o==(C|k))&&!_.length?Ke=lg(a,o,h,g):Ke=z0.apply(r,Ne);var tt=Se?Yf:Tc;return Ac(tt(Ke,Ne),a,o)}function vc(a,o,h,g){return a===r||Sn(a,di[h])&&!Bt.call(g,h)?o:a}function gc(a,o,h,g,_,w){return qt(a)&&qt(o)&&(w.set(o,a),M0(a,o,r,gc,w),w.delete(o)),a}function fg(a){return e0(a)?r:a}function yc(a,o,h,g,_,w){var U=h&x,M=a.length,X=o.length;if(M!=X&&!(U&&X>M))return!1;var ce=w.get(a),he=w.get(o);if(ce&&he)return ce==o&&he==a;var ge=-1,Se=!0,Ne=h&m?new Fa:r;for(w.set(a,o),w.set(o,a);++ge<M;){var Ke=a[ge],tt=o[ge];if(g)var He=U?g(tt,Ke,ge,o,a,w):g(Ke,tt,ge,a,o,w);if(He!==r){if(He)continue;Se=!1;break}if(Ne){if(!no(o,function(ot,dt){if(!Mi(Ne,dt)&&(Ke===ot||_(Ke,ot,h,g,w)))return Ne.push(dt)})){Se=!1;break}}else if(!(Ke===tt||_(Ke,tt,h,g,w))){Se=!1;break}}return w.delete(a),w.delete(o),Se}function cg(a,o,h,g,_,w,U){switch(h){case Rt:if(a.byteLength!=o.byteLength||a.byteOffset!=o.byteOffset)return!1;a=a.buffer,o=o.buffer;case Le:return!(a.byteLength!=o.byteLength||!w(new I0(a),new I0(o)));case me:case Re:case rt:return Sn(+a,+o);case $e:return a.name==o.name&&a.message==o.message;case ar:case It:return a==o+"";case ke:var M=uo;case pt:var X=g&x;if(M||(M=E0),a.size!=o.size&&!X)return!1;var ce=U.get(a);if(ce)return ce==o;g|=m,U.set(a,o);var he=yc(M(a),M(o),g,_,w,U);return U.delete(a),he;case zt:if(Gi)return Gi.call(a)==Gi.call(o)}return!1}function hg(a,o,h,g,_,w){var U=h&x,M=Po(a),X=M.length,ce=Po(o),he=ce.length;if(X!=he&&!U)return!1;for(var ge=X;ge--;){var Se=M[ge];if(!(U?Se in o:Bt.call(o,Se)))return!1}var Ne=w.get(a),Ke=w.get(o);if(Ne&&Ke)return Ne==o&&Ke==a;var tt=!0;w.set(a,o),w.set(o,a);for(var He=U;++ge<X;){Se=M[ge];var ot=a[Se],dt=o[Se];if(g)var Qr=U?g(dt,ot,Se,o,a,w):g(ot,dt,Se,a,o,w);if(!(Qr===r?ot===dt||_(ot,dt,h,g,w):Qr)){tt=!1;break}He||(He=Se=="constructor")}if(tt&&!He){var Br=a.constructor,Yr=o.constructor;Br!=Yr&&"constructor"in a&&"constructor"in o&&!(typeof Br=="function"&&Br instanceof Br&&typeof Yr=="function"&&Yr instanceof Yr)&&(tt=!1)}return w.delete(a),w.delete(o),tt}function jn(a){return qo(Sc(a,r,kc),a+"")}function Po(a){return Of(a,or,Vo)}function Uo(a){return Of(a,Or,xc)}var Oo=D0?function(a){return D0.get(a)}:rl;function Y0(a){for(var o=a.name+"",h=vi[o],g=Bt.call(vi,o)?h.length:0;g--;){var _=h[g],w=_.func;if(w==null||w==a)return _.name}return o}function mi(a){var o=Bt.call(I,"placeholder")?I:a;return o.placeholder}function Ve(){var a=I.iteratee||el;return a=a===el?Mf:a,arguments.length?a(arguments[0],arguments[1]):a}function X0(a,o){var h=a.__data__;return Cg(o)?h[typeof o=="string"?"string":"hash"]:h.map}function Fo(a){for(var o=or(a),h=o.length;h--;){var g=o[h],_=a[g];o[h]=[g,_,_c(_)]}return o}function Ka(a,o){var h=S1(a,o);return Vf(h)?h:r}function dg(a){var o=Bt.call(a,Ua),h=a[Ua];try{a[Ua]=r;var g=!0}catch{}var _=A0.call(a);return g&&(o?a[Ua]=h:delete a[Ua]),_}var Vo=co?function(a){return a==null?[]:(a=Nt(a),fa(co(a),function(o){return bf.call(a,o)}))}:nl,xc=co?function(a){for(var o=[];a;)ca(o,Vo(a)),a=w0(a);return o}:nl,br=Tr;(ho&&br(new ho(new ArrayBuffer(1)))!=Rt||Hi&&br(new Hi)!=ke||po&&br(po.resolve())!=Ct||pi&&br(new pi)!=pt||qi&&br(new qi)!=re)&&(br=function(a){var o=Tr(a),h=o==Ut?a.constructor:r,g=h?Ha(h):"";if(g)switch(g){case X1:return Rt;case Z1:return ke;case J1:return Ct;case j1:return pt;case $1:return re}return o});function pg(a,o,h){for(var g=-1,_=h.length;++g<_;){var w=h[g],U=w.size;switch(w.type){case"drop":a+=U;break;case"dropRight":o-=U;break;case"take":o=Sr(o,a+U);break;case"takeRight":a=sr(a,o-U);break}}return{start:a,end:o}}function vg(a){var o=a.match(Ms);return o?o[1].split(Ks):[]}function mc(a,o,h){o=ga(o,a);for(var g=-1,_=o.length,w=!1;++g<_;){var U=Pn(o[g]);if(!(w=a!=null&&h(a,U)))break;a=a[U]}return w||++g!=_?w:(_=a==null?0:a.length,!!_&&rs(_)&&$n(U,_)&&(Xe(a)||qa(a)))}function gg(a){var o=a.length,h=new a.constructor(o);return o&&typeof a[0]=="string"&&Bt.call(a,"index")&&(h.index=a.index,h.input=a.input),h}function Cc(a){return typeof a.constructor=="function"&&!ji(a)?gi(w0(a)):{}}function yg(a,o,h){var g=a.constructor;switch(o){case Le:return ko(a);case me:case Re:return new g(+a);case Rt:return eg(a,h);case Rn:case jr:case tr:case $r:case Kr:case Wn:case en:case Hr:case Nn:return rc(a,h);case ke:return new g;case rt:case It:return new g(a);case ar:return tg(a);case pt:return new g;case zt:return rg(a)}}function xg(a,o){var h=o.length;if(!h)return a;var g=h-1;return o[g]=(h>1?"& ":"")+o[g],o=o.join(h>2?", ":" "),a.replace(Gt,`{
/* [wrapped with `+o+`] */
`)}function mg(a){return Xe(a)||qa(a)||!!(Tf&&a&&a[Tf])}function $n(a,o){var h=typeof a;return o=o??_e,!!o&&(h=="number"||h!="symbol"&&tn.test(a))&&a>-1&&a%1==0&&a<o}function Ar(a,o,h){if(!qt(h))return!1;var g=typeof o;return(g=="number"?Ur(h)&&$n(o,h.length):g=="string"&&o in h)?Sn(h[o],a):!1}function Mo(a,o){if(Xe(a))return!1;var h=typeof a;return h=="number"||h=="symbol"||h=="boolean"||a==null||Wr(a)?!0:Qn.test(a)||!si.test(a)||o!=null&&a in Nt(o)}function Cg(a){var o=typeof a;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?a!=="__proto__":a===null}function Ko(a){var o=Y0(a),h=I[o];if(typeof h!="function"||!(o in ct.prototype))return!1;if(a===h)return!0;var g=Oo(h);return!!g&&a===g[0]}function _g(a){return!!_f&&_f in a}var Eg=b0?ea:al;function ji(a){var o=a&&a.constructor,h=typeof o=="function"&&o.prototype||di;return a===h}function _c(a){return a===a&&!qt(a)}function Ec(a,o){return function(h){return h==null?!1:h[a]===o&&(o!==r||a in Nt(h))}}function Sg(a){var o=es(a,function(g){return h.size===f&&h.clear(),g}),h=o.cache;return o}function bg(a,o){var h=a[1],g=o[1],_=h|g,w=_<(C|A|D),U=g==D&&h==E||g==D&&h==F&&a[7].length<=o[8]||g==(D|F)&&o[7].length<=o[8]&&h==E;if(!(w||U))return a;g&C&&(a[2]=o[2],_|=h&C?0:S);var M=o[3];if(M){var X=a[3];a[3]=X?ac(X,M,o[4]):M,a[4]=X?ha(a[3],d):o[4]}return M=o[5],M&&(X=a[5],a[5]=X?ic(X,M,o[6]):M,a[6]=X?ha(a[5],d):o[6]),M=o[7],M&&(a[7]=M),g&D&&(a[8]=a[8]==null?o[8]:Sr(a[8],o[8])),a[9]==null&&(a[9]=o[9]),a[0]=o[0],a[1]=_,a}function Tg(a){var o=[];if(a!=null)for(var h in Nt(a))o.push(h);return o}function Ag(a){return A0.call(a)}function Sc(a,o,h){return o=sr(o===r?a.length-1:o,0),function(){for(var g=arguments,_=-1,w=sr(g.length-o,0),U=se(w);++_<w;)U[_]=g[o+_];_=-1;for(var M=se(o+1);++_<o;)M[_]=g[_];return M[o]=h(U),qr(a,this,M)}}function bc(a,o){return o.length<2?a:Ma(a,ln(o,0,-1))}function Bg(a,o){for(var h=a.length,g=Sr(o.length,h),_=Pr(a);g--;){var w=o[g];a[g]=$n(w,h)?_[w]:r}return a}function Ho(a,o){if(!(o==="constructor"&&typeof a[o]=="function")&&o!="__proto__")return a[o]}var Tc=Bc(Yf),$i=H1||function(a,o){return gr.setTimeout(a,o)},qo=Bc(Zv);function Ac(a,o,h){var g=o+"";return qo(a,xg(g,Ig(vg(g),h)))}function Bc(a){var o=0,h=0;return function(){var g=W1(),_=Z-(g-h);if(h=g,_>0){if(++o>=q)return arguments[0]}else o=0;return a.apply(r,arguments)}}function Z0(a,o){var h=-1,g=a.length,_=g-1;for(o=o===r?g:o;++h<o;){var w=To(h,_),U=a[w];a[w]=a[h],a[h]=U}return a.length=o,a}var Ic=Sg(function(a){var o=[];return a.charCodeAt(0)===46&&o.push(""),a.replace(Lr,function(h,g,_,w){o.push(_?w.replace(g0,"$1"):g||h)}),o});function Pn(a){if(typeof a=="string"||Wr(a))return a;var o=a+"";return o=="0"&&1/a==-ie?"-0":o}function Ha(a){if(a!=null){try{return T0.call(a)}catch{}try{return a+""}catch{}}return""}function Ig(a,o){return nn(te,function(h){var g="_."+h[0];o&h[1]&&!C0(a,g)&&a.push(g)}),a.sort()}function wc(a){if(a instanceof ct)return a.clone();var o=new sn(a.__wrapped__,a.__chain__);return o.__actions__=Pr(a.__actions__),o.__index__=a.__index__,o.__values__=a.__values__,o}function wg(a,o,h){(h?Ar(a,o,h):o===r)?o=1:o=sr(Je(o),0);var g=a==null?0:a.length;if(!g||o<1)return[];for(var _=0,w=0,U=se(k0(g/o));_<g;)U[w++]=ln(a,_,_+=o);return U}function Rg(a){for(var o=-1,h=a==null?0:a.length,g=0,_=[];++o<h;){var w=a[o];w&&(_[g++]=w)}return _}function Ng(){var a=arguments.length;if(!a)return[];for(var o=se(a-1),h=arguments[0],g=a;g--;)o[g-1]=arguments[g];return ca(Xe(h)?Pr(h):[h],yr(o,1))}var kg=nt(function(a,o){return Zt(a)?Qi(a,yr(o,1,Zt,!0)):[]}),Lg=nt(function(a,o){var h=un(o);return Zt(h)&&(h=r),Zt(a)?Qi(a,yr(o,1,Zt,!0),Ve(h,2)):[]}),Dg=nt(function(a,o){var h=un(o);return Zt(h)&&(h=r),Zt(a)?Qi(a,yr(o,1,Zt,!0),r,h):[]});function Pg(a,o,h){var g=a==null?0:a.length;return g?(o=h||o===r?1:Je(o),ln(a,o<0?0:o,g)):[]}function Ug(a,o,h){var g=a==null?0:a.length;return g?(o=h||o===r?1:Je(o),o=g-o,ln(a,0,o<0?0:o)):[]}function Og(a,o){return a&&a.length?H0(a,Ve(o,3),!0,!0):[]}function Fg(a,o){return a&&a.length?H0(a,Ve(o,3),!0):[]}function Vg(a,o,h,g){var _=a==null?0:a.length;return _?(h&&typeof h!="number"&&Ar(a,o,h)&&(h=0,g=_),Nv(a,o,h,g)):[]}function Rc(a,o,h){var g=a==null?0:a.length;if(!g)return-1;var _=h==null?0:Je(h);return _<0&&(_=sr(g+_,0)),_0(a,Ve(o,3),_)}function Nc(a,o,h){var g=a==null?0:a.length;if(!g)return-1;var _=g-1;return h!==r&&(_=Je(h),_=h<0?sr(g+_,0):Sr(_,g-1)),_0(a,Ve(o,3),_,!0)}function kc(a){var o=a==null?0:a.length;return o?yr(a,1):[]}function Mg(a){var o=a==null?0:a.length;return o?yr(a,ie):[]}function Kg(a,o){var h=a==null?0:a.length;return h?(o=o===r?1:Je(o),yr(a,o)):[]}function Hg(a){for(var o=-1,h=a==null?0:a.length,g={};++o<h;){var _=a[o];g[_[0]]=_[1]}return g}function Lc(a){return a&&a.length?a[0]:r}function qg(a,o,h){var g=a==null?0:a.length;if(!g)return-1;var _=h==null?0:Je(h);return _<0&&(_=sr(g+_,0)),ui(a,o,_)}function zg(a){var o=a==null?0:a.length;return o?ln(a,0,-1):[]}var Gg=nt(function(a){var o=Kt(a,Ro);return o.length&&o[0]===a[0]?Co(o):[]}),Wg=nt(function(a){var o=un(a),h=Kt(a,Ro);return o===un(h)?o=r:h.pop(),h.length&&h[0]===a[0]?Co(h,Ve(o,2)):[]}),Qg=nt(function(a){var o=un(a),h=Kt(a,Ro);return o=typeof o=="function"?o:r,o&&h.pop(),h.length&&h[0]===a[0]?Co(h,r,o):[]});function Yg(a,o){return a==null?"":z1.call(a,o)}function un(a){var o=a==null?0:a.length;return o?a[o-1]:r}function Xg(a,o,h){var g=a==null?0:a.length;if(!g)return-1;var _=g;return h!==r&&(_=Je(h),_=_<0?sr(g+_,0):Sr(_,g-1)),o===o?I1(a,o,_):_0(a,df,_,!0)}function Zg(a,o){return a&&a.length?zf(a,Je(o)):r}var Jg=nt(Dc);function Dc(a,o){return a&&a.length&&o&&o.length?bo(a,o):a}function jg(a,o,h){return a&&a.length&&o&&o.length?bo(a,o,Ve(h,2)):a}function $g(a,o,h){return a&&a.length&&o&&o.length?bo(a,o,r,h):a}var ey=jn(function(a,o){var h=a==null?0:a.length,g=go(a,o);return Qf(a,Kt(o,function(_){return $n(_,h)?+_:_}).sort(nc)),g});function ty(a,o){var h=[];if(!(a&&a.length))return h;var g=-1,_=[],w=a.length;for(o=Ve(o,3);++g<w;){var U=a[g];o(U,g,a)&&(h.push(U),_.push(g))}return Qf(a,_),h}function zo(a){return a==null?a:Y1.call(a)}function ry(a,o,h){var g=a==null?0:a.length;return g?(h&&typeof h!="number"&&Ar(a,o,h)?(o=0,h=g):(o=o==null?0:Je(o),h=h===r?g:Je(h)),ln(a,o,h)):[]}function ny(a,o){return K0(a,o)}function ay(a,o,h){return Bo(a,o,Ve(h,2))}function iy(a,o){var h=a==null?0:a.length;if(h){var g=K0(a,o);if(g<h&&Sn(a[g],o))return g}return-1}function sy(a,o){return K0(a,o,!0)}function oy(a,o,h){return Bo(a,o,Ve(h,2),!0)}function ly(a,o){var h=a==null?0:a.length;if(h){var g=K0(a,o,!0)-1;if(Sn(a[g],o))return g}return-1}function uy(a){return a&&a.length?Xf(a):[]}function fy(a,o){return a&&a.length?Xf(a,Ve(o,2)):[]}function cy(a){var o=a==null?0:a.length;return o?ln(a,1,o):[]}function hy(a,o,h){return a&&a.length?(o=h||o===r?1:Je(o),ln(a,0,o<0?0:o)):[]}function dy(a,o,h){var g=a==null?0:a.length;return g?(o=h||o===r?1:Je(o),o=g-o,ln(a,o<0?0:o,g)):[]}function py(a,o){return a&&a.length?H0(a,Ve(o,3),!1,!0):[]}function vy(a,o){return a&&a.length?H0(a,Ve(o,3)):[]}var gy=nt(function(a){return va(yr(a,1,Zt,!0))}),yy=nt(function(a){var o=un(a);return Zt(o)&&(o=r),va(yr(a,1,Zt,!0),Ve(o,2))}),xy=nt(function(a){var o=un(a);return o=typeof o=="function"?o:r,va(yr(a,1,Zt,!0),r,o)});function my(a){return a&&a.length?va(a):[]}function Cy(a,o){return a&&a.length?va(a,Ve(o,2)):[]}function _y(a,o){return o=typeof o=="function"?o:r,a&&a.length?va(a,r,o):[]}function Go(a){if(!(a&&a.length))return[];var o=0;return a=fa(a,function(h){if(Zt(h))return o=sr(h.length,o),!0}),oo(o,function(h){return Kt(a,ao(h))})}function Pc(a,o){if(!(a&&a.length))return[];var h=Go(a);return o==null?h:Kt(h,function(g){return qr(o,r,g)})}var Ey=nt(function(a,o){return Zt(a)?Qi(a,o):[]}),Sy=nt(function(a){return wo(fa(a,Zt))}),by=nt(function(a){var o=un(a);return Zt(o)&&(o=r),wo(fa(a,Zt),Ve(o,2))}),Ty=nt(function(a){var o=un(a);return o=typeof o=="function"?o:r,wo(fa(a,Zt),r,o)}),Ay=nt(Go);function By(a,o){return $f(a||[],o||[],Wi)}function Iy(a,o){return $f(a||[],o||[],Zi)}var wy=nt(function(a){var o=a.length,h=o>1?a[o-1]:r;return h=typeof h=="function"?(a.pop(),h):r,Pc(a,h)});function Uc(a){var o=I(a);return o.__chain__=!0,o}function Ry(a,o){return o(a),a}function J0(a,o){return o(a)}var Ny=jn(function(a){var o=a.length,h=o?a[0]:0,g=this.__wrapped__,_=function(w){return go(w,a)};return o>1||this.__actions__.length||!(g instanceof ct)||!$n(h)?this.thru(_):(g=g.slice(h,+h+(o?1:0)),g.__actions__.push({func:J0,args:[_],thisArg:r}),new sn(g,this.__chain__).thru(function(w){return o&&!w.length&&w.push(r),w}))});function ky(){return Uc(this)}function Ly(){return new sn(this.value(),this.__chain__)}function Dy(){this.__values__===r&&(this.__values__=Zc(this.value()));var a=this.__index__>=this.__values__.length,o=a?r:this.__values__[this.__index__++];return{done:a,value:o}}function Py(){return this}function Uy(a){for(var o,h=this;h instanceof U0;){var g=wc(h);g.__index__=0,g.__values__=r,o?_.__wrapped__=g:o=g;var _=g;h=h.__wrapped__}return _.__wrapped__=a,o}function Oy(){var a=this.__wrapped__;if(a instanceof ct){var o=a;return this.__actions__.length&&(o=new ct(this)),o=o.reverse(),o.__actions__.push({func:J0,args:[zo],thisArg:r}),new sn(o,this.__chain__)}return this.thru(zo)}function Fy(){return jf(this.__wrapped__,this.__actions__)}var Vy=q0(function(a,o,h){Bt.call(a,h)?++a[h]:Zn(a,h,1)});function My(a,o,h){var g=Xe(a)?cf:Rv;return h&&Ar(a,o,h)&&(o=r),g(a,Ve(o,3))}function Ky(a,o){var h=Xe(a)?fa:Pf;return h(a,Ve(o,3))}var Hy=uc(Rc),qy=uc(Nc);function zy(a,o){return yr(j0(a,o),1)}function Gy(a,o){return yr(j0(a,o),ie)}function Wy(a,o,h){return h=h===r?1:Je(h),yr(j0(a,o),h)}function Oc(a,o){var h=Xe(a)?nn:pa;return h(a,Ve(o,3))}function Fc(a,o){var h=Xe(a)?c1:Df;return h(a,Ve(o,3))}var Qy=q0(function(a,o,h){Bt.call(a,h)?a[h].push(o):Zn(a,h,[o])});function Yy(a,o,h,g){a=Ur(a)?a:_i(a),h=h&&!g?Je(h):0;var _=a.length;return h<0&&(h=sr(_+h,0)),ns(a)?h<=_&&a.indexOf(o,h)>-1:!!_&&ui(a,o,h)>-1}var Xy=nt(function(a,o,h){var g=-1,_=typeof o=="function",w=Ur(a)?se(a.length):[];return pa(a,function(U){w[++g]=_?qr(o,U,h):Yi(U,o,h)}),w}),Zy=q0(function(a,o,h){Zn(a,h,o)});function j0(a,o){var h=Xe(a)?Kt:Kf;return h(a,Ve(o,3))}function Jy(a,o,h,g){return a==null?[]:(Xe(o)||(o=o==null?[]:[o]),h=g?r:h,Xe(h)||(h=h==null?[]:[h]),Gf(a,o,h))}var jy=q0(function(a,o,h){a[h?0:1].push(o)},function(){return[[],[]]});function $y(a,o,h){var g=Xe(a)?ro:vf,_=arguments.length<3;return g(a,Ve(o,4),h,_,pa)}function ex(a,o,h){var g=Xe(a)?h1:vf,_=arguments.length<3;return g(a,Ve(o,4),h,_,Df)}function tx(a,o){var h=Xe(a)?fa:Pf;return h(a,ts(Ve(o,3)))}function rx(a){var o=Xe(a)?Rf:Yv;return o(a)}function nx(a,o,h){(h?Ar(a,o,h):o===r)?o=1:o=Je(o);var g=Xe(a)?Tv:Xv;return g(a,o)}function ax(a){var o=Xe(a)?Av:Jv;return o(a)}function ix(a){if(a==null)return 0;if(Ur(a))return ns(a)?ci(a):a.length;var o=br(a);return o==ke||o==pt?a.size:Eo(a).length}function sx(a,o,h){var g=Xe(a)?no:jv;return h&&Ar(a,o,h)&&(o=r),g(a,Ve(o,3))}var ox=nt(function(a,o){if(a==null)return[];var h=o.length;return h>1&&Ar(a,o[0],o[1])?o=[]:h>2&&Ar(o[0],o[1],o[2])&&(o=[o[0]]),Gf(a,yr(o,1),[])}),$0=K1||function(){return gr.Date.now()};function lx(a,o){if(typeof o!="function")throw new an(l);return a=Je(a),function(){if(--a<1)return o.apply(this,arguments)}}function Vc(a,o,h){return o=h?r:o,o=a&&o==null?a.length:o,Jn(a,D,r,r,r,r,o)}function Mc(a,o){var h;if(typeof o!="function")throw new an(l);return a=Je(a),function(){return--a>0&&(h=o.apply(this,arguments)),a<=1&&(o=r),h}}var Wo=nt(function(a,o,h){var g=C;if(h.length){var _=ha(h,mi(Wo));g|=k}return Jn(a,g,o,h,_)}),Kc=nt(function(a,o,h){var g=C|A;if(h.length){var _=ha(h,mi(Kc));g|=k}return Jn(o,g,a,h,_)});function Hc(a,o,h){o=h?r:o;var g=Jn(a,E,r,r,r,r,r,o);return g.placeholder=Hc.placeholder,g}function qc(a,o,h){o=h?r:o;var g=Jn(a,R,r,r,r,r,r,o);return g.placeholder=qc.placeholder,g}function zc(a,o,h){var g,_,w,U,M,X,ce=0,he=!1,ge=!1,Se=!0;if(typeof a!="function")throw new an(l);o=fn(o)||0,qt(h)&&(he=!!h.leading,ge="maxWait"in h,w=ge?sr(fn(h.maxWait)||0,o):w,Se="trailing"in h?!!h.trailing:Se);function Ne(Jt){var bn=g,ra=_;return g=_=r,ce=Jt,U=a.apply(ra,bn),U}function Ke(Jt){return ce=Jt,M=$i(ot,o),he?Ne(Jt):U}function tt(Jt){var bn=Jt-X,ra=Jt-ce,uh=o-bn;return ge?Sr(uh,w-ra):uh}function He(Jt){var bn=Jt-X,ra=Jt-ce;return X===r||bn>=o||bn<0||ge&&ra>=w}function ot(){var Jt=$0();if(He(Jt))return dt(Jt);M=$i(ot,tt(Jt))}function dt(Jt){return M=r,Se&&g?Ne(Jt):(g=_=r,U)}function Qr(){M!==r&&ec(M),ce=0,g=X=_=M=r}function Br(){return M===r?U:dt($0())}function Yr(){var Jt=$0(),bn=He(Jt);if(g=arguments,_=this,X=Jt,bn){if(M===r)return Ke(X);if(ge)return ec(M),M=$i(ot,o),Ne(X)}return M===r&&(M=$i(ot,o)),U}return Yr.cancel=Qr,Yr.flush=Br,Yr}var ux=nt(function(a,o){return Lf(a,1,o)}),fx=nt(function(a,o,h){return Lf(a,fn(o)||0,h)});function cx(a){return Jn(a,j)}function es(a,o){if(typeof a!="function"||o!=null&&typeof o!="function")throw new an(l);var h=function(){var g=arguments,_=o?o.apply(this,g):g[0],w=h.cache;if(w.has(_))return w.get(_);var U=a.apply(this,g);return h.cache=w.set(_,U)||w,U};return h.cache=new(es.Cache||Xn),h}es.Cache=Xn;function ts(a){if(typeof a!="function")throw new an(l);return function(){var o=arguments;switch(o.length){case 0:return!a.call(this);case 1:return!a.call(this,o[0]);case 2:return!a.call(this,o[0],o[1]);case 3:return!a.call(this,o[0],o[1],o[2])}return!a.apply(this,o)}}function hx(a){return Mc(2,a)}var dx=$v(function(a,o){o=o.length==1&&Xe(o[0])?Kt(o[0],zr(Ve())):Kt(yr(o,1),zr(Ve()));var h=o.length;return nt(function(g){for(var _=-1,w=Sr(g.length,h);++_<w;)g[_]=o[_].call(this,g[_]);return qr(a,this,g)})}),Qo=nt(function(a,o){var h=ha(o,mi(Qo));return Jn(a,k,r,o,h)}),Gc=nt(function(a,o){var h=ha(o,mi(Gc));return Jn(a,N,r,o,h)}),px=jn(function(a,o){return Jn(a,F,r,r,r,o)});function vx(a,o){if(typeof a!="function")throw new an(l);return o=o===r?o:Je(o),nt(a,o)}function gx(a,o){if(typeof a!="function")throw new an(l);return o=o==null?0:sr(Je(o),0),nt(function(h){var g=h[o],_=ya(h,0,o);return g&&ca(_,g),qr(a,this,_)})}function yx(a,o,h){var g=!0,_=!0;if(typeof a!="function")throw new an(l);return qt(h)&&(g="leading"in h?!!h.leading:g,_="trailing"in h?!!h.trailing:_),zc(a,o,{leading:g,maxWait:o,trailing:_})}function xx(a){return Vc(a,1)}function mx(a,o){return Qo(No(o),a)}function Cx(){if(!arguments.length)return[];var a=arguments[0];return Xe(a)?a:[a]}function _x(a){return on(a,y)}function Ex(a,o){return o=typeof o=="function"?o:r,on(a,y,o)}function Sx(a){return on(a,p|y)}function bx(a,o){return o=typeof o=="function"?o:r,on(a,p|y,o)}function Tx(a,o){return o==null||kf(a,o,or(o))}function Sn(a,o){return a===o||a!==a&&o!==o}var Ax=Q0(mo),Bx=Q0(function(a,o){return a>=o}),qa=Ff(function(){return arguments}())?Ff:function(a){return Wt(a)&&Bt.call(a,"callee")&&!bf.call(a,"callee")},Xe=se.isArray,Ix=af?zr(af):Uv;function Ur(a){return a!=null&&rs(a.length)&&!ea(a)}function Zt(a){return Wt(a)&&Ur(a)}function wx(a){return a===!0||a===!1||Wt(a)&&Tr(a)==me}var xa=q1||al,Rx=sf?zr(sf):Ov;function Nx(a){return Wt(a)&&a.nodeType===1&&!e0(a)}function kx(a){if(a==null)return!0;if(Ur(a)&&(Xe(a)||typeof a=="string"||typeof a.splice=="function"||xa(a)||Ci(a)||qa(a)))return!a.length;var o=br(a);if(o==ke||o==pt)return!a.size;if(ji(a))return!Eo(a).length;for(var h in a)if(Bt.call(a,h))return!1;return!0}function Lx(a,o){return Xi(a,o)}function Dx(a,o,h){h=typeof h=="function"?h:r;var g=h?h(a,o):r;return g===r?Xi(a,o,r,h):!!g}function Yo(a){if(!Wt(a))return!1;var o=Tr(a);return o==$e||o==st||typeof a.message=="string"&&typeof a.name=="string"&&!e0(a)}function Px(a){return typeof a=="number"&&Af(a)}function ea(a){if(!qt(a))return!1;var o=Tr(a);return o==ze||o==et||o==Fe||o==er}function Wc(a){return typeof a=="number"&&a==Je(a)}function rs(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=_e}function qt(a){var o=typeof a;return a!=null&&(o=="object"||o=="function")}function Wt(a){return a!=null&&typeof a=="object"}var Qc=of?zr(of):Vv;function Ux(a,o){return a===o||_o(a,o,Fo(o))}function Ox(a,o,h){return h=typeof h=="function"?h:r,_o(a,o,Fo(o),h)}function Fx(a){return Yc(a)&&a!=+a}function Vx(a){if(Eg(a))throw new Qe(s);return Vf(a)}function Mx(a){return a===null}function Kx(a){return a==null}function Yc(a){return typeof a=="number"||Wt(a)&&Tr(a)==rt}function e0(a){if(!Wt(a)||Tr(a)!=Ut)return!1;var o=w0(a);if(o===null)return!0;var h=Bt.call(o,"constructor")&&o.constructor;return typeof h=="function"&&h instanceof h&&T0.call(h)==O1}var Xo=lf?zr(lf):Mv;function Hx(a){return Wc(a)&&a>=-_e&&a<=_e}var Xc=uf?zr(uf):Kv;function ns(a){return typeof a=="string"||!Xe(a)&&Wt(a)&&Tr(a)==It}function Wr(a){return typeof a=="symbol"||Wt(a)&&Tr(a)==zt}var Ci=ff?zr(ff):Hv;function qx(a){return a===r}function zx(a){return Wt(a)&&br(a)==re}function Gx(a){return Wt(a)&&Tr(a)==De}var Wx=Q0(So),Qx=Q0(function(a,o){return a<=o});function Zc(a){if(!a)return[];if(Ur(a))return ns(a)?_n(a):Pr(a);if(Ki&&a[Ki])return T1(a[Ki]());var o=br(a),h=o==ke?uo:o==pt?E0:_i;return h(a)}function ta(a){if(!a)return a===0?a:0;if(a=fn(a),a===ie||a===-ie){var o=a<0?-1:1;return o*Pe}return a===a?a:0}function Je(a){var o=ta(a),h=o%1;return o===o?h?o-h:o:0}function Jc(a){return a?Va(Je(a),0,G):0}function fn(a){if(typeof a=="number")return a;if(Wr(a))return le;if(qt(a)){var o=typeof a.valueOf=="function"?a.valueOf():a;a=qt(o)?o+"":o}if(typeof a!="string")return a===0?a:+a;a=gf(a);var h=Ws.test(a);return h||y0.test(a)?l1(a.slice(2),h?2:8):Gs.test(a)?le:+a}function jc(a){return Dn(a,Or(a))}function Yx(a){return a?Va(Je(a),-_e,_e):a===0?a:0}function bt(a){return a==null?"":Gr(a)}var Xx=yi(function(a,o){if(ji(o)||Ur(o)){Dn(o,or(o),a);return}for(var h in o)Bt.call(o,h)&&Wi(a,h,o[h])}),$c=yi(function(a,o){Dn(o,Or(o),a)}),as=yi(function(a,o,h,g){Dn(o,Or(o),a,g)}),Zx=yi(function(a,o,h,g){Dn(o,or(o),a,g)}),Jx=jn(go);function jx(a,o){var h=gi(a);return o==null?h:Nf(h,o)}var $x=nt(function(a,o){a=Nt(a);var h=-1,g=o.length,_=g>2?o[2]:r;for(_&&Ar(o[0],o[1],_)&&(g=1);++h<g;)for(var w=o[h],U=Or(w),M=-1,X=U.length;++M<X;){var ce=U[M],he=a[ce];(he===r||Sn(he,di[ce])&&!Bt.call(a,ce))&&(a[ce]=w[ce])}return a}),e2=nt(function(a){return a.push(r,gc),qr(eh,r,a)});function t2(a,o){return hf(a,Ve(o,3),Ln)}function r2(a,o){return hf(a,Ve(o,3),xo)}function n2(a,o){return a==null?a:yo(a,Ve(o,3),Or)}function a2(a,o){return a==null?a:Uf(a,Ve(o,3),Or)}function i2(a,o){return a&&Ln(a,Ve(o,3))}function s2(a,o){return a&&xo(a,Ve(o,3))}function o2(a){return a==null?[]:V0(a,or(a))}function l2(a){return a==null?[]:V0(a,Or(a))}function Zo(a,o,h){var g=a==null?r:Ma(a,o);return g===r?h:g}function u2(a,o){return a!=null&&mc(a,o,kv)}function Jo(a,o){return a!=null&&mc(a,o,Lv)}var f2=cc(function(a,o,h){o!=null&&typeof o.toString!="function"&&(o=A0.call(o)),a[o]=h},$o(Fr)),c2=cc(function(a,o,h){o!=null&&typeof o.toString!="function"&&(o=A0.call(o)),Bt.call(a,o)?a[o].push(h):a[o]=[h]},Ve),h2=nt(Yi);function or(a){return Ur(a)?wf(a):Eo(a)}function Or(a){return Ur(a)?wf(a,!0):qv(a)}function d2(a,o){var h={};return o=Ve(o,3),Ln(a,function(g,_,w){Zn(h,o(g,_,w),g)}),h}function p2(a,o){var h={};return o=Ve(o,3),Ln(a,function(g,_,w){Zn(h,_,o(g,_,w))}),h}var v2=yi(function(a,o,h){M0(a,o,h)}),eh=yi(function(a,o,h,g){M0(a,o,h,g)}),g2=jn(function(a,o){var h={};if(a==null)return h;var g=!1;o=Kt(o,function(w){return w=ga(w,a),g||(g=w.length>1),w}),Dn(a,Uo(a),h),g&&(h=on(h,p|v|y,fg));for(var _=o.length;_--;)Io(h,o[_]);return h});function y2(a,o){return th(a,ts(Ve(o)))}var x2=jn(function(a,o){return a==null?{}:Gv(a,o)});function th(a,o){if(a==null)return{};var h=Kt(Uo(a),function(g){return[g]});return o=Ve(o),Wf(a,h,function(g,_){return o(g,_[0])})}function m2(a,o,h){o=ga(o,a);var g=-1,_=o.length;for(_||(_=1,a=r);++g<_;){var w=a==null?r:a[Pn(o[g])];w===r&&(g=_,w=h),a=ea(w)?w.call(a):w}return a}function C2(a,o,h){return a==null?a:Zi(a,o,h)}function _2(a,o,h,g){return g=typeof g=="function"?g:r,a==null?a:Zi(a,o,h,g)}var rh=pc(or),nh=pc(Or);function E2(a,o,h){var g=Xe(a),_=g||xa(a)||Ci(a);if(o=Ve(o,4),h==null){var w=a&&a.constructor;_?h=g?new w:[]:qt(a)?h=ea(w)?gi(w0(a)):{}:h={}}return(_?nn:Ln)(a,function(U,M,X){return o(h,U,M,X)}),h}function S2(a,o){return a==null?!0:Io(a,o)}function b2(a,o,h){return a==null?a:Jf(a,o,No(h))}function T2(a,o,h,g){return g=typeof g=="function"?g:r,a==null?a:Jf(a,o,No(h),g)}function _i(a){return a==null?[]:lo(a,or(a))}function A2(a){return a==null?[]:lo(a,Or(a))}function B2(a,o,h){return h===r&&(h=o,o=r),h!==r&&(h=fn(h),h=h===h?h:0),o!==r&&(o=fn(o),o=o===o?o:0),Va(fn(a),o,h)}function I2(a,o,h){return o=ta(o),h===r?(h=o,o=0):h=ta(h),a=fn(a),Dv(a,o,h)}function w2(a,o,h){if(h&&typeof h!="boolean"&&Ar(a,o,h)&&(o=h=r),h===r&&(typeof o=="boolean"?(h=o,o=r):typeof a=="boolean"&&(h=a,a=r)),a===r&&o===r?(a=0,o=1):(a=ta(a),o===r?(o=a,a=0):o=ta(o)),a>o){var g=a;a=o,o=g}if(h||a%1||o%1){var _=Bf();return Sr(a+_*(o-a+o1("1e-"+((_+"").length-1))),o)}return To(a,o)}var R2=xi(function(a,o,h){return o=o.toLowerCase(),a+(h?ah(o):o)});function ah(a){return jo(bt(a).toLowerCase())}function ih(a){return a=bt(a),a&&a.replace(At,C1).replace(Jp,"")}function N2(a,o,h){a=bt(a),o=Gr(o);var g=a.length;h=h===r?g:Va(Je(h),0,g);var _=h;return h-=o.length,h>=0&&a.slice(h,_)==o}function k2(a){return a=bt(a),a&&ii.test(a)?a.replace(kn,_1):a}function L2(a){return a=bt(a),a&&vr.test(a)?a.replace(Ot,"\\$&"):a}var D2=xi(function(a,o,h){return a+(h?"-":"")+o.toLowerCase()}),P2=xi(function(a,o,h){return a+(h?" ":"")+o.toLowerCase()}),U2=lc("toLowerCase");function O2(a,o,h){a=bt(a),o=Je(o);var g=o?ci(a):0;if(!o||g>=o)return a;var _=(o-g)/2;return W0(L0(_),h)+a+W0(k0(_),h)}function F2(a,o,h){a=bt(a),o=Je(o);var g=o?ci(a):0;return o&&g<o?a+W0(o-g,h):a}function V2(a,o,h){a=bt(a),o=Je(o);var g=o?ci(a):0;return o&&g<o?W0(o-g,h)+a:a}function M2(a,o,h){return h||o==null?o=0:o&&(o=+o),Q1(bt(a).replace(Dr,""),o||0)}function K2(a,o,h){return(h?Ar(a,o,h):o===r)?o=1:o=Je(o),Ao(bt(a),o)}function H2(){var a=arguments,o=bt(a[0]);return a.length<3?o:o.replace(a[1],a[2])}var q2=xi(function(a,o,h){return a+(h?"_":"")+o.toLowerCase()});function z2(a,o,h){return h&&typeof h!="number"&&Ar(a,o,h)&&(o=h=r),h=h===r?G:h>>>0,h?(a=bt(a),a&&(typeof o=="string"||o!=null&&!Xo(o))&&(o=Gr(o),!o&&fi(a))?ya(_n(a),0,h):a.split(o,h)):[]}var G2=xi(function(a,o,h){return a+(h?" ":"")+jo(o)});function W2(a,o,h){return a=bt(a),h=h==null?0:Va(Je(h),0,a.length),o=Gr(o),a.slice(h,h+o.length)==o}function Q2(a,o,h){var g=I.templateSettings;h&&Ar(a,o,h)&&(o=r),a=bt(a),o=as({},o,g,vc);var _=as({},o.imports,g.imports,vc),w=or(_),U=lo(_,w),M,X,ce=0,he=o.interpolate||Da,ge="__p += '",Se=fo((o.escape||Da).source+"|"+he.source+"|"+(he===La?zs:Da).source+"|"+(o.evaluate||Da).source+"|$","g"),Ne="//# sourceURL="+(Bt.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++r1+"]")+`
`;a.replace(Se,function(He,ot,dt,Qr,Br,Yr){return dt||(dt=Qr),ge+=a.slice(ce,Yr).replace(Lp,E1),ot&&(M=!0,ge+=`' +
__e(`+ot+`) +
'`),Br&&(X=!0,ge+=`';
`+Br+`;
__p += '`),dt&&(ge+=`' +
((__t = (`+dt+`)) == null ? '' : __t) +
'`),ce=Yr+He.length,He}),ge+=`';
`;var Ke=Bt.call(o,"variable")&&o.variable;if(!Ke)ge=`with (obj) {
`+ge+`
}
`;else if(qs.test(Ke))throw new Qe(u);ge=(X?ge.replace(oa,""):ge).replace(la,"$1").replace(Na,"$1;"),ge="function("+(Ke||"obj")+`) {
`+(Ke?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(M?", __e = _.escape":"")+(X?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ge+`return __p
}`;var tt=oh(function(){return Et(w,Ne+"return "+ge).apply(r,U)});if(tt.source=ge,Yo(tt))throw tt;return tt}function Y2(a){return bt(a).toLowerCase()}function X2(a){return bt(a).toUpperCase()}function Z2(a,o,h){if(a=bt(a),a&&(h||o===r))return gf(a);if(!a||!(o=Gr(o)))return a;var g=_n(a),_=_n(o),w=yf(g,_),U=xf(g,_)+1;return ya(g,w,U).join("")}function J2(a,o,h){if(a=bt(a),a&&(h||o===r))return a.slice(0,Cf(a)+1);if(!a||!(o=Gr(o)))return a;var g=_n(a),_=xf(g,_n(o))+1;return ya(g,0,_).join("")}function j2(a,o,h){if(a=bt(a),a&&(h||o===r))return a.replace(Dr,"");if(!a||!(o=Gr(o)))return a;var g=_n(a),_=yf(g,_n(o));return ya(g,_).join("")}function $2(a,o){var h=P,g=O;if(qt(o)){var _="separator"in o?o.separator:_;h="length"in o?Je(o.length):h,g="omission"in o?Gr(o.omission):g}a=bt(a);var w=a.length;if(fi(a)){var U=_n(a);w=U.length}if(h>=w)return a;var M=h-ci(g);if(M<1)return g;var X=U?ya(U,0,M).join(""):a.slice(0,M);if(_===r)return X+g;if(U&&(M+=X.length-M),Xo(_)){if(a.slice(M).search(_)){var ce,he=X;for(_.global||(_=fo(_.source,bt(Xt.exec(_))+"g")),_.lastIndex=0;ce=_.exec(he);)var ge=ce.index;X=X.slice(0,ge===r?M:ge)}}else if(a.indexOf(Gr(_),M)!=M){var Se=X.lastIndexOf(_);Se>-1&&(X=X.slice(0,Se))}return X+g}function em(a){return a=bt(a),a&&ka.test(a)?a.replace(Cn,w1):a}var tm=xi(function(a,o,h){return a+(h?" ":"")+o.toUpperCase()}),jo=lc("toUpperCase");function sh(a,o,h){return a=bt(a),o=h?r:o,o===r?b1(a)?k1(a):v1(a):a.match(o)||[]}var oh=nt(function(a,o){try{return qr(a,r,o)}catch(h){return Yo(h)?h:new Qe(h)}}),rm=jn(function(a,o){return nn(o,function(h){h=Pn(h),Zn(a,h,Wo(a[h],a))}),a});function nm(a){var o=a==null?0:a.length,h=Ve();return a=o?Kt(a,function(g){if(typeof g[1]!="function")throw new an(l);return[h(g[0]),g[1]]}):[],nt(function(g){for(var _=-1;++_<o;){var w=a[_];if(qr(w[0],this,g))return qr(w[1],this,g)}})}function am(a){return wv(on(a,p))}function $o(a){return function(){return a}}function im(a,o){return a==null||a!==a?o:a}var sm=fc(),om=fc(!0);function Fr(a){return a}function el(a){return Mf(typeof a=="function"?a:on(a,p))}function lm(a){return Hf(on(a,p))}function um(a,o){return qf(a,on(o,p))}var fm=nt(function(a,o){return function(h){return Yi(h,a,o)}}),cm=nt(function(a,o){return function(h){return Yi(a,h,o)}});function tl(a,o,h){var g=or(o),_=V0(o,g);h==null&&!(qt(o)&&(_.length||!g.length))&&(h=o,o=a,a=this,_=V0(o,or(o)));var w=!(qt(h)&&"chain"in h)||!!h.chain,U=ea(a);return nn(_,function(M){var X=o[M];a[M]=X,U&&(a.prototype[M]=function(){var ce=this.__chain__;if(w||ce){var he=a(this.__wrapped__),ge=he.__actions__=Pr(this.__actions__);return ge.push({func:X,args:arguments,thisArg:a}),he.__chain__=ce,he}return X.apply(a,ca([this.value()],arguments))})}),a}function hm(){return gr._===this&&(gr._=F1),this}function rl(){}function dm(a){return a=Je(a),nt(function(o){return zf(o,a)})}var pm=Lo(Kt),vm=Lo(cf),gm=Lo(no);function lh(a){return Mo(a)?ao(Pn(a)):Wv(a)}function ym(a){return function(o){return a==null?r:Ma(a,o)}}var xm=hc(),mm=hc(!0);function nl(){return[]}function al(){return!1}function Cm(){return{}}function _m(){return""}function Em(){return!0}function Sm(a,o){if(a=Je(a),a<1||a>_e)return[];var h=G,g=Sr(a,G);o=Ve(o),a-=G;for(var _=oo(g,o);++h<a;)o(h);return _}function bm(a){return Xe(a)?Kt(a,Pn):Wr(a)?[a]:Pr(Ic(bt(a)))}function Tm(a){var o=++U1;return bt(a)+o}var Am=G0(function(a,o){return a+o},0),Bm=Do("ceil"),Im=G0(function(a,o){return a/o},1),wm=Do("floor");function Rm(a){return a&&a.length?F0(a,Fr,mo):r}function Nm(a,o){return a&&a.length?F0(a,Ve(o,2),mo):r}function km(a){return pf(a,Fr)}function Lm(a,o){return pf(a,Ve(o,2))}function Dm(a){return a&&a.length?F0(a,Fr,So):r}function Pm(a,o){return a&&a.length?F0(a,Ve(o,2),So):r}var Um=G0(function(a,o){return a*o},1),Om=Do("round"),Fm=G0(function(a,o){return a-o},0);function Vm(a){return a&&a.length?so(a,Fr):0}function Mm(a,o){return a&&a.length?so(a,Ve(o,2)):0}return I.after=lx,I.ary=Vc,I.assign=Xx,I.assignIn=$c,I.assignInWith=as,I.assignWith=Zx,I.at=Jx,I.before=Mc,I.bind=Wo,I.bindAll=rm,I.bindKey=Kc,I.castArray=Cx,I.chain=Uc,I.chunk=wg,I.compact=Rg,I.concat=Ng,I.cond=nm,I.conforms=am,I.constant=$o,I.countBy=Vy,I.create=jx,I.curry=Hc,I.curryRight=qc,I.debounce=zc,I.defaults=$x,I.defaultsDeep=e2,I.defer=ux,I.delay=fx,I.difference=kg,I.differenceBy=Lg,I.differenceWith=Dg,I.drop=Pg,I.dropRight=Ug,I.dropRightWhile=Og,I.dropWhile=Fg,I.fill=Vg,I.filter=Ky,I.flatMap=zy,I.flatMapDeep=Gy,I.flatMapDepth=Wy,I.flatten=kc,I.flattenDeep=Mg,I.flattenDepth=Kg,I.flip=cx,I.flow=sm,I.flowRight=om,I.fromPairs=Hg,I.functions=o2,I.functionsIn=l2,I.groupBy=Qy,I.initial=zg,I.intersection=Gg,I.intersectionBy=Wg,I.intersectionWith=Qg,I.invert=f2,I.invertBy=c2,I.invokeMap=Xy,I.iteratee=el,I.keyBy=Zy,I.keys=or,I.keysIn=Or,I.map=j0,I.mapKeys=d2,I.mapValues=p2,I.matches=lm,I.matchesProperty=um,I.memoize=es,I.merge=v2,I.mergeWith=eh,I.method=fm,I.methodOf=cm,I.mixin=tl,I.negate=ts,I.nthArg=dm,I.omit=g2,I.omitBy=y2,I.once=hx,I.orderBy=Jy,I.over=pm,I.overArgs=dx,I.overEvery=vm,I.overSome=gm,I.partial=Qo,I.partialRight=Gc,I.partition=jy,I.pick=x2,I.pickBy=th,I.property=lh,I.propertyOf=ym,I.pull=Jg,I.pullAll=Dc,I.pullAllBy=jg,I.pullAllWith=$g,I.pullAt=ey,I.range=xm,I.rangeRight=mm,I.rearg=px,I.reject=tx,I.remove=ty,I.rest=vx,I.reverse=zo,I.sampleSize=nx,I.set=C2,I.setWith=_2,I.shuffle=ax,I.slice=ry,I.sortBy=ox,I.sortedUniq=uy,I.sortedUniqBy=fy,I.split=z2,I.spread=gx,I.tail=cy,I.take=hy,I.takeRight=dy,I.takeRightWhile=py,I.takeWhile=vy,I.tap=Ry,I.throttle=yx,I.thru=J0,I.toArray=Zc,I.toPairs=rh,I.toPairsIn=nh,I.toPath=bm,I.toPlainObject=jc,I.transform=E2,I.unary=xx,I.union=gy,I.unionBy=yy,I.unionWith=xy,I.uniq=my,I.uniqBy=Cy,I.uniqWith=_y,I.unset=S2,I.unzip=Go,I.unzipWith=Pc,I.update=b2,I.updateWith=T2,I.values=_i,I.valuesIn=A2,I.without=Ey,I.words=sh,I.wrap=mx,I.xor=Sy,I.xorBy=by,I.xorWith=Ty,I.zip=Ay,I.zipObject=By,I.zipObjectDeep=Iy,I.zipWith=wy,I.entries=rh,I.entriesIn=nh,I.extend=$c,I.extendWith=as,tl(I,I),I.add=Am,I.attempt=oh,I.camelCase=R2,I.capitalize=ah,I.ceil=Bm,I.clamp=B2,I.clone=_x,I.cloneDeep=Sx,I.cloneDeepWith=bx,I.cloneWith=Ex,I.conformsTo=Tx,I.deburr=ih,I.defaultTo=im,I.divide=Im,I.endsWith=N2,I.eq=Sn,I.escape=k2,I.escapeRegExp=L2,I.every=My,I.find=Hy,I.findIndex=Rc,I.findKey=t2,I.findLast=qy,I.findLastIndex=Nc,I.findLastKey=r2,I.floor=wm,I.forEach=Oc,I.forEachRight=Fc,I.forIn=n2,I.forInRight=a2,I.forOwn=i2,I.forOwnRight=s2,I.get=Zo,I.gt=Ax,I.gte=Bx,I.has=u2,I.hasIn=Jo,I.head=Lc,I.identity=Fr,I.includes=Yy,I.indexOf=qg,I.inRange=I2,I.invoke=h2,I.isArguments=qa,I.isArray=Xe,I.isArrayBuffer=Ix,I.isArrayLike=Ur,I.isArrayLikeObject=Zt,I.isBoolean=wx,I.isBuffer=xa,I.isDate=Rx,I.isElement=Nx,I.isEmpty=kx,I.isEqual=Lx,I.isEqualWith=Dx,I.isError=Yo,I.isFinite=Px,I.isFunction=ea,I.isInteger=Wc,I.isLength=rs,I.isMap=Qc,I.isMatch=Ux,I.isMatchWith=Ox,I.isNaN=Fx,I.isNative=Vx,I.isNil=Kx,I.isNull=Mx,I.isNumber=Yc,I.isObject=qt,I.isObjectLike=Wt,I.isPlainObject=e0,I.isRegExp=Xo,I.isSafeInteger=Hx,I.isSet=Xc,I.isString=ns,I.isSymbol=Wr,I.isTypedArray=Ci,I.isUndefined=qx,I.isWeakMap=zx,I.isWeakSet=Gx,I.join=Yg,I.kebabCase=D2,I.last=un,I.lastIndexOf=Xg,I.lowerCase=P2,I.lowerFirst=U2,I.lt=Wx,I.lte=Qx,I.max=Rm,I.maxBy=Nm,I.mean=km,I.meanBy=Lm,I.min=Dm,I.minBy=Pm,I.stubArray=nl,I.stubFalse=al,I.stubObject=Cm,I.stubString=_m,I.stubTrue=Em,I.multiply=Um,I.nth=Zg,I.noConflict=hm,I.noop=rl,I.now=$0,I.pad=O2,I.padEnd=F2,I.padStart=V2,I.parseInt=M2,I.random=w2,I.reduce=$y,I.reduceRight=ex,I.repeat=K2,I.replace=H2,I.result=m2,I.round=Om,I.runInContext=Q,I.sample=rx,I.size=ix,I.snakeCase=q2,I.some=sx,I.sortedIndex=ny,I.sortedIndexBy=ay,I.sortedIndexOf=iy,I.sortedLastIndex=sy,I.sortedLastIndexBy=oy,I.sortedLastIndexOf=ly,I.startCase=G2,I.startsWith=W2,I.subtract=Fm,I.sum=Vm,I.sumBy=Mm,I.template=Q2,I.times=Sm,I.toFinite=ta,I.toInteger=Je,I.toLength=Jc,I.toLower=Y2,I.toNumber=fn,I.toSafeInteger=Yx,I.toString=bt,I.toUpper=X2,I.trim=Z2,I.trimEnd=J2,I.trimStart=j2,I.truncate=$2,I.unescape=em,I.uniqueId=Tm,I.upperCase=tm,I.upperFirst=jo,I.each=Oc,I.eachRight=Fc,I.first=Lc,tl(I,function(){var a={};return Ln(I,function(o,h){Bt.call(I.prototype,h)||(a[h]=o)}),a}(),{chain:!1}),I.VERSION=n,nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){I[a].placeholder=I}),nn(["drop","take"],function(a,o){ct.prototype[a]=function(h){h=h===r?1:sr(Je(h),0);var g=this.__filtered__&&!o?new ct(this):this.clone();return g.__filtered__?g.__takeCount__=Sr(h,g.__takeCount__):g.__views__.push({size:Sr(h,G),type:a+(g.__dir__<0?"Right":"")}),g},ct.prototype[a+"Right"]=function(h){return this.reverse()[a](h).reverse()}}),nn(["filter","map","takeWhile"],function(a,o){var h=o+1,g=h==de||h==ne;ct.prototype[a]=function(_){var w=this.clone();return w.__iteratees__.push({iteratee:Ve(_,3),type:h}),w.__filtered__=w.__filtered__||g,w}}),nn(["head","last"],function(a,o){var h="take"+(o?"Right":"");ct.prototype[a]=function(){return this[h](1).value()[0]}}),nn(["initial","tail"],function(a,o){var h="drop"+(o?"":"Right");ct.prototype[a]=function(){return this.__filtered__?new ct(this):this[h](1)}}),ct.prototype.compact=function(){return this.filter(Fr)},ct.prototype.find=function(a){return this.filter(a).head()},ct.prototype.findLast=function(a){return this.reverse().find(a)},ct.prototype.invokeMap=nt(function(a,o){return typeof a=="function"?new ct(this):this.map(function(h){return Yi(h,a,o)})}),ct.prototype.reject=function(a){return this.filter(ts(Ve(a)))},ct.prototype.slice=function(a,o){a=Je(a);var h=this;return h.__filtered__&&(a>0||o<0)?new ct(h):(a<0?h=h.takeRight(-a):a&&(h=h.drop(a)),o!==r&&(o=Je(o),h=o<0?h.dropRight(-o):h.take(o-a)),h)},ct.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},ct.prototype.toArray=function(){return this.take(G)},Ln(ct.prototype,function(a,o){var h=/^(?:filter|find|map|reject)|While$/.test(o),g=/^(?:head|last)$/.test(o),_=I[g?"take"+(o=="last"?"Right":""):o],w=g||/^find/.test(o);_&&(I.prototype[o]=function(){var U=this.__wrapped__,M=g?[1]:arguments,X=U instanceof ct,ce=M[0],he=X||Xe(U),ge=function(ot){var dt=_.apply(I,ca([ot],M));return g&&Se?dt[0]:dt};he&&h&&typeof ce=="function"&&ce.length!=1&&(X=he=!1);var Se=this.__chain__,Ne=!!this.__actions__.length,Ke=w&&!Se,tt=X&&!Ne;if(!w&&he){U=tt?U:new ct(this);var He=a.apply(U,M);return He.__actions__.push({func:J0,args:[ge],thisArg:r}),new sn(He,Se)}return Ke&&tt?a.apply(this,M):(He=this.thru(ge),Ke?g?He.value()[0]:He.value():He)})}),nn(["pop","push","shift","sort","splice","unshift"],function(a){var o=S0[a],h=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",g=/^(?:pop|shift)$/.test(a);I.prototype[a]=function(){var _=arguments;if(g&&!this.__chain__){var w=this.value();return o.apply(Xe(w)?w:[],_)}return this[h](function(U){return o.apply(Xe(U)?U:[],_)})}}),Ln(ct.prototype,function(a,o){var h=I[o];if(h){var g=h.name+"";Bt.call(vi,g)||(vi[g]=[]),vi[g].push({name:o,func:h})}}),vi[z0(r,A).name]=[{name:"wrapper",func:r}],ct.prototype.clone=ev,ct.prototype.reverse=tv,ct.prototype.value=rv,I.prototype.at=Ny,I.prototype.chain=ky,I.prototype.commit=Ly,I.prototype.next=Dy,I.prototype.plant=Uy,I.prototype.reverse=Oy,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=Fy,I.prototype.first=I.prototype.head,Ki&&(I.prototype[Ki]=Py),I},hi=L1();Pa?((Pa.exports=hi)._=hi,$s._=hi):gr._=hi}).call(Ye)})(Ts,Ts.exports);Ts.exports;function Bd(e,t,r){const n=e.slice();return n[57]=t[r],n[58]=t,n[59]=r,n}function ab(e){let t;return{c(){t=Y("span"),t.textContent="Offline",W(t,"color","gray")},m(r,n){We(r,t,n)},p:nr,d(r){r&&Ge(t)}}}function ib(e){let t,r,n,i=e[15](e[1][e[57].forwardPort].uptime)+"",s,l,u=e[1][e[57].forwardPort].sessions+"",c,f,d=e[16](e[1][e[57].forwardPort].rx)+"",p,v,y=e[16](e[1][e[57].forwardPort].tx)+"",x,m;function C(E,R){return E[1][E[57].forwardPort].online?ob:sb}let A=C(e),S=A(e);return{c(){S.c(),t=ye(),r=Y("span"),n=wt("Uptime: "),s=wt(i),l=wt(`,\r
                                Â \r
                                Sessions: `),c=wt(u),f=wt(`,\r
                                Â \r
                                RX: `),p=wt(d),v=wt(`,\r
                                Â \r
                                TX: `),x=wt(y),m=wt(`\r
                                Â `),H(r,"class","sub-status svelte-1hnci93")},m(E,R){S.m(E,R),We(E,t,R),We(E,r,R),L(r,n),L(r,s),L(r,l),L(r,c),L(r,f),L(r,p),L(r,v),L(r,x),L(r,m)},p(E,R){A!==(A=C(E))&&(S.d(1),S=A(E),S&&(S.c(),S.m(t.parentNode,t))),R[0]&3&&i!==(i=E[15](E[1][E[57].forwardPort].uptime)+"")&&hn(s,i),R[0]&3&&u!==(u=E[1][E[57].forwardPort].sessions+"")&&hn(c,u),R[0]&3&&d!==(d=E[16](E[1][E[57].forwardPort].rx)+"")&&hn(p,d),R[0]&3&&y!==(y=E[16](E[1][E[57].forwardPort].tx)+"")&&hn(x,y)},d(E){E&&(Ge(t),Ge(r)),S.d(E)}}}function sb(e){let t;return{c(){t=Y("span"),t.textContent="Error",W(t,"color","darkred")},m(r,n){We(r,t,n)},d(r){r&&Ge(t)}}}function ob(e){let t;return{c(){t=Y("span"),t.textContent="Online",W(t,"color","darkgreen")},m(r,n){We(r,t,n)},d(r){r&&Ge(t)}}}function Id(e){var d;let t,r,n,i,s,l,u;function c(...p){return e[19](e[57],...p)}s=new XS({props:{on:(d=e[1][e[57].forwardPort])==null?void 0:d.active,style:"position: absolute; margin-left: 5px; margin-top: 3px"}}),s.$on("change",c);let f=e[1][e[57].forwardPort]&&e[1][e[57].forwardPort].active&&wd(e);return{c(){t=Y("div"),r=Y("span"),r.textContent="Activation:",n=ye(),i=Y("div"),_r(s.$$.fragment),l=ye(),f&&f.c(),H(r,"class","status-label svelte-1hnci93"),W(i,"display","inline"),W(i,"position","relative"),W(t,"display","block"),W(t,"position","relative"),W(t,"height","34px"),W(t,"min-width","370px")},m(p,v){We(p,t,v),L(t,r),L(t,n),L(t,i),cr(s,i,null),L(t,l),f&&f.m(t,null),u=!0},p(p,v){var x;e=p;const y={};v[0]&3&&(y.on=(x=e[1][e[57].forwardPort])==null?void 0:x.active),s.$set(y),e[1][e[57].forwardPort]&&e[1][e[57].forwardPort].active?f?(f.p(e,v),v[0]&3&&at(f,1)):(f=wd(e),f.c(),at(f,1),f.m(t,null)):f&&(ja(),_t(f,1,1,()=>{f=null}),$a())},i(p){u||(at(s.$$.fragment,p),at(f),u=!0)},o(p){_t(s.$$.fragment,p),_t(f),u=!1},d(p){p&&Ge(t),hr(s),f&&f.d()}}}function wd(e){let t,r,n,i,s=e[57],l;const u=()=>e[20](i,s),c=()=>e[20](null,s);function f(...p){return e[21](e[57],...p)}let d={style:"position: absolute; margin-left: 5px; margin-top: 3px"};return i=new nb({props:d}),u(),i.$on("change",f),{c(){t=Y("div"),t.textContent="Timeout:",r=ye(),n=Y("div"),_r(i.$$.fragment),H(t,"class","status-label svelte-1hnci93"),W(t,"display","inline-block"),W(t,"margin-left","65px"),W(n,"display","inline")},m(p,v){We(p,t,v),We(p,r,v),We(p,n,v),cr(i,n,null),l=!0},p(p,v){e=p,s!==e[57]&&(c(),s=e[57],u());const y={};i.$set(y)},i(p){l||(at(i.$$.fragment,p),l=!0)},o(p){_t(i.$$.fragment,p),l=!1},d(p){p&&(Ge(t),Ge(r),Ge(n)),c(),hr(i)}}}function Rd(e){let t,r;function n(...i){return e[25](e[57],e[58],e[59],...i)}return t=new Np({props:{certInfo:e[57].certInfo,hideMessage:!0}}),t.$on("update",n),{c(){_r(t.$$.fragment)},m(i,s){cr(t,i,s),r=!0},p(i,s){e=i;const l={};s[0]&1&&(l.certInfo=e[57].certInfo),t.$set(l)},i(i){r||(at(t.$$.fragment,i),r=!0)},o(i){_t(t.$$.fragment,i),r=!1},d(i){hr(t,i)}}}function Nd(e){let t,r,n,i,s,l,u,c,f,d,p,v,y,x,m,C,A,S,E,R,k,N,D,F,j,P,O,q,Z,de,ee,ne,ie,_e,Pe,le,G;function $(me){e[32](me,e[57])}let oe={};e[57].httpOption.customRequestHeaders!==void 0&&(oe.options=e[57].httpOption.customRequestHeaders),D=new Sd({props:oe}),jt.push(()=>pn(D,"options",$));function te(me){e[33](me,e[57])}let we={};e[57].httpOption.customResponseHeaders!==void 0&&(we.options=e[57].httpOption.customResponseHeaders),Z=new Sd({props:we}),jt.push(()=>pn(Z,"options",te));function Ae(me){e[34](me,e[57])}let Fe={};return e[57].httpOption.bodyRewriteRules!==void 0&&(Fe.options=e[57].httpOption.bodyRewriteRules),Pe=new zS({props:Fe}),jt.push(()=>pn(Pe,"options",Ae)),{c(){t=Y("h3"),t.textContent="HTTP Options",r=ye(),n=Y("div"),i=Y("div"),s=ye(),l=Y("div"),u=Y("label"),u.textContent="Replace Host(address) in text body",c=ye(),f=Y("select"),d=Y("option"),d.textContent="Enabled",p=Y("option"),p.textContent="Disabled",v=ye(),y=Y("div"),x=Y("label"),x.textContent="Replace Access-Control-Allow-Origin header",m=ye(),C=Y("select"),A=Y("option"),A.textContent="Enabled",S=Y("option"),S.textContent="Disabled",E=ye(),R=Y("div"),k=Y("div"),k.textContent="Inject request header",N=ye(),_r(D.$$.fragment),j=ye(),P=Y("div"),O=Y("div"),O.textContent="Inject response header",q=ye(),_r(Z.$$.fragment),ee=ye(),ne=Y("div"),ie=Y("div"),ie.textContent="Replace text in body",_e=ye(),_r(Pe.$$.fragment),H(t,"class","svelte-1hnci93"),H(i,"class","http-select-box-vertical-line svelte-1hnci93"),H(u,"for","select-change-host-in-body"),H(u,"class","form-label"),d.__value="true",yt(d,d.__value),p.__value="false",yt(p,p.__value),H(f,"id","select-change-host-in-body"),H(f,"class","svelte-1hnci93"),H(l,"class","input-box"),H(x,"for","select-change-acao"),H(x,"class","form-label"),A.__value="true",yt(A,A.__value),S.__value="false",yt(S,S.__value),H(C,"id","select-change-acao"),H(C,"class","svelte-1hnci93"),H(y,"class","input-box"),H(k,"class","form-label"),H(R,"class","input-box"),H(O,"class","form-label"),H(P,"class","input-box"),H(ie,"class","form-label"),H(ne,"class","input-box"),H(n,"class","http-select-box svelte-1hnci93")},m(me,Re){We(me,t,Re),We(me,r,Re),We(me,n,Re),L(n,i),L(n,s),L(n,l),L(l,u),L(l,c),L(l,f),L(f,d),L(f,p),L(n,v),L(n,y),L(y,x),L(y,m),L(y,C),L(C,A),L(C,S),L(n,E),L(n,R),L(R,k),L(R,N),cr(D,R,null),L(n,j),L(n,P),L(P,O),L(P,q),cr(Z,P,null),L(n,ee),L(n,ne),L(ne,ie),L(ne,_e),cr(Pe,ne,null),G=!0},p(me,Re){e=me;const st={};!F&&Re[0]&1&&(F=!0,st.options=e[57].httpOption.customRequestHeaders,dn(()=>F=!1)),D.$set(st);const $e={};!de&&Re[0]&1&&(de=!0,$e.options=e[57].httpOption.customResponseHeaders,dn(()=>de=!1)),Z.$set($e);const ze={};!le&&Re[0]&1&&(le=!0,ze.options=e[57].httpOption.bodyRewriteRules,dn(()=>le=!1)),Pe.$set(ze)},i(me){G||(at(D.$$.fragment,me),at(Z.$$.fragment,me),at(Pe.$$.fragment,me),G=!0)},o(me){_t(D.$$.fragment,me),_t(Z.$$.fragment,me),_t(Pe.$$.fragment,me),G=!1},d(me){me&&(Ge(t),Ge(r),Ge(n)),hr(D),hr(Z),hr(Pe)}}}function kd(e){var y0;let t,r,n,i,s,l,u=e[57].forwardPort+"",c,f,d=e[57].destinationAddress+"",p,v,y=e[57].destinationPort+"",x,m,C=e[57].protocol.toUpperCase()+"",A,S,E,R,k,N,D,F,j,P,O,q,Z,de,ee,ne,ie,_e,Pe,le,G,$,oe,te,we,Ae,Fe,me,Re,st,$e,ze,et,ke,rt,$t,Ut,Ct,er,ar,pt,It,zt,ae,re,De,Le,Rt,Rn,jr,tr,$r,Kr,Wn,en,Hr,Nn=e[0][e[59]].isSync?" Apply and Restart ":"Start",oa,la,Na,Cn,kn=e[0][e[59]].isSync?"Stop and ":"",ka,ii,pr,ua,La;function si(tn,At){return tn[1][tn[57].forwardPort]?ib:ab}let Qn=si(e),Lr=Qn(e),Ot=((y0=e[1][e[57].forwardPort])==null?void 0:y0.online)&&Id(e);function vr(){e[22].call(q,e[58],e[59])}function Dr(){return e[23](e[57])}function oi(){e[24].call(ee,e[58],e[59])}let Gt=e[57].tls===!0&&Rd(e);function Ms(){e[26].call(te,e[58],e[59])}function Ks(){e[27].call(Re,e[58],e[59])}function Hs(){e[28].call(ke,e[58],e[59])}function qs(){e[29].call(er,e[58],e[59])}function g0(){e[30].call(ae,e[58],e[59])}function zs(){return e[31](e[57])}let Xt=(e[57].protocol==="https"||e[57].protocol==="http")&&Nd(e);function Gs(){e[35].call(tr,e[58],e[59])}function Ws(){return e[36](e[59])}function Qs(){return e[37](e[59])}return{c(){t=Y("div"),r=Y("div"),n=Y("div"),i=Y("div"),i.textContent=`${e[59]+1}.`,s=ye(),l=Y("div"),c=wt(u),f=wt("  â¬ "),p=wt(d),v=wt(":"),x=wt(y),m=wt(" ("),A=wt(C),S=wt(")"),E=ye(),R=Y("div"),k=Y("div"),Lr.c(),N=ye(),Ot&&Ot.c(),D=ye(),F=Y("div"),j=Y("div"),P=Y("label"),P.textContent="External Server Port",O=ye(),q=Y("input"),Z=ye(),de=Y("div"),ee=Y("input"),ie=ye(),_e=Y("div"),_e.textContent="Secure tunneling Server/Client",Pe=ye(),Gt&&Gt.c(),le=ye(),G=Y("div"),$=Y("label"),$.textContent="Destination Host",oe=ye(),te=Y("input"),we=ye(),Ae=Y("div"),Fe=Y("label"),Fe.textContent="Destination Port",me=ye(),Re=Y("input"),st=ye(),$e=Y("div"),ze=Y("label"),ze.innerHTML='Allowed Client names <span style="font-size: 8pt">(Separate names with a semicolon(;))</span>',et=ye(),ke=Y("input"),rt=ye(),$t=Y("div"),Ut=Y("label"),Ut.textContent="Buffer size limit (MiB)",Ct=ye(),er=Y("input"),ar=ye(),pt=Y("div"),It=Y("label"),It.textContent="Protocol type",zt=ye(),ae=Y("select"),re=Y("option"),re.textContent="TCP",De=Y("option"),De.textContent="HTTP (http/1.1)",Le=Y("option"),Le.textContent="HTTPS (http/1.1)",Rt=ye(),Xt&&Xt.c(),Rn=ye(),jr=Y("div"),tr=Y("input"),$r=ye(),Kr=Y("div"),Kr.textContent="Inactive on startup",Wn=ye(),en=Y("div"),Hr=Y("button"),oa=wt(Nn),Na=ye(),Cn=Y("button"),ka=wt(kn),ii=wt("Remove"),H(i,"class","tunneling-title svelte-1hnci93"),W(i,"display","inline"),W(i,"min-width","25px"),W(i,"font-weight","900"),H(l,"class","tunneling-title svelte-1hnci93"),W(l,"display","inline"),W(l,"color","#444"),W(n,"display","block"),W(k,"font-size","18pt"),W(k,"font-weight","400"),W(k,"margin-top","-5px"),W(k,"display","inline-block"),H(R,"class","round-box"),W(R,"margin-bottom","5px"),W(r,"font-size","16pt"),H(P,"for","input-external-port"),H(P,"class","form-label"),H(q,"type","number"),H(q,"min","0"),H(q,"max","65535"),H(q,"id","input-external-port"),H(q,"class","form-control"),H(j,"class","input-box"),W(j,"margin-bottom","0"),H(ee,"type","checkbox"),H(ee,"id","sdf"),W(ee,"width","14px"),ee.disabled=ne=e[57].protocol!=="tcp",W(_e,"display","inline-block"),W(_e,"position","relative"),W(_e,"top","-7px"),W(_e,"font-size","10pt"),H(de,"class","input-box check-box"),W(de,"margin-bottom",(e[57].tls?10:20)+"px"),H($,"for","input-destination-host"),H($,"class","form-label"),H(te,"type","text"),H(te,"id","input-destination-host"),H(te,"class","form-control"),H(G,"class","input-box"),H(Fe,"for","input-destination-port"),H(Fe,"class","form-label"),H(Re,"type","number"),H(Re,"min","0"),H(Re,"max","65535"),H(Re,"id","input-destination-port"),H(Re,"class","form-control"),H(Ae,"class","input-box"),H(ze,"for","input-allow-client-names"),H(ze,"class","form-label"),H(ke,"type","text"),H(ke,"id","input-allow-client-names"),H(ke,"class","form-control"),H($e,"class","input-box"),H(Ut,"for","input-allow-client-names"),H(Ut,"class","form-label"),H(er,"type","text"),H(er,"id","input-allow-client-names"),H(er,"class","form-control"),H($t,"class","input-box"),H(It,"for","select-protocol"),H(It,"class","form-label"),re.__value="tcp",yt(re,re.__value),De.__value="http",yt(De,De.__value),Le.__value="https",yt(Le,Le.__value),H(ae,"id","select-protocol"),W(ae,"min-width","calc(100% - 5px)"),H(ae,"class","svelte-1hnci93"),e[57].protocol===void 0&&ps(g0),H(pt,"class","input-box"),H(tr,"type","checkbox"),W(tr,"width","14px"),W(Kr,"display","inline-block"),W(Kr,"position","relative"),W(Kr,"top","-7px"),W(Kr,"font-size","10pt"),W(Hr,"width","160px"),Hr.disabled=la=!e[0][e[59]].updatable,W(Cn,"width","140px"),H(F,"class","round-box"),W(t,"width","100%"),W(t,"margin-bottom","20px")},m(tn,At){We(tn,t,At),L(t,r),L(r,n),L(n,i),L(n,s),L(n,l),L(l,c),L(l,f),L(l,p),L(l,v),L(l,x),L(l,m),L(l,A),L(l,S),L(r,E),L(r,R),L(R,k),Lr.m(k,null),L(R,N),Ot&&Ot.m(R,null),L(t,D),L(t,F),L(F,j),L(j,P),L(j,O),L(j,q),yt(q,e[57].forwardPort),L(F,Z),L(F,de),L(de,ee),ee.checked=e[57].tls,L(de,ie),L(de,_e),L(F,Pe),Gt&&Gt.m(F,null),L(F,le),L(F,G),L(G,$),L(G,oe),L(G,te),yt(te,e[57].destinationAddress),L(F,we),L(F,Ae),L(Ae,Fe),L(Ae,me),L(Ae,Re),yt(Re,e[57].destinationPort),L(F,st),L(F,$e),L($e,ze),L($e,et),L($e,ke),yt(ke,e[57].allowedClientNamesQuery),L(F,rt),L(F,$t),L($t,Ut),L($t,Ct),L($t,er),yt(er,e[57].allowedClientNamesQuery),L(F,ar),L(F,pt),L(pt,It),L(pt,zt),L(pt,ae),L(ae,re),L(ae,De),L(ae,Le),ch(ae,e[57].protocol,!0),L(F,Rt),Xt&&Xt.m(F,null),L(F,Rn),L(F,jr),L(jr,tr),tr.checked=e[57].inactiveOnStartup,L(jr,$r),L(jr,Kr),L(F,Wn),L(F,en),L(en,Hr),L(Hr,oa),L(en,Na),L(en,Cn),L(Cn,ka),L(Cn,ii),pr=!0,ua||(La=[Me(q,"keyup",e[10]),Me(q,"input",vr),Me(ee,"change",Dr),Me(ee,"change",oi),Me(te,"input",Ms),Me(Re,"keyup",e[10]),Me(Re,"input",Ks),Me(ke,"input",Hs),Me(er,"input",qs),Me(ae,"change",g0),Me(ae,"change",zs),Me(tr,"change",fb),Me(tr,"change",Gs),Me(Hr,"click",Ws),Me(Cn,"click",Qs)],ua=!0)},p(tn,At){var Da;e=tn,(!pr||At[0]&1)&&u!==(u=e[57].forwardPort+"")&&hn(c,u),(!pr||At[0]&1)&&d!==(d=e[57].destinationAddress+"")&&hn(p,d),(!pr||At[0]&1)&&y!==(y=e[57].destinationPort+"")&&hn(x,y),(!pr||At[0]&1)&&C!==(C=e[57].protocol.toUpperCase()+"")&&hn(A,C),Qn===(Qn=si(e))&&Lr?Lr.p(e,At):(Lr.d(1),Lr=Qn(e),Lr&&(Lr.c(),Lr.m(k,null))),(Da=e[1][e[57].forwardPort])!=null&&Da.online?Ot?(Ot.p(e,At),At[0]&3&&at(Ot,1)):(Ot=Id(e),Ot.c(),at(Ot,1),Ot.m(R,null)):Ot&&(ja(),_t(Ot,1,1,()=>{Ot=null}),$a()),At[0]&1&&zn(q.value)!==e[57].forwardPort&&yt(q,e[57].forwardPort),(!pr||At[0]&1&&ne!==(ne=e[57].protocol!=="tcp"))&&(ee.disabled=ne),At[0]&1&&(ee.checked=e[57].tls),(!pr||At[0]&1)&&W(de,"margin-bottom",(e[57].tls?10:20)+"px"),e[57].tls===!0?Gt?(Gt.p(e,At),At[0]&1&&at(Gt,1)):(Gt=Rd(e),Gt.c(),at(Gt,1),Gt.m(F,le)):Gt&&(ja(),_t(Gt,1,1,()=>{Gt=null}),$a()),At[0]&1&&te.value!==e[57].destinationAddress&&yt(te,e[57].destinationAddress),At[0]&1&&zn(Re.value)!==e[57].destinationPort&&yt(Re,e[57].destinationPort),At[0]&1&&ke.value!==e[57].allowedClientNamesQuery&&yt(ke,e[57].allowedClientNamesQuery),At[0]&1&&er.value!==e[57].allowedClientNamesQuery&&yt(er,e[57].allowedClientNamesQuery),At[0]&1&&ch(ae,e[57].protocol),e[57].protocol==="https"||e[57].protocol==="http"?Xt?(Xt.p(e,At),At[0]&1&&at(Xt,1)):(Xt=Nd(e),Xt.c(),at(Xt,1),Xt.m(F,Rn)):Xt&&(ja(),_t(Xt,1,1,()=>{Xt=null}),$a()),At[0]&1&&(tr.checked=e[57].inactiveOnStartup),(!pr||At[0]&1)&&Nn!==(Nn=e[0][e[59]].isSync?" Apply and Restart ":"Start")&&hn(oa,Nn),(!pr||At[0]&1&&la!==(la=!e[0][e[59]].updatable))&&(Hr.disabled=la),(!pr||At[0]&1)&&kn!==(kn=e[0][e[59]].isSync?"Stop and ":"")&&hn(ka,kn)},i(tn){pr||(at(Ot),at(Gt),at(Xt),pr=!0)},o(tn){_t(Ot),_t(Gt),_t(Xt),pr=!1},d(tn){tn&&Ge(t),Lr.d(),Ot&&Ot.d(),Gt&&Gt.d(),Xt&&Xt.d(),ua=!1,mn(La)}}}function lb(e){let t,r;return{c(){t=new vu(!1),r=pu(),t.a=r},m(n,i){t.m(e[5],n,i),We(n,r,i)},p(n,i){i[0]&32&&t.p(n[5])},d(n){n&&(Ge(r),t.d())}}}function ub(e){let t,r,n,i,s,l,u,c,f,d,p,v,y,x,m,C,A,S=Ri(e[0]),E=[];for(let O=0;O<S.length;O+=1)E[O]=kd(Bd(e,S,O));const R=O=>_t(E[O],1,1,()=>{E[O]=null});function k(O){e[38](O)}function N(O){e[39](O)}let D={$$slots:{default:[lb]},$$scope:{ctx:e}};e[4]!==void 0&&(D.show=e[4]),e[6]!==void 0&&(D.button=e[6]),c=new v0({props:D}),jt.push(()=>pn(c,"show",k)),jt.push(()=>pn(c,"button",N)),c.$on("close",function(){As(e[8])&&e[8].apply(this,arguments)});function F(O){e[40](O)}function j(O){e[41](O)}let P={};return e[2]!==void 0&&(P.show=e[2]),e[3]!==void 0&&(P.transition=e[3]),v=new kp({props:P}),jt.push(()=>pn(v,"show",F)),jt.push(()=>pn(v,"transition",j)),{c(){t=Y("main"),r=Y("div"),n=Y("div"),n.innerHTML='<div style="display: inline-block; margin-top: 20px; margin-bottom: 10px;"><h2 class="svelte-1hnci93">Tunneling settings</h2></div>',i=ye();for(let O=0;O<E.length;O+=1)E[O].c();s=ye(),l=Y("button"),l.textContent="Add tunneling service",u=ye(),_r(c.$$.fragment),p=ye(),_r(v.$$.fragment),W(l,"margin-top","8px"),W(l,"width","180px"),H(r,"class",""),H(t,"class","svelte-1hnci93")},m(O,q){We(O,t,q),L(t,r),L(r,n),L(r,i);for(let Z=0;Z<E.length;Z+=1)E[Z]&&E[Z].m(r,null);L(r,s),L(r,l),L(t,u),cr(c,t,null),L(t,p),cr(v,t,null),m=!0,C||(A=Me(l,"click",e[9]),C=!0)},p(O,q){if(e=O,q[0]&261251){S=Ri(e[0]);let ee;for(ee=0;ee<S.length;ee+=1){const ne=Bd(e,S,ee);E[ee]?(E[ee].p(ne,q),at(E[ee],1)):(E[ee]=kd(ne),E[ee].c(),at(E[ee],1),E[ee].m(r,s))}for(ja(),ee=S.length;ee<E.length;ee+=1)R(ee);$a()}const Z={};q[0]&32|q[1]&536870912&&(Z.$$scope={dirty:q,ctx:e}),!f&&q[0]&16&&(f=!0,Z.show=e[4],dn(()=>f=!1)),!d&&q[0]&64&&(d=!0,Z.button=e[6],dn(()=>d=!1)),c.$set(Z);const de={};!y&&q[0]&4&&(y=!0,de.show=e[2],dn(()=>y=!1)),!x&&q[0]&8&&(x=!0,de.transition=e[3],dn(()=>x=!1)),v.$set(de)},i(O){if(!m){for(let q=0;q<S.length;q+=1)at(E[q]);at(c.$$.fragment,O),at(v.$$.fragment,O),m=!0}},o(O){E=E.filter(Boolean);for(let q=0;q<E.length;q+=1)_t(E[q]);_t(c.$$.fragment,O),_t(v.$$.fragment,O),m=!1},d(O){O&&Ge(t),du(E,O),hr(c),hr(v),C=!1,A()}}}const fb=()=>{};function cb(e,t,r){let n={},i=0,s=[],l=[],u=!1,c=!1,f=!1,d=!1,p="",v="Ok",y={},x=null,m=()=>{};ti(async()=>{u||(await A(),await k(),R(),r(18,u=!0))});let C=()=>{for(let ae of s)ae.updatable=Nr.checkValidTunnelingOption(ae)},A=async()=>{var ae;try{r(2,c=!0),r(0,s=await Nr.instance.getTunnelingOption());for(let re of s)re.isSync=!0,re.updatable=!0,re.allowedClientNamesQuery=(ae=re.allowedClientNames)==null?void 0:ae.join("; "),re.allowedClientNamesQuery?re.allowedClientNamesQuery+=";":re.allowedClientNamesQuery="";l=St.cloneDeep(s),await S(),C(),r(2,c=!1)}catch(re){if(console.error(re),r(2,c=!1),re instanceof Qt){Z();return}q()}},S=async()=>{r(2,c=!0);for(let ae of s)await E(ae.forwardPort);r(2,c=!1)},E=async ae=>{try{let re=s.find(De=>De.forwardPort===ae);re.certInfo=await Ea.instance.loadExternalServerCert(ae),r(0,s=[...s])}catch(re){if(console.error(re),re instanceof Qt){Z();return}q()}},R=()=>{k(),x||(x=setInterval(async()=>{c||await k(!0)==!1&&clearInterval(x)},1e3))},k=async ae=>{try{let re={},De=await Nr.instance.loadTunnelingStatus();i=De.serverTime;for(let Le of De.statuses)re[Le.port]=Le,Le&&Le.active&&y[Le.port]&&y[Le.port].update(Pe(Le),Le.activeTimeout);return r(1,n=re),!0}catch(re){return ae?!1:re instanceof Qt?(Z(),!1):(q(),!1)}},N=async()=>{s.push({forwardPort:Math.floor(Math.random()*65534+10),tls:!1,protocol:"tcp",httpOption:{rewriteHostInTextBody:!0,replaceAccessControlAllowOrigin:!1,customRequestHeaders:[],customResponseHeaders:[],bodyRewriteRules:[]},destinationAddress:"127.0.0.1",destinationPort:8080,isSync:!1,updatable:!0,allowedClientNamesQuery:""}),r(0,s=[...s])},D=ae=>{let re=ae.target;re.value!=""&&(parseInt(re.value)<parseInt(re.min)&&(re.value=re.min),parseInt(re.value)>parseInt(re.max)&&(re.value=re.max))},F=ae=>{if(ae.protocol=="https"){let re=ae.tls;ae.tls=!0,re||ee(ae.forwardPort)}else ae.tls=!1;r(0,s=[...s])},j=async ae=>{if(s[ae]===void 0)return;let De=s[ae];r(2,c=!0);try{let Le={success:!0,message:"",forwardPort:De.forwardPort};De.isSync&&(Le=await Nr.instance.removeTunnelingOption(De)),r(2,c=!1),Le.success?(s.splice(ae,1),r(0,s=[...s]),De.isSync&&de("Tunneling option has been removed.<br/>The external server has been shut down."),await A()):de("Fail: "+Le.message)}catch(Le){if(r(2,c=!1),Le instanceof Qt){Z();return}q()}},P=async()=>{let ae=l.map(De=>De.forwardPort),re=s.map(De=>De.forwardPort);for(let De of ae)if(re.indexOf(De)===-1)try{let Le=l.find(Rt=>Rt.forwardPort===De);Le&&Le.certInfo&&await Ea.instance.deleteExternalServerCert(De),await Nr.instance.removeTunnelingOption({forwardPort:De})}catch(Le){console.error(Le)}},O=async ae=>{var De;r(2,c=!0);let re=s[ae];re.allowedClientNames=re.allowedClientNamesQuery.split(";").map(Le=>Le.trim()).filter(Le=>Le!=="");try{if(await P(),re.tls,re.tls&&re.certInfo){let Rt=await Ea.instance.updateExternalServerCert(re.forwardPort,re.certInfo);if(!Rt.success){r(2,c=!1),de("Fail to apply tunneling option: "+Rt.message);return}}let Le=await Nr.instance.updateTunnelingOption(re);r(2,c=!1),Le.success?(y[re.forwardPort]&&((De=n[re.forwardPort])!=null&&De.activeTimeout)&&y[re.forwardPort].reset(n[re.forwardPort].activeTimeout),l=St.cloneDeep(s),de("Success to apply tunneling option")):de("Fail to apply tunneling option: "+Le.message),await A(),await k()}catch(Le){if(console.error(Le),r(2,c=!1),Le instanceof Qt){Z();return}q()}},q=()=>{de("Unable to connect to the server.","OK",()=>{location.href="/"})},Z=()=>{de("Session is expired.<br/>Please login again.","OK",()=>{location.href="/"})},de=(ae,re,De)=>{re?r(6,v=re):re="OK",De==null?r(8,m=()=>{}):r(8,m=De),r(5,p=ae),r(4,d=!0)},ee=async ae=>{s.find(De=>De.forwardPort===ae)!==void 0&&await E(ae)},ne=ae=>{if(!ae)return"0s";let re=Date.now()-ae;return re>1e3*60*60*24?Math.floor(re/(1e3*60*60*24))+"d, "+Math.floor(re%(1e3*60*60*24)/(1e3*60*60))+"h":re>1e3*60*60?Math.floor(re/(1e3*60*60))+"h, "+Math.floor(re%(1e3*60*60)/(1e3*60))+"m":re>1e3*60?Math.floor(re/(1e3*60))+"m":Math.floor(re/1e3)+"s"},ie=(ae,re)=>{let De=Math.pow(10,re);return Math.floor(ae*De)/De},_e=ae=>(ae=ae,ae>1024*1024*1024?ie(ae/(1024*1024*1024),2)+"Gb":ae>1024*1024?ie(ae/(1024*1024),2)+"Mb":ae>1024?ie(ae/1024,2)+"Kb":ae+"B"),Pe=ae=>{let re=ae.activeStart+ae.activeTimeout*1e3-i;return re<0&&(re=0),re=Math.floor(re/1e3),re},le=async(ae,re,De)=>{if(ae){let Rt=n[re];Rt&&y[Rt.port]&&y[Rt.port].update(Pe(Rt),Rt.activeTimeout)}let Le=n[re].active;if(Le==ae&&De==null){console.log("time: "+De);return}De=De??n[re].activeTimeout;try{r(2,c=!0),r(3,f=!0);let Rt=await Nr.instance.activeExternalPortServer(ae,re,De);await k(),Rt.success?r(1,n[re].active=ae,n):r(1,n[re].active=Le,n),De>0,r(2,c=!1),r(3,f=!1)}catch(Rt){if(console.error(Rt),r(2,c=!1),r(3,f=!1),Rt instanceof Qt){Z();return}q()}};const G=(ae,re)=>le(re.detail.on,ae.forwardPort);function $(ae,re){jt[ae?"unshift":"push"](()=>{y[re.forwardPort]=ae,r(7,y)})}const oe=(ae,re)=>{le(!0,ae.forwardPort,re.detail.time)};function te(ae,re){ae[re].forwardPort=zn(this.value),r(0,s)}const we=ae=>{ee(ae.forwardPort)};function Ae(ae,re){ae[re].tls=this.checked,r(0,s)}const Fe=(ae,re,De,Le)=>{r(0,re[De].certInfo=Le.detail,s)};function me(ae,re){ae[re].destinationAddress=this.value,r(0,s)}function Re(ae,re){ae[re].destinationPort=zn(this.value),r(0,s)}function st(ae,re){ae[re].allowedClientNamesQuery=this.value,r(0,s)}function $e(ae,re){ae[re].allowedClientNamesQuery=this.value,r(0,s)}function ze(ae,re){ae[re].protocol=Jm(this),r(0,s)}const et=ae=>F(ae);function ke(ae,re){e.$$.not_equal(re.httpOption.customRequestHeaders,ae)&&(re.httpOption.customRequestHeaders=ae,r(0,s))}function rt(ae,re){e.$$.not_equal(re.httpOption.customResponseHeaders,ae)&&(re.httpOption.customResponseHeaders=ae,r(0,s))}function $t(ae,re){e.$$.not_equal(re.httpOption.bodyRewriteRules,ae)&&(re.httpOption.bodyRewriteRules=ae,r(0,s))}function Ut(ae,re){ae[re].inactiveOnStartup=this.checked,r(0,s)}const Ct=ae=>O(ae),er=ae=>j(ae);function ar(ae){d=ae,r(4,d)}function pt(ae){v=ae,r(6,v)}function It(ae){c=ae,r(2,c)}function zt(ae){f=ae,r(3,f)}return e.$$.update=()=>{e.$$.dirty[0]&262145&&u&&s.length>0&&C()},[s,n,c,f,d,p,v,y,m,N,D,F,j,O,ee,ne,_e,le,u,G,$,oe,te,we,Ae,Fe,me,Re,st,$e,ze,et,ke,rt,$t,Ut,Ct,er,ar,pt,It,zt]}class hb extends wn{constructor(t){super(),In(this,t,cb,ub,Bn,{},null,[-1,-1])}}function db(e){let t,r,n,i,s,l,u,c,f,d,p,v;return{c(){t=Y("main"),r=Y("h2"),r.textContent="Sign in",n=ye(),i=Y("div"),s=Y("input"),l=ye(),u=Y("div"),c=ye(),f=Y("div"),d=Y("button"),d.textContent="OK",H(r,"class","svelte-16cov7s"),H(s,"type","password"),H(s,"class","form-control svelte-16cov7s"),H(s,"placeholder","Password"),H(s,"aria-label","Password"),H(u,"id","login-message"),H(u,"class","svelte-16cov7s"),H(i,"class","input-box svelte-16cov7s"),H(d,"type","button"),H(d,"class","svelte-16cov7s"),H(f,"class","button-box svelte-16cov7s"),H(t,"class","svelte-16cov7s")},m(y,x){We(y,t,x),L(t,r),L(t,n),L(t,i),L(i,s),L(i,l),L(i,u),e[3](u),L(t,c),L(t,f),L(f,d),p||(v=[Me(s,"keyup",e[2]),Me(d,"click",e[1])],p=!0)},p:nr,i:nr,o:nr,d(y){y&&Ge(t),e[3](null),p=!1,mn(v)}}}function pb(e,t,r){let n,i=!1;ti(async()=>{if(i=await f0.isEmptyKey(),i&&n){r(0,n.innerHTML="No password has been set. Enter the desired password.",n);return}});let s=async c=>{let d=document.querySelector("input").value;if(d==""){r(0,n.innerHTML="Please enter your password.",n);return}if(i){if(d.length<12){r(0,n.innerHTML="The password must be at least 12 characters long.",n);return}else if(!d.match(/[0-9]/g)||!d.match(/[~!@#$%^&*()_+|<>?:{}]/g)){r(0,n.innerHTML="The password must contain at least one number or special character.",n);return}}await f0.login(d)?window.location.href="/":r(0,n.innerHTML="The password is incorrect.",n)},l=c=>{c.key=="Enter"&&s()};function u(c){jt[c?"unshift":"push"](()=>{n=c,r(0,n)})}return[n,s,l,u]}class vb extends wn{constructor(t){super(),In(this,t,pb,db,Bn,{})}}function gb(e){let t;return{c(){t=Y("div"),t.textContent="Checking..."},m(r,n){We(r,t,n)},i:nr,o:nr,d(r){r&&Ge(t)}}}function yb(e){let t,r;return t=new vb({}),{c(){_r(t.$$.fragment)},m(n,i){cr(t,n,i),r=!0},i(n){r||(at(t.$$.fragment,n),r=!0)},o(n){_t(t.$$.fragment,n),r=!1},d(n){hr(t,n)}}}function xb(e){let t,r,n,i;return t=new PS({}),n=new hb({}),{c(){_r(t.$$.fragment),r=ye(),_r(n.$$.fragment)},m(s,l){cr(t,s,l),We(s,r,l),cr(n,s,l),i=!0},i(s){i||(at(t.$$.fragment,s),at(n.$$.fragment,s),i=!0)},o(s){_t(t.$$.fragment,s),_t(n.$$.fragment,s),i=!1},d(s){s&&Ge(r),hr(t,s),hr(n,s)}}}function mb(e){let t,r,n,i,s,l;const u=[xb,yb,gb],c=[];function f(d,p){return d[0]=="Valid"?0:d[0]=="Invalid"?1:2}return r=f(e),n=c[r]=u[r](e),s=new v0({}),{c(){t=Y("main"),n.c(),i=ye(),_r(s.$$.fragment),H(t,"class","svelte-16fv2ts")},m(d,p){We(d,t,p),c[r].m(t,null),L(t,i),cr(s,t,null),l=!0},p(d,[p]){let v=r;r=f(d),r!==v&&(ja(),_t(c[v],1,1,()=>{c[v]=null}),$a(),n=c[r],n||(n=c[r]=u[r](d),n.c()),at(n,1),n.m(t,i))},i(d){l||(at(n),at(s.$$.fragment,d),l=!0)},o(d){_t(n),_t(s.$$.fragment,d),l=!1},d(d){d&&Ge(t),c[r].d(),hr(s)}}}function Cb(e,t,r){let n="Checking";return ti(async()=>{r(0,n=await f0.validateSession()?"Valid":"Invalid")}),[n]}class _b extends wn{constructor(t){super(),In(this,t,Cb,mb,Bn,{})}}new _b({target:document.getElementById("app")});
