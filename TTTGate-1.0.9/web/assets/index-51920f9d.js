var sC=Object.defineProperty;var oC=(e,t,r)=>t in e?sC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vr=(e,t,r)=>(oC(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function Xt(){}function lC(e,t){for(const r in t)e[r]=t[r];return e}function up(e){return e()}function Dh(){return Object.create(null)}function In(e){e.forEach(up)}function N0(e){return typeof e=="function"}function jr(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Rs;function Hu(e,t){return e===t?!0:(Rs||(Rs=document.createElement("a")),Rs.href=t,e===Rs.href)}function uC(e){return Object.keys(e).length===0}function fC(e,t,r,n){if(e){const a=fp(e,t,r,n);return e[0](a)}}function fp(e,t,r,n){return e[1]&&n?lC(r.ctx.slice(),e[1](n(t))):r.ctx}function cC(e,t,r,n){if(e[2]&&n){const a=e[2](n(r));if(t.dirty===void 0)return a;if(typeof a=="object"){const s=[],l=Math.max(t.dirty.length,a.length);for(let u=0;u<l;u+=1)s[u]=t.dirty[u]|a[u];return s}return t.dirty|a}return t.dirty}function hC(e,t,r,n,a,s){if(a){const l=fp(t,r,n,s);e.p(l,a)}}function dC(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let n=0;n<r;n++)t[n]=-1;return t}return-1}function A(e,t){e.appendChild(t)}function be(e,t,r){e.insertBefore(t,r||null)}function Ae(e){e.parentNode&&e.parentNode.removeChild(e)}function Za(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function U(e){return document.createElement(e)}function pC(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ie(e){return document.createTextNode(e)}function re(){return Ie(" ")}function k0(){return Ie("")}function Ke(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function M(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function yr(e){return e===""?null:+e}function vC(e){return Array.from(e.childNodes)}function ht(e,t){t=""+t,e.data!==t&&(e.data=t)}function ct(e,t){e.value=t??""}function V(e,t,r,n){r==null?e.style.removeProperty(t):e.style.setProperty(t,r,n?"important":"")}function Rh(e,t,r){for(let n=0;n<e.options.length;n+=1){const a=e.options[n];if(a.__value===t){a.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function xC(e){const t=e.querySelector(":checked");return t&&t.__value}function gC(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}class $s{constructor(t=!1){vr(this,"is_svg",!1);vr(this,"e");vr(this,"n");vr(this,"t");vr(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,r,n=null){this.e||(this.is_svg?this.e=pC(r.nodeName):this.e=U(r.nodeType===11?"TEMPLATE":r.nodeName),this.t=r.tagName!=="TEMPLATE"?r:r.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let r=0;r<this.n.length;r+=1)be(this.t,this.n[r],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(Ae)}}let w0;function b0(e){w0=e}function eo(){if(!w0)throw new Error("Function called outside component initialization");return w0}function yC(e){eo().$$.before_update.push(e)}function yi(e){eo().$$.on_mount.push(e)}function mC(e){eo().$$.after_update.push(e)}function F0(){const e=eo();return(t,r,{cancelable:n=!1}={})=>{const a=e.$$.callbacks[t];if(a){const s=gC(t,r,{cancelable:n});return a.slice().forEach(l=>{l.call(e,s)}),!s.defaultPrevented}return!0}}const Ka=[],Gt=[];let Wa=[];const Eu=[],CC=Promise.resolve();let _u=!1;function EC(){_u||(_u=!0,CC.then(Wn))}function Ks(e){Wa.push(e)}function Kr(e){Eu.push(e)}const Rl=new Set;let Ma=0;function Wn(){if(Ma!==0)return;const e=w0;do{try{for(;Ma<Ka.length;){const t=Ka[Ma];Ma++,b0(t),_C(t.$$)}}catch(t){throw Ka.length=0,Ma=0,t}for(b0(null),Ka.length=0,Ma=0;Gt.length;)Gt.pop()();for(let t=0;t<Wa.length;t+=1){const r=Wa[t];Rl.has(r)||(Rl.add(r),r())}Wa.length=0}while(Ka.length);for(;Eu.length;)Eu.pop()();_u=!1,Rl.clear(),b0(e)}function _C(e){if(e.fragment!==null){e.update(),In(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ks)}}function AC(e){const t=[],r=[];Wa.forEach(n=>e.indexOf(n)===-1?t.push(n):r.push(n)),r.forEach(n=>n()),Wa=t}const Us=new Set;let ha;function Vi(){ha={r:0,c:[],p:ha}}function Ki(){ha.r||In(ha.c),ha=ha.p}function Je(e,t){e&&e.i&&(Us.delete(e),e.i(t))}function ut(e,t,r,n){if(e&&e.o){if(Us.has(e))return;Us.add(e),ha.c.push(()=>{Us.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}else n&&n()}function Tn(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Hr(e,t,r){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}function $t(e){e&&e.c()}function Qt(e,t,r){const{fragment:n,after_update:a}=e.$$;n&&n.m(t,r),Ks(()=>{const s=e.$$.on_mount.map(up).filter(N0);e.$$.on_destroy?e.$$.on_destroy.push(...s):In(s),e.$$.on_mount=[]}),a.forEach(Ks)}function Yt(e,t){const r=e.$$;r.fragment!==null&&(AC(r.after_update),In(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function BC(e,t){e.$$.dirty[0]===-1&&(Ka.push(e),EC(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Jr(e,t,r,n,a,s,l=null,u=[-1]){const c=w0;b0(e);const f=e.$$={fragment:null,ctx:[],props:s,update:Xt,not_equal:a,bound:Dh(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Dh(),dirty:u,skip_bound:!1,root:t.target||c.$$.root};l&&l(f.root);let h=!1;if(f.ctx=r?r(e,t.props||{},(p,v,...x)=>{const g=x.length?x[0]:v;return f.ctx&&a(f.ctx[p],f.ctx[p]=g)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](g),h&&BC(e,p)),v}):[],f.update(),h=!0,In(f.before_update),f.fragment=n?n(f.ctx):!1,t.target){if(t.hydrate){const p=vC(t.target);f.fragment&&f.fragment.l(p),p.forEach(Ae)}else f.fragment&&f.fragment.c();t.intro&&Je(e.$$.fragment),Qt(e,t.target,t.anchor),Wn()}b0(c)}class $r{constructor(){vr(this,"$$");vr(this,"$$set")}$destroy(){Yt(this,1),this.$destroy=Xt}$on(t,r){if(!N0(r))return Xt;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{const a=n.indexOf(r);a!==-1&&n.splice(a,1)}}$set(t){this.$$set&&!uC(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const bC="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(bC);var et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function SC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var cp={exports:{}};function TC(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Nl={exports:{}};const IC={},wC=Object.freeze(Object.defineProperty({__proto__:null,default:IC},Symbol.toStringTag,{value:"Module"})),to=SC(wC);var Nh;function At(){return Nh||(Nh=1,function(e,t){(function(r,n){e.exports=n()})(et,function(){var r=r||function(n,a){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof et<"u"&&et.crypto&&(s=et.crypto),!s&&typeof TC=="function")try{s=to}catch{}var l=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},u=Object.create||function(){function _(){}return function(C){var S;return _.prototype=C,S=new _,_.prototype=null,S}}(),c={},f=c.lib={},h=f.Base=function(){return{extend:function(_){var C=u(this);return _&&C.mixIn(_),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var C in _)_.hasOwnProperty(C)&&(this[C]=_[C]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),p=f.WordArray=h.extend({init:function(_,C){_=this.words=_||[],C!=a?this.sigBytes=C:this.sigBytes=_.length*4},toString:function(_){return(_||x).stringify(this)},concat:function(_){var C=this.words,S=_.words,F=this.sigBytes,k=_.sigBytes;if(this.clamp(),F%4)for(var L=0;L<k;L++){var R=S[L>>>2]>>>24-L%4*8&255;C[F+L>>>2]|=R<<24-(F+L)%4*8}else for(var q=0;q<k;q+=4)C[F+q>>>2]=S[q>>>2];return this.sigBytes+=k,this},clamp:function(){var _=this.words,C=this.sigBytes;_[C>>>2]&=4294967295<<32-C%4*8,_.length=n.ceil(C/4)},clone:function(){var _=h.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var C=[],S=0;S<_;S+=4)C.push(l());return new p.init(C,_)}}),v=c.enc={},x=v.Hex={stringify:function(_){for(var C=_.words,S=_.sigBytes,F=[],k=0;k<S;k++){var L=C[k>>>2]>>>24-k%4*8&255;F.push((L>>>4).toString(16)),F.push((L&15).toString(16))}return F.join("")},parse:function(_){for(var C=_.length,S=[],F=0;F<C;F+=2)S[F>>>3]|=parseInt(_.substr(F,2),16)<<24-F%8*4;return new p.init(S,C/2)}},g=v.Latin1={stringify:function(_){for(var C=_.words,S=_.sigBytes,F=[],k=0;k<S;k++){var L=C[k>>>2]>>>24-k%4*8&255;F.push(String.fromCharCode(L))}return F.join("")},parse:function(_){for(var C=_.length,S=[],F=0;F<C;F++)S[F>>>2]|=(_.charCodeAt(F)&255)<<24-F%4*8;return new p.init(S,C)}},E=v.Utf8={stringify:function(_){try{return decodeURIComponent(escape(g.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return g.parse(unescape(encodeURIComponent(_)))}},m=f.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=E.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var C,S=this._data,F=S.words,k=S.sigBytes,L=this.blockSize,R=L*4,q=k/R;_?q=n.ceil(q):q=n.max((q|0)-this._minBufferSize,0);var P=q*L,O=n.min(P*4,k);if(P){for(var H=0;H<P;H+=L)this._doProcessBlock(F,H);C=F.splice(0,P),S.sigBytes-=O}return new p.init(C,O)},clone:function(){var _=h.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});f.Hasher=m.extend({cfg:h.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var C=this._doFinalize();return C},blockSize:16,_createHelper:function(_){return function(C,S){return new _.init(S).finalize(C)}},_createHmacHelper:function(_){return function(C,S){return new B.HMAC.init(_,S).finalize(C)}}});var B=c.algo={};return c}(Math);return r})}(Nl)),Nl.exports}var kl={exports:{}},kh;function ro(){return kh||(kh=1,function(e,t){(function(r,n){e.exports=n(At())})(et,function(r){return function(n){var a=r,s=a.lib,l=s.Base,u=s.WordArray,c=a.x64={};c.Word=l.extend({init:function(f,h){this.high=f,this.low=h}}),c.WordArray=l.extend({init:function(f,h){f=this.words=f||[],h!=n?this.sigBytes=h:this.sigBytes=f.length*8},toX32:function(){for(var f=this.words,h=f.length,p=[],v=0;v<h;v++){var x=f[v];p.push(x.high),p.push(x.low)}return u.create(p,this.sigBytes)},clone:function(){for(var f=l.clone.call(this),h=f.words=this.words.slice(0),p=h.length,v=0;v<p;v++)h[v]=h[v].clone();return f}})}(),r})}(kl)),kl.exports}var Fl={exports:{}},Fh;function DC(){return Fh||(Fh=1,function(e,t){(function(r,n){e.exports=n(At())})(et,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,a=n.lib,s=a.WordArray,l=s.init,u=s.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var f=c.byteLength,h=[],p=0;p<f;p++)h[p>>>2]|=c[p]<<24-p%4*8;l.call(this,h,f)}else l.apply(this,arguments)};u.prototype=s}}(),r.lib.WordArray})}(Fl)),Fl.exports}var Ll={exports:{}},Lh;function RC(){return Lh||(Lh=1,function(e,t){(function(r,n){e.exports=n(At())})(et,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,l=n.enc;l.Utf16=l.Utf16BE={stringify:function(c){for(var f=c.words,h=c.sigBytes,p=[],v=0;v<h;v+=2){var x=f[v>>>2]>>>16-v%4*8&65535;p.push(String.fromCharCode(x))}return p.join("")},parse:function(c){for(var f=c.length,h=[],p=0;p<f;p++)h[p>>>1]|=c.charCodeAt(p)<<16-p%2*16;return s.create(h,f*2)}},l.Utf16LE={stringify:function(c){for(var f=c.words,h=c.sigBytes,p=[],v=0;v<h;v+=2){var x=u(f[v>>>2]>>>16-v%4*8&65535);p.push(String.fromCharCode(x))}return p.join("")},parse:function(c){for(var f=c.length,h=[],p=0;p<f;p++)h[p>>>1]|=u(c.charCodeAt(p)<<16-p%2*16);return s.create(h,f*2)}};function u(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}(Ll)),Ll.exports}var Pl={exports:{}},Ph;function va(){return Ph||(Ph=1,function(e,t){(function(r,n){e.exports=n(At())})(et,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,l=n.enc;l.Base64={stringify:function(c){var f=c.words,h=c.sigBytes,p=this._map;c.clamp();for(var v=[],x=0;x<h;x+=3)for(var g=f[x>>>2]>>>24-x%4*8&255,E=f[x+1>>>2]>>>24-(x+1)%4*8&255,m=f[x+2>>>2]>>>24-(x+2)%4*8&255,B=g<<16|E<<8|m,_=0;_<4&&x+_*.75<h;_++)v.push(p.charAt(B>>>6*(3-_)&63));var C=p.charAt(64);if(C)for(;v.length%4;)v.push(C);return v.join("")},parse:function(c){var f=c.length,h=this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var v=0;v<h.length;v++)p[h.charCodeAt(v)]=v}var x=h.charAt(64);if(x){var g=c.indexOf(x);g!==-1&&(f=g)}return u(c,f,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function u(c,f,h){for(var p=[],v=0,x=0;x<f;x++)if(x%4){var g=h[c.charCodeAt(x-1)]<<x%4*2,E=h[c.charCodeAt(x)]>>>6-x%4*2,m=g|E;p[v>>>2]|=m<<24-v%4*8,v++}return s.create(p,v)}}(),r.enc.Base64})}(Pl)),Pl.exports}var Ul={exports:{}},Uh;function NC(){return Uh||(Uh=1,function(e,t){(function(r,n){e.exports=n(At())})(et,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,l=n.enc;l.Base64url={stringify:function(c,f){f===void 0&&(f=!0);var h=c.words,p=c.sigBytes,v=f?this._safe_map:this._map;c.clamp();for(var x=[],g=0;g<p;g+=3)for(var E=h[g>>>2]>>>24-g%4*8&255,m=h[g+1>>>2]>>>24-(g+1)%4*8&255,B=h[g+2>>>2]>>>24-(g+2)%4*8&255,_=E<<16|m<<8|B,C=0;C<4&&g+C*.75<p;C++)x.push(v.charAt(_>>>6*(3-C)&63));var S=v.charAt(64);if(S)for(;x.length%4;)x.push(S);return x.join("")},parse:function(c,f){f===void 0&&(f=!0);var h=c.length,p=f?this._safe_map:this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var x=0;x<p.length;x++)v[p.charCodeAt(x)]=x}var g=p.charAt(64);if(g){var E=c.indexOf(g);E!==-1&&(h=E)}return u(c,h,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function u(c,f,h){for(var p=[],v=0,x=0;x<f;x++)if(x%4){var g=h[c.charCodeAt(x-1)]<<x%4*2,E=h[c.charCodeAt(x)]>>>6-x%4*2,m=g|E;p[v>>>2]|=m<<24-v%4*8,v++}return s.create(p,v)}}(),r.enc.Base64url})}(Ul)),Ul.exports}var Ol={exports:{}},Oh;function xa(){return Oh||(Oh=1,function(e,t){(function(r,n){e.exports=n(At())})(et,function(r){return function(n){var a=r,s=a.lib,l=s.WordArray,u=s.Hasher,c=a.algo,f=[];(function(){for(var E=0;E<64;E++)f[E]=n.abs(n.sin(E+1))*4294967296|0})();var h=c.MD5=u.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(E,m){for(var B=0;B<16;B++){var _=m+B,C=E[_];E[_]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}var S=this._hash.words,F=E[m+0],k=E[m+1],L=E[m+2],R=E[m+3],q=E[m+4],P=E[m+5],O=E[m+6],H=E[m+7],Y=E[m+8],ce=E[m+9],$=E[m+10],ne=E[m+11],j=E[m+12],oe=E[m+13],_e=E[m+14],ue=E[m+15],W=S[0],ee=S[1],se=S[2],ie=S[3];W=p(W,ee,se,ie,F,7,f[0]),ie=p(ie,W,ee,se,k,12,f[1]),se=p(se,ie,W,ee,L,17,f[2]),ee=p(ee,se,ie,W,R,22,f[3]),W=p(W,ee,se,ie,q,7,f[4]),ie=p(ie,W,ee,se,P,12,f[5]),se=p(se,ie,W,ee,O,17,f[6]),ee=p(ee,se,ie,W,H,22,f[7]),W=p(W,ee,se,ie,Y,7,f[8]),ie=p(ie,W,ee,se,ce,12,f[9]),se=p(se,ie,W,ee,$,17,f[10]),ee=p(ee,se,ie,W,ne,22,f[11]),W=p(W,ee,se,ie,j,7,f[12]),ie=p(ie,W,ee,se,oe,12,f[13]),se=p(se,ie,W,ee,_e,17,f[14]),ee=p(ee,se,ie,W,ue,22,f[15]),W=v(W,ee,se,ie,k,5,f[16]),ie=v(ie,W,ee,se,O,9,f[17]),se=v(se,ie,W,ee,ne,14,f[18]),ee=v(ee,se,ie,W,F,20,f[19]),W=v(W,ee,se,ie,P,5,f[20]),ie=v(ie,W,ee,se,$,9,f[21]),se=v(se,ie,W,ee,ue,14,f[22]),ee=v(ee,se,ie,W,q,20,f[23]),W=v(W,ee,se,ie,ce,5,f[24]),ie=v(ie,W,ee,se,_e,9,f[25]),se=v(se,ie,W,ee,R,14,f[26]),ee=v(ee,se,ie,W,Y,20,f[27]),W=v(W,ee,se,ie,oe,5,f[28]),ie=v(ie,W,ee,se,L,9,f[29]),se=v(se,ie,W,ee,H,14,f[30]),ee=v(ee,se,ie,W,j,20,f[31]),W=x(W,ee,se,ie,P,4,f[32]),ie=x(ie,W,ee,se,Y,11,f[33]),se=x(se,ie,W,ee,ne,16,f[34]),ee=x(ee,se,ie,W,_e,23,f[35]),W=x(W,ee,se,ie,k,4,f[36]),ie=x(ie,W,ee,se,q,11,f[37]),se=x(se,ie,W,ee,H,16,f[38]),ee=x(ee,se,ie,W,$,23,f[39]),W=x(W,ee,se,ie,oe,4,f[40]),ie=x(ie,W,ee,se,F,11,f[41]),se=x(se,ie,W,ee,R,16,f[42]),ee=x(ee,se,ie,W,O,23,f[43]),W=x(W,ee,se,ie,ce,4,f[44]),ie=x(ie,W,ee,se,j,11,f[45]),se=x(se,ie,W,ee,ue,16,f[46]),ee=x(ee,se,ie,W,L,23,f[47]),W=g(W,ee,se,ie,F,6,f[48]),ie=g(ie,W,ee,se,H,10,f[49]),se=g(se,ie,W,ee,_e,15,f[50]),ee=g(ee,se,ie,W,P,21,f[51]),W=g(W,ee,se,ie,j,6,f[52]),ie=g(ie,W,ee,se,R,10,f[53]),se=g(se,ie,W,ee,$,15,f[54]),ee=g(ee,se,ie,W,k,21,f[55]),W=g(W,ee,se,ie,Y,6,f[56]),ie=g(ie,W,ee,se,ue,10,f[57]),se=g(se,ie,W,ee,O,15,f[58]),ee=g(ee,se,ie,W,oe,21,f[59]),W=g(W,ee,se,ie,q,6,f[60]),ie=g(ie,W,ee,se,ne,10,f[61]),se=g(se,ie,W,ee,L,15,f[62]),ee=g(ee,se,ie,W,ce,21,f[63]),S[0]=S[0]+W|0,S[1]=S[1]+ee|0,S[2]=S[2]+se|0,S[3]=S[3]+ie|0},_doFinalize:function(){var E=this._data,m=E.words,B=this._nDataBytes*8,_=E.sigBytes*8;m[_>>>5]|=128<<24-_%32;var C=n.floor(B/4294967296),S=B;m[(_+64>>>9<<4)+15]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,m[(_+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,E.sigBytes=(m.length+1)*4,this._process();for(var F=this._hash,k=F.words,L=0;L<4;L++){var R=k[L];k[L]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return F},clone:function(){var E=u.clone.call(this);return E._hash=this._hash.clone(),E}});function p(E,m,B,_,C,S,F){var k=E+(m&B|~m&_)+C+F;return(k<<S|k>>>32-S)+m}function v(E,m,B,_,C,S,F){var k=E+(m&_|B&~_)+C+F;return(k<<S|k>>>32-S)+m}function x(E,m,B,_,C,S,F){var k=E+(m^B^_)+C+F;return(k<<S|k>>>32-S)+m}function g(E,m,B,_,C,S,F){var k=E+(B^(m|~_))+C+F;return(k<<S|k>>>32-S)+m}a.MD5=u._createHelper(h),a.HmacMD5=u._createHmacHelper(h)}(Math),r.MD5})}(Ol)),Ol.exports}var Ml={exports:{}},Mh;function hp(){return Mh||(Mh=1,function(e,t){(function(r,n){e.exports=n(At())})(et,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,l=a.Hasher,u=n.algo,c=[],f=u.SHA1=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(h,p){for(var v=this._hash.words,x=v[0],g=v[1],E=v[2],m=v[3],B=v[4],_=0;_<80;_++){if(_<16)c[_]=h[p+_]|0;else{var C=c[_-3]^c[_-8]^c[_-14]^c[_-16];c[_]=C<<1|C>>>31}var S=(x<<5|x>>>27)+B+c[_];_<20?S+=(g&E|~g&m)+1518500249:_<40?S+=(g^E^m)+1859775393:_<60?S+=(g&E|g&m|E&m)-1894007588:S+=(g^E^m)-899497514,B=m,m=E,E=g<<30|g>>>2,g=x,x=S}v[0]=v[0]+x|0,v[1]=v[1]+g|0,v[2]=v[2]+E|0,v[3]=v[3]+m|0,v[4]=v[4]+B|0},_doFinalize:function(){var h=this._data,p=h.words,v=this._nDataBytes*8,x=h.sigBytes*8;return p[x>>>5]|=128<<24-x%32,p[(x+64>>>9<<4)+14]=Math.floor(v/4294967296),p[(x+64>>>9<<4)+15]=v,h.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var h=l.clone.call(this);return h._hash=this._hash.clone(),h}});n.SHA1=l._createHelper(f),n.HmacSHA1=l._createHmacHelper(f)}(),r.SHA1})}(Ml)),Ml.exports}var Vl={exports:{}},Vh;function qu(){return Vh||(Vh=1,function(e,t){(function(r,n){e.exports=n(At())})(et,function(r){return function(n){var a=r,s=a.lib,l=s.WordArray,u=s.Hasher,c=a.algo,f=[],h=[];(function(){function x(B){for(var _=n.sqrt(B),C=2;C<=_;C++)if(!(B%C))return!1;return!0}function g(B){return(B-(B|0))*4294967296|0}for(var E=2,m=0;m<64;)x(E)&&(m<8&&(f[m]=g(n.pow(E,1/2))),h[m]=g(n.pow(E,1/3)),m++),E++})();var p=[],v=c.SHA256=u.extend({_doReset:function(){this._hash=new l.init(f.slice(0))},_doProcessBlock:function(x,g){for(var E=this._hash.words,m=E[0],B=E[1],_=E[2],C=E[3],S=E[4],F=E[5],k=E[6],L=E[7],R=0;R<64;R++){if(R<16)p[R]=x[g+R]|0;else{var q=p[R-15],P=(q<<25|q>>>7)^(q<<14|q>>>18)^q>>>3,O=p[R-2],H=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;p[R]=P+p[R-7]+H+p[R-16]}var Y=S&F^~S&k,ce=m&B^m&_^B&_,$=(m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22),ne=(S<<26|S>>>6)^(S<<21|S>>>11)^(S<<7|S>>>25),j=L+ne+Y+h[R]+p[R],oe=$+ce;L=k,k=F,F=S,S=C+j|0,C=_,_=B,B=m,m=j+oe|0}E[0]=E[0]+m|0,E[1]=E[1]+B|0,E[2]=E[2]+_|0,E[3]=E[3]+C|0,E[4]=E[4]+S|0,E[5]=E[5]+F|0,E[6]=E[6]+k|0,E[7]=E[7]+L|0},_doFinalize:function(){var x=this._data,g=x.words,E=this._nDataBytes*8,m=x.sigBytes*8;return g[m>>>5]|=128<<24-m%32,g[(m+64>>>9<<4)+14]=n.floor(E/4294967296),g[(m+64>>>9<<4)+15]=E,x.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var x=u.clone.call(this);return x._hash=this._hash.clone(),x}});a.SHA256=u._createHelper(v),a.HmacSHA256=u._createHmacHelper(v)}(Math),r.SHA256})}(Vl)),Vl.exports}var Kl={exports:{}},Kh;function kC(){return Kh||(Kh=1,function(e,t){(function(r,n,a){e.exports=n(At(),qu())})(et,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,l=n.algo,u=l.SHA256,c=l.SHA224=u.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=u._doFinalize.call(this);return f.sigBytes-=4,f}});n.SHA224=u._createHelper(c),n.HmacSHA224=u._createHmacHelper(c)}(),r.SHA224})}(Kl)),Kl.exports}var Hl={exports:{}},Hh;function dp(){return Hh||(Hh=1,function(e,t){(function(r,n,a){e.exports=n(At(),ro())})(et,function(r){return function(){var n=r,a=n.lib,s=a.Hasher,l=n.x64,u=l.Word,c=l.WordArray,f=n.algo;function h(){return u.create.apply(u,arguments)}var p=[h(1116352408,3609767458),h(1899447441,602891725),h(3049323471,3964484399),h(3921009573,2173295548),h(961987163,4081628472),h(1508970993,3053834265),h(2453635748,2937671579),h(2870763221,3664609560),h(3624381080,2734883394),h(310598401,1164996542),h(607225278,1323610764),h(1426881987,3590304994),h(1925078388,4068182383),h(2162078206,991336113),h(2614888103,633803317),h(3248222580,3479774868),h(3835390401,2666613458),h(4022224774,944711139),h(264347078,2341262773),h(604807628,2007800933),h(770255983,1495990901),h(1249150122,1856431235),h(1555081692,3175218132),h(1996064986,2198950837),h(2554220882,3999719339),h(2821834349,766784016),h(2952996808,2566594879),h(3210313671,3203337956),h(3336571891,1034457026),h(3584528711,2466948901),h(113926993,3758326383),h(338241895,168717936),h(666307205,1188179964),h(773529912,1546045734),h(1294757372,1522805485),h(1396182291,2643833823),h(1695183700,2343527390),h(1986661051,1014477480),h(2177026350,1206759142),h(2456956037,344077627),h(2730485921,1290863460),h(2820302411,3158454273),h(3259730800,3505952657),h(3345764771,106217008),h(3516065817,3606008344),h(3600352804,1432725776),h(4094571909,1467031594),h(275423344,851169720),h(430227734,3100823752),h(506948616,1363258195),h(659060556,3750685593),h(883997877,3785050280),h(958139571,3318307427),h(1322822218,3812723403),h(1537002063,2003034995),h(1747873779,3602036899),h(1955562222,1575990012),h(2024104815,1125592928),h(2227730452,2716904306),h(2361852424,442776044),h(2428436474,593698344),h(2756734187,3733110249),h(3204031479,2999351573),h(3329325298,3815920427),h(3391569614,3928383900),h(3515267271,566280711),h(3940187606,3454069534),h(4118630271,4000239992),h(116418474,1914138554),h(174292421,2731055270),h(289380356,3203993006),h(460393269,320620315),h(685471733,587496836),h(852142971,1086792851),h(1017036298,365543100),h(1126000580,2618297676),h(1288033470,3409855158),h(1501505948,4234509866),h(1607167915,987167468),h(1816402316,1246189591)],v=[];(function(){for(var g=0;g<80;g++)v[g]=h()})();var x=f.SHA512=s.extend({_doReset:function(){this._hash=new c.init([new u.init(1779033703,4089235720),new u.init(3144134277,2227873595),new u.init(1013904242,4271175723),new u.init(2773480762,1595750129),new u.init(1359893119,2917565137),new u.init(2600822924,725511199),new u.init(528734635,4215389547),new u.init(1541459225,327033209)])},_doProcessBlock:function(g,E){for(var m=this._hash.words,B=m[0],_=m[1],C=m[2],S=m[3],F=m[4],k=m[5],L=m[6],R=m[7],q=B.high,P=B.low,O=_.high,H=_.low,Y=C.high,ce=C.low,$=S.high,ne=S.low,j=F.high,oe=F.low,_e=k.high,ue=k.low,W=L.high,ee=L.low,se=R.high,ie=R.low,we=q,Se=P,Oe=O,me=H,Me=Y,st=ce,Ze=$,je=ne,$e=j,Ne=oe,Ge=_e,He=ue,Ve=W,Et=ee,Vt=se,jt=ie,ot=0;ot<80;ot++){var kt,pt,dr=v[ot];if(ot<16)pt=dr.high=g[E+ot*2]|0,kt=dr.low=g[E+ot*2+1]|0;else{var rr=v[ot-15],Rr=rr.high,ae=rr.low,de=(Rr>>>1|ae<<31)^(Rr>>>8|ae<<24)^Rr>>>7,ke=(ae>>>1|Rr<<31)^(ae>>>8|Rr<<24)^(ae>>>7|Rr<<25),Le=v[ot-2],It=Le.high,Kt=Le.low,mi=(It>>>19|Kt<<13)^(It<<3|Kt>>>29)^It>>>6,en=(Kt>>>19|It<<13)^(Kt<<3|It>>>29)^(Kt>>>6|It<<26),ei=v[ot-7],cn=ei.high,wn=ei.low,Wi=v[ot-16],_r=Wi.high,Dn=Wi.low;kt=ke+wn,pt=de+cn+(kt>>>0<ke>>>0?1:0),kt=kt+en,pt=pt+mi+(kt>>>0<en>>>0?1:0),kt=kt+Dn,pt=pt+_r+(kt>>>0<Dn>>>0?1:0),dr.high=pt,dr.low=kt}var Rn=$e&Ge^~$e&Ve,hn=Ne&He^~Ne&Et,ma=we&Oe^we&Me^Oe&Me,Qi=Se&me^Se&st^me&st,ti=(we>>>28|Se<<4)^(we<<30|Se>>>2)^(we<<25|Se>>>7),zr=(Se>>>28|we<<4)^(Se<<30|we>>>2)^(Se<<25|we>>>7),Yi=($e>>>14|Ne<<18)^($e>>>18|Ne<<14)^($e<<23|Ne>>>9),Nn=(Ne>>>14|$e<<18)^(Ne>>>18|$e<<14)^(Ne<<23|$e>>>9),Xi=p[ot],ri=Xi.high,qr=Xi.low,ar=jt+Nn,Ir=Vt+Yi+(ar>>>0<jt>>>0?1:0),ar=ar+hn,Ir=Ir+Rn+(ar>>>0<hn>>>0?1:0),ar=ar+qr,Ir=Ir+ri+(ar>>>0<qr>>>0?1:0),ar=ar+kt,Ir=Ir+pt+(ar>>>0<kt>>>0?1:0),ni=zr+Qi,Ca=ti+ma+(ni>>>0<zr>>>0?1:0);Vt=Ve,jt=Et,Ve=Ge,Et=He,Ge=$e,He=Ne,Ne=je+ar|0,$e=Ze+Ir+(Ne>>>0<je>>>0?1:0)|0,Ze=Me,je=st,Me=Oe,st=me,Oe=we,me=Se,Se=ar+ni|0,we=Ir+Ca+(Se>>>0<ar>>>0?1:0)|0}P=B.low=P+Se,B.high=q+we+(P>>>0<Se>>>0?1:0),H=_.low=H+me,_.high=O+Oe+(H>>>0<me>>>0?1:0),ce=C.low=ce+st,C.high=Y+Me+(ce>>>0<st>>>0?1:0),ne=S.low=ne+je,S.high=$+Ze+(ne>>>0<je>>>0?1:0),oe=F.low=oe+Ne,F.high=j+$e+(oe>>>0<Ne>>>0?1:0),ue=k.low=ue+He,k.high=_e+Ge+(ue>>>0<He>>>0?1:0),ee=L.low=ee+Et,L.high=W+Ve+(ee>>>0<Et>>>0?1:0),ie=R.low=ie+jt,R.high=se+Vt+(ie>>>0<jt>>>0?1:0)},_doFinalize:function(){var g=this._data,E=g.words,m=this._nDataBytes*8,B=g.sigBytes*8;E[B>>>5]|=128<<24-B%32,E[(B+128>>>10<<5)+30]=Math.floor(m/4294967296),E[(B+128>>>10<<5)+31]=m,g.sigBytes=E.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});n.SHA512=s._createHelper(x),n.HmacSHA512=s._createHmacHelper(x)}(),r.SHA512})}(Hl)),Hl.exports}var zl={exports:{}},zh;function FC(){return zh||(zh=1,function(e,t){(function(r,n,a){e.exports=n(At(),ro(),dp())})(et,function(r){return function(){var n=r,a=n.x64,s=a.Word,l=a.WordArray,u=n.algo,c=u.SHA512,f=u.SHA384=c.extend({_doReset:function(){this._hash=new l.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var h=c._doFinalize.call(this);return h.sigBytes-=16,h}});n.SHA384=c._createHelper(f),n.HmacSHA384=c._createHmacHelper(f)}(),r.SHA384})}(zl)),zl.exports}var ql={exports:{}},qh;function LC(){return qh||(qh=1,function(e,t){(function(r,n,a){e.exports=n(At(),ro())})(et,function(r){return function(n){var a=r,s=a.lib,l=s.WordArray,u=s.Hasher,c=a.x64,f=c.Word,h=a.algo,p=[],v=[],x=[];(function(){for(var m=1,B=0,_=0;_<24;_++){p[m+5*B]=(_+1)*(_+2)/2%64;var C=B%5,S=(2*m+3*B)%5;m=C,B=S}for(var m=0;m<5;m++)for(var B=0;B<5;B++)v[m+5*B]=B+(2*m+3*B)%5*5;for(var F=1,k=0;k<24;k++){for(var L=0,R=0,q=0;q<7;q++){if(F&1){var P=(1<<q)-1;P<32?R^=1<<P:L^=1<<P-32}F&128?F=F<<1^113:F<<=1}x[k]=f.create(L,R)}})();var g=[];(function(){for(var m=0;m<25;m++)g[m]=f.create()})();var E=h.SHA3=u.extend({cfg:u.cfg.extend({outputLength:512}),_doReset:function(){for(var m=this._state=[],B=0;B<25;B++)m[B]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(m,B){for(var _=this._state,C=this.blockSize/2,S=0;S<C;S++){var F=m[B+2*S],k=m[B+2*S+1];F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;var L=_[S];L.high^=k,L.low^=F}for(var R=0;R<24;R++){for(var q=0;q<5;q++){for(var P=0,O=0,H=0;H<5;H++){var L=_[q+5*H];P^=L.high,O^=L.low}var Y=g[q];Y.high=P,Y.low=O}for(var q=0;q<5;q++)for(var ce=g[(q+4)%5],$=g[(q+1)%5],ne=$.high,j=$.low,P=ce.high^(ne<<1|j>>>31),O=ce.low^(j<<1|ne>>>31),H=0;H<5;H++){var L=_[q+5*H];L.high^=P,L.low^=O}for(var oe=1;oe<25;oe++){var P,O,L=_[oe],_e=L.high,ue=L.low,W=p[oe];W<32?(P=_e<<W|ue>>>32-W,O=ue<<W|_e>>>32-W):(P=ue<<W-32|_e>>>64-W,O=_e<<W-32|ue>>>64-W);var ee=g[v[oe]];ee.high=P,ee.low=O}var se=g[0],ie=_[0];se.high=ie.high,se.low=ie.low;for(var q=0;q<5;q++)for(var H=0;H<5;H++){var oe=q+5*H,L=_[oe],we=g[oe],Se=g[(q+1)%5+5*H],Oe=g[(q+2)%5+5*H];L.high=we.high^~Se.high&Oe.high,L.low=we.low^~Se.low&Oe.low}var L=_[0],me=x[R];L.high^=me.high,L.low^=me.low}},_doFinalize:function(){var m=this._data,B=m.words;this._nDataBytes*8;var _=m.sigBytes*8,C=this.blockSize*32;B[_>>>5]|=1<<24-_%32,B[(n.ceil((_+1)/C)*C>>>5)-1]|=128,m.sigBytes=B.length*4,this._process();for(var S=this._state,F=this.cfg.outputLength/8,k=F/8,L=[],R=0;R<k;R++){var q=S[R],P=q.high,O=q.low;P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,L.push(O),L.push(P)}return new l.init(L,F)},clone:function(){for(var m=u.clone.call(this),B=m._state=this._state.slice(0),_=0;_<25;_++)B[_]=B[_].clone();return m}});a.SHA3=u._createHelper(E),a.HmacSHA3=u._createHmacHelper(E)}(Math),r.SHA3})}(ql)),ql.exports}var Gl={exports:{}},Gh;function PC(){return Gh||(Gh=1,function(e,t){(function(r,n){e.exports=n(At())})(et,function(r){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var a=r,s=a.lib,l=s.WordArray,u=s.Hasher,c=a.algo,f=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),p=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),v=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),x=l.create([0,1518500249,1859775393,2400959708,2840853838]),g=l.create([1352829926,1548603684,1836072691,2053994217,0]),E=c.RIPEMD160=u.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(k,L){for(var R=0;R<16;R++){var q=L+R,P=k[q];k[q]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}var O=this._hash.words,H=x.words,Y=g.words,ce=f.words,$=h.words,ne=p.words,j=v.words,oe,_e,ue,W,ee,se,ie,we,Se,Oe;se=oe=O[0],ie=_e=O[1],we=ue=O[2],Se=W=O[3],Oe=ee=O[4];for(var me,R=0;R<80;R+=1)me=oe+k[L+ce[R]]|0,R<16?me+=m(_e,ue,W)+H[0]:R<32?me+=B(_e,ue,W)+H[1]:R<48?me+=_(_e,ue,W)+H[2]:R<64?me+=C(_e,ue,W)+H[3]:me+=S(_e,ue,W)+H[4],me=me|0,me=F(me,ne[R]),me=me+ee|0,oe=ee,ee=W,W=F(ue,10),ue=_e,_e=me,me=se+k[L+$[R]]|0,R<16?me+=S(ie,we,Se)+Y[0]:R<32?me+=C(ie,we,Se)+Y[1]:R<48?me+=_(ie,we,Se)+Y[2]:R<64?me+=B(ie,we,Se)+Y[3]:me+=m(ie,we,Se)+Y[4],me=me|0,me=F(me,j[R]),me=me+Oe|0,se=Oe,Oe=Se,Se=F(we,10),we=ie,ie=me;me=O[1]+ue+Se|0,O[1]=O[2]+W+Oe|0,O[2]=O[3]+ee+se|0,O[3]=O[4]+oe+ie|0,O[4]=O[0]+_e+we|0,O[0]=me},_doFinalize:function(){var k=this._data,L=k.words,R=this._nDataBytes*8,q=k.sigBytes*8;L[q>>>5]|=128<<24-q%32,L[(q+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,k.sigBytes=(L.length+1)*4,this._process();for(var P=this._hash,O=P.words,H=0;H<5;H++){var Y=O[H];O[H]=(Y<<8|Y>>>24)&16711935|(Y<<24|Y>>>8)&4278255360}return P},clone:function(){var k=u.clone.call(this);return k._hash=this._hash.clone(),k}});function m(k,L,R){return k^L^R}function B(k,L,R){return k&L|~k&R}function _(k,L,R){return(k|~L)^R}function C(k,L,R){return k&R|L&~R}function S(k,L,R){return k^(L|~R)}function F(k,L){return k<<L|k>>>32-L}a.RIPEMD160=u._createHelper(E),a.HmacRIPEMD160=u._createHmacHelper(E)}(),r.RIPEMD160})}(Gl)),Gl.exports}var Wl={exports:{}},Wh;function Gu(){return Wh||(Wh=1,function(e,t){(function(r,n){e.exports=n(At())})(et,function(r){(function(){var n=r,a=n.lib,s=a.Base,l=n.enc,u=l.Utf8,c=n.algo;c.HMAC=s.extend({init:function(f,h){f=this._hasher=new f.init,typeof h=="string"&&(h=u.parse(h));var p=f.blockSize,v=p*4;h.sigBytes>v&&(h=f.finalize(h)),h.clamp();for(var x=this._oKey=h.clone(),g=this._iKey=h.clone(),E=x.words,m=g.words,B=0;B<p;B++)E[B]^=1549556828,m[B]^=909522486;x.sigBytes=g.sigBytes=v,this.reset()},reset:function(){var f=this._hasher;f.reset(),f.update(this._iKey)},update:function(f){return this._hasher.update(f),this},finalize:function(f){var h=this._hasher,p=h.finalize(f);h.reset();var v=h.finalize(this._oKey.clone().concat(p));return v}})})()})}(Wl)),Wl.exports}var Ql={exports:{}},Qh;function UC(){return Qh||(Qh=1,function(e,t){(function(r,n,a){e.exports=n(At(),qu(),Gu())})(et,function(r){return function(){var n=r,a=n.lib,s=a.Base,l=a.WordArray,u=n.algo,c=u.SHA256,f=u.HMAC,h=u.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(p){this.cfg=this.cfg.extend(p)},compute:function(p,v){for(var x=this.cfg,g=f.create(x.hasher,p),E=l.create(),m=l.create([1]),B=E.words,_=m.words,C=x.keySize,S=x.iterations;B.length<C;){var F=g.update(v).finalize(m);g.reset();for(var k=F.words,L=k.length,R=F,q=1;q<S;q++){R=g.finalize(R),g.reset();for(var P=R.words,O=0;O<L;O++)k[O]^=P[O]}E.concat(F),_[0]++}return E.sigBytes=C*4,E}});n.PBKDF2=function(p,v,x){return h.create(x).compute(p,v)}}(),r.PBKDF2})}(Ql)),Ql.exports}var Yl={exports:{}},Yh;function Gi(){return Yh||(Yh=1,function(e,t){(function(r,n,a){e.exports=n(At(),hp(),Gu())})(et,function(r){return function(){var n=r,a=n.lib,s=a.Base,l=a.WordArray,u=n.algo,c=u.MD5,f=u.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:c,iterations:1}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,p){for(var v,x=this.cfg,g=x.hasher.create(),E=l.create(),m=E.words,B=x.keySize,_=x.iterations;m.length<B;){v&&g.update(v),v=g.update(h).finalize(p),g.reset();for(var C=1;C<_;C++)v=g.finalize(v),g.reset();E.concat(v)}return E.sigBytes=B*4,E}});n.EvpKDF=function(h,p,v){return f.create(v).compute(h,p)}}(),r.EvpKDF})}(Yl)),Yl.exports}var Xl={exports:{}},Xh;function Er(){return Xh||(Xh=1,function(e,t){(function(r,n,a){e.exports=n(At(),Gi())})(et,function(r){r.lib.Cipher||function(n){var a=r,s=a.lib,l=s.Base,u=s.WordArray,c=s.BufferedBlockAlgorithm,f=a.enc;f.Utf8;var h=f.Base64,p=a.algo,v=p.EvpKDF,x=s.Cipher=c.extend({cfg:l.extend(),createEncryptor:function(P,O){return this.create(this._ENC_XFORM_MODE,P,O)},createDecryptor:function(P,O){return this.create(this._DEC_XFORM_MODE,P,O)},init:function(P,O,H){this.cfg=this.cfg.extend(H),this._xformMode=P,this._key=O,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(P){return this._append(P),this._process()},finalize:function(P){P&&this._append(P);var O=this._doFinalize();return O},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function P(O){return typeof O=="string"?q:k}return function(O){return{encrypt:function(H,Y,ce){return P(Y).encrypt(O,H,Y,ce)},decrypt:function(H,Y,ce){return P(Y).decrypt(O,H,Y,ce)}}}}()});s.StreamCipher=x.extend({_doFinalize:function(){var P=this._process(!0);return P},blockSize:1});var g=a.mode={},E=s.BlockCipherMode=l.extend({createEncryptor:function(P,O){return this.Encryptor.create(P,O)},createDecryptor:function(P,O){return this.Decryptor.create(P,O)},init:function(P,O){this._cipher=P,this._iv=O}}),m=g.CBC=function(){var P=E.extend();P.Encryptor=P.extend({processBlock:function(H,Y){var ce=this._cipher,$=ce.blockSize;O.call(this,H,Y,$),ce.encryptBlock(H,Y),this._prevBlock=H.slice(Y,Y+$)}}),P.Decryptor=P.extend({processBlock:function(H,Y){var ce=this._cipher,$=ce.blockSize,ne=H.slice(Y,Y+$);ce.decryptBlock(H,Y),O.call(this,H,Y,$),this._prevBlock=ne}});function O(H,Y,ce){var $,ne=this._iv;ne?($=ne,this._iv=n):$=this._prevBlock;for(var j=0;j<ce;j++)H[Y+j]^=$[j]}return P}(),B=a.pad={},_=B.Pkcs7={pad:function(P,O){for(var H=O*4,Y=H-P.sigBytes%H,ce=Y<<24|Y<<16|Y<<8|Y,$=[],ne=0;ne<Y;ne+=4)$.push(ce);var j=u.create($,Y);P.concat(j)},unpad:function(P){var O=P.words[P.sigBytes-1>>>2]&255;P.sigBytes-=O}};s.BlockCipher=x.extend({cfg:x.cfg.extend({mode:m,padding:_}),reset:function(){var P;x.reset.call(this);var O=this.cfg,H=O.iv,Y=O.mode;this._xformMode==this._ENC_XFORM_MODE?P=Y.createEncryptor:(P=Y.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==P?this._mode.init(this,H&&H.words):(this._mode=P.call(Y,this,H&&H.words),this._mode.__creator=P)},_doProcessBlock:function(P,O){this._mode.processBlock(P,O)},_doFinalize:function(){var P,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),P=this._process(!0)):(P=this._process(!0),O.unpad(P)),P},blockSize:128/32});var C=s.CipherParams=l.extend({init:function(P){this.mixIn(P)},toString:function(P){return(P||this.formatter).stringify(this)}}),S=a.format={},F=S.OpenSSL={stringify:function(P){var O,H=P.ciphertext,Y=P.salt;return Y?O=u.create([1398893684,1701076831]).concat(Y).concat(H):O=H,O.toString(h)},parse:function(P){var O,H=h.parse(P),Y=H.words;return Y[0]==1398893684&&Y[1]==1701076831&&(O=u.create(Y.slice(2,4)),Y.splice(0,4),H.sigBytes-=16),C.create({ciphertext:H,salt:O})}},k=s.SerializableCipher=l.extend({cfg:l.extend({format:F}),encrypt:function(P,O,H,Y){Y=this.cfg.extend(Y);var ce=P.createEncryptor(H,Y),$=ce.finalize(O),ne=ce.cfg;return C.create({ciphertext:$,key:H,iv:ne.iv,algorithm:P,mode:ne.mode,padding:ne.padding,blockSize:P.blockSize,formatter:Y.format})},decrypt:function(P,O,H,Y){Y=this.cfg.extend(Y),O=this._parse(O,Y.format);var ce=P.createDecryptor(H,Y).finalize(O.ciphertext);return ce},_parse:function(P,O){return typeof P=="string"?O.parse(P,this):P}}),L=a.kdf={},R=L.OpenSSL={execute:function(P,O,H,Y,ce){if(Y||(Y=u.random(64/8)),ce)var $=v.create({keySize:O+H,hasher:ce}).compute(P,Y);else var $=v.create({keySize:O+H}).compute(P,Y);var ne=u.create($.words.slice(O),H*4);return $.sigBytes=O*4,C.create({key:$,iv:ne,salt:Y})}},q=s.PasswordBasedCipher=k.extend({cfg:k.cfg.extend({kdf:R}),encrypt:function(P,O,H,Y){Y=this.cfg.extend(Y);var ce=Y.kdf.execute(H,P.keySize,P.ivSize,Y.salt,Y.hasher);Y.iv=ce.iv;var $=k.encrypt.call(this,P,O,ce.key,Y);return $.mixIn(ce),$},decrypt:function(P,O,H,Y){Y=this.cfg.extend(Y),O=this._parse(O,Y.format);var ce=Y.kdf.execute(H,P.keySize,P.ivSize,O.salt,Y.hasher);Y.iv=ce.iv;var $=k.decrypt.call(this,P,O,ce.key,Y);return $}})}()})}(Xl)),Xl.exports}var Zl={exports:{}},Zh;function OC(){return Zh||(Zh=1,function(e,t){(function(r,n,a){e.exports=n(At(),Er())})(et,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(s,l){var u=this._cipher,c=u.blockSize;a.call(this,s,l,c,u),this._prevBlock=s.slice(l,l+c)}}),n.Decryptor=n.extend({processBlock:function(s,l){var u=this._cipher,c=u.blockSize,f=s.slice(l,l+c);a.call(this,s,l,c,u),this._prevBlock=f}});function a(s,l,u,c){var f,h=this._iv;h?(f=h.slice(0),this._iv=void 0):f=this._prevBlock,c.encryptBlock(f,0);for(var p=0;p<u;p++)s[l+p]^=f[p]}return n}(),r.mode.CFB})}(Zl)),Zl.exports}var jl={exports:{}},jh;function MC(){return jh||(jh=1,function(e,t){(function(r,n,a){e.exports=n(At(),Er())})(et,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(s,l){var u=this._cipher,c=u.blockSize,f=this._iv,h=this._counter;f&&(h=this._counter=f.slice(0),this._iv=void 0);var p=h.slice(0);u.encryptBlock(p,0),h[c-1]=h[c-1]+1|0;for(var v=0;v<c;v++)s[l+v]^=p[v]}});return n.Decryptor=a,n}(),r.mode.CTR})}(jl)),jl.exports}var Jl={exports:{}},Jh;function VC(){return Jh||(Jh=1,function(e,t){(function(r,n,a){e.exports=n(At(),Er())})(et,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function a(u){if((u>>24&255)===255){var c=u>>16&255,f=u>>8&255,h=u&255;c===255?(c=0,f===255?(f=0,h===255?h=0:++h):++f):++c,u=0,u+=c<<16,u+=f<<8,u+=h}else u+=1<<24;return u}function s(u){return(u[0]=a(u[0]))===0&&(u[1]=a(u[1])),u}var l=n.Encryptor=n.extend({processBlock:function(u,c){var f=this._cipher,h=f.blockSize,p=this._iv,v=this._counter;p&&(v=this._counter=p.slice(0),this._iv=void 0),s(v);var x=v.slice(0);f.encryptBlock(x,0);for(var g=0;g<h;g++)u[c+g]^=x[g]}});return n.Decryptor=l,n}(),r.mode.CTRGladman})}(Jl)),Jl.exports}var $l={exports:{}},$h;function KC(){return $h||($h=1,function(e,t){(function(r,n,a){e.exports=n(At(),Er())})(et,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(s,l){var u=this._cipher,c=u.blockSize,f=this._iv,h=this._keystream;f&&(h=this._keystream=f.slice(0),this._iv=void 0),u.encryptBlock(h,0);for(var p=0;p<c;p++)s[l+p]^=h[p]}});return n.Decryptor=a,n}(),r.mode.OFB})}($l)),$l.exports}var eu={exports:{}},ed;function HC(){return ed||(ed=1,function(e,t){(function(r,n,a){e.exports=n(At(),Er())})(et,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(a,s){this._cipher.encryptBlock(a,s)}}),n.Decryptor=n.extend({processBlock:function(a,s){this._cipher.decryptBlock(a,s)}}),n}(),r.mode.ECB})}(eu)),eu.exports}var tu={exports:{}},td;function zC(){return td||(td=1,function(e,t){(function(r,n,a){e.exports=n(At(),Er())})(et,function(r){return r.pad.AnsiX923={pad:function(n,a){var s=n.sigBytes,l=a*4,u=l-s%l,c=s+u-1;n.clamp(),n.words[c>>>2]|=u<<24-c%4*8,n.sigBytes+=u},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Ansix923})}(tu)),tu.exports}var ru={exports:{}},rd;function qC(){return rd||(rd=1,function(e,t){(function(r,n,a){e.exports=n(At(),Er())})(et,function(r){return r.pad.Iso10126={pad:function(n,a){var s=a*4,l=s-n.sigBytes%s;n.concat(r.lib.WordArray.random(l-1)).concat(r.lib.WordArray.create([l<<24],1))},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Iso10126})}(ru)),ru.exports}var nu={exports:{}},nd;function GC(){return nd||(nd=1,function(e,t){(function(r,n,a){e.exports=n(At(),Er())})(et,function(r){return r.pad.Iso97971={pad:function(n,a){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,a)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(nu)),nu.exports}var iu={exports:{}},id;function WC(){return id||(id=1,function(e,t){(function(r,n,a){e.exports=n(At(),Er())})(et,function(r){return r.pad.ZeroPadding={pad:function(n,a){var s=a*4;n.clamp(),n.sigBytes+=s-(n.sigBytes%s||s)},unpad:function(n){for(var a=n.words,s=n.sigBytes-1,s=n.sigBytes-1;s>=0;s--)if(a[s>>>2]>>>24-s%4*8&255){n.sigBytes=s+1;break}}},r.pad.ZeroPadding})}(iu)),iu.exports}var au={exports:{}},ad;function QC(){return ad||(ad=1,function(e,t){(function(r,n,a){e.exports=n(At(),Er())})(et,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(au)),au.exports}var su={exports:{}},sd;function YC(){return sd||(sd=1,function(e,t){(function(r,n,a){e.exports=n(At(),Er())})(et,function(r){return function(n){var a=r,s=a.lib,l=s.CipherParams,u=a.enc,c=u.Hex,f=a.format;f.Hex={stringify:function(h){return h.ciphertext.toString(c)},parse:function(h){var p=c.parse(h);return l.create({ciphertext:p})}}}(),r.format.Hex})}(su)),su.exports}var ou={exports:{}},od;function XC(){return od||(od=1,function(e,t){(function(r,n,a){e.exports=n(At(),va(),xa(),Gi(),Er())})(et,function(r){return function(){var n=r,a=n.lib,s=a.BlockCipher,l=n.algo,u=[],c=[],f=[],h=[],p=[],v=[],x=[],g=[],E=[],m=[];(function(){for(var C=[],S=0;S<256;S++)S<128?C[S]=S<<1:C[S]=S<<1^283;for(var F=0,k=0,S=0;S<256;S++){var L=k^k<<1^k<<2^k<<3^k<<4;L=L>>>8^L&255^99,u[F]=L,c[L]=F;var R=C[F],q=C[R],P=C[q],O=C[L]*257^L*16843008;f[F]=O<<24|O>>>8,h[F]=O<<16|O>>>16,p[F]=O<<8|O>>>24,v[F]=O;var O=P*16843009^q*65537^R*257^F*16843008;x[L]=O<<24|O>>>8,g[L]=O<<16|O>>>16,E[L]=O<<8|O>>>24,m[L]=O,F?(F=R^C[C[C[P^R]]],k^=C[C[k]]):F=k=1}})();var B=[0,1,2,4,8,16,32,64,128,27,54],_=l.AES=s.extend({_doReset:function(){var C;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var S=this._keyPriorReset=this._key,F=S.words,k=S.sigBytes/4,L=this._nRounds=k+6,R=(L+1)*4,q=this._keySchedule=[],P=0;P<R;P++)P<k?q[P]=F[P]:(C=q[P-1],P%k?k>6&&P%k==4&&(C=u[C>>>24]<<24|u[C>>>16&255]<<16|u[C>>>8&255]<<8|u[C&255]):(C=C<<8|C>>>24,C=u[C>>>24]<<24|u[C>>>16&255]<<16|u[C>>>8&255]<<8|u[C&255],C^=B[P/k|0]<<24),q[P]=q[P-k]^C);for(var O=this._invKeySchedule=[],H=0;H<R;H++){var P=R-H;if(H%4)var C=q[P];else var C=q[P-4];H<4||P<=4?O[H]=C:O[H]=x[u[C>>>24]]^g[u[C>>>16&255]]^E[u[C>>>8&255]]^m[u[C&255]]}}},encryptBlock:function(C,S){this._doCryptBlock(C,S,this._keySchedule,f,h,p,v,u)},decryptBlock:function(C,S){var F=C[S+1];C[S+1]=C[S+3],C[S+3]=F,this._doCryptBlock(C,S,this._invKeySchedule,x,g,E,m,c);var F=C[S+1];C[S+1]=C[S+3],C[S+3]=F},_doCryptBlock:function(C,S,F,k,L,R,q,P){for(var O=this._nRounds,H=C[S]^F[0],Y=C[S+1]^F[1],ce=C[S+2]^F[2],$=C[S+3]^F[3],ne=4,j=1;j<O;j++){var oe=k[H>>>24]^L[Y>>>16&255]^R[ce>>>8&255]^q[$&255]^F[ne++],_e=k[Y>>>24]^L[ce>>>16&255]^R[$>>>8&255]^q[H&255]^F[ne++],ue=k[ce>>>24]^L[$>>>16&255]^R[H>>>8&255]^q[Y&255]^F[ne++],W=k[$>>>24]^L[H>>>16&255]^R[Y>>>8&255]^q[ce&255]^F[ne++];H=oe,Y=_e,ce=ue,$=W}var oe=(P[H>>>24]<<24|P[Y>>>16&255]<<16|P[ce>>>8&255]<<8|P[$&255])^F[ne++],_e=(P[Y>>>24]<<24|P[ce>>>16&255]<<16|P[$>>>8&255]<<8|P[H&255])^F[ne++],ue=(P[ce>>>24]<<24|P[$>>>16&255]<<16|P[H>>>8&255]<<8|P[Y&255])^F[ne++],W=(P[$>>>24]<<24|P[H>>>16&255]<<16|P[Y>>>8&255]<<8|P[ce&255])^F[ne++];C[S]=oe,C[S+1]=_e,C[S+2]=ue,C[S+3]=W},keySize:256/32});n.AES=s._createHelper(_)}(),r.AES})}(ou)),ou.exports}var lu={exports:{}},ld;function ZC(){return ld||(ld=1,function(e,t){(function(r,n,a){e.exports=n(At(),va(),xa(),Gi(),Er())})(et,function(r){return function(){var n=r,a=n.lib,s=a.WordArray,l=a.BlockCipher,u=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],h=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],p=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],v=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],x=u.DES=l.extend({_doReset:function(){for(var B=this._key,_=B.words,C=[],S=0;S<56;S++){var F=c[S]-1;C[S]=_[F>>>5]>>>31-F%32&1}for(var k=this._subKeys=[],L=0;L<16;L++){for(var R=k[L]=[],q=h[L],S=0;S<24;S++)R[S/6|0]|=C[(f[S]-1+q)%28]<<31-S%6,R[4+(S/6|0)]|=C[28+(f[S+24]-1+q)%28]<<31-S%6;R[0]=R[0]<<1|R[0]>>>31;for(var S=1;S<7;S++)R[S]=R[S]>>>(S-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var P=this._invSubKeys=[],S=0;S<16;S++)P[S]=k[15-S]},encryptBlock:function(B,_){this._doCryptBlock(B,_,this._subKeys)},decryptBlock:function(B,_){this._doCryptBlock(B,_,this._invSubKeys)},_doCryptBlock:function(B,_,C){this._lBlock=B[_],this._rBlock=B[_+1],g.call(this,4,252645135),g.call(this,16,65535),E.call(this,2,858993459),E.call(this,8,16711935),g.call(this,1,1431655765);for(var S=0;S<16;S++){for(var F=C[S],k=this._lBlock,L=this._rBlock,R=0,q=0;q<8;q++)R|=p[q][((L^F[q])&v[q])>>>0];this._lBlock=L,this._rBlock=k^R}var P=this._lBlock;this._lBlock=this._rBlock,this._rBlock=P,g.call(this,1,1431655765),E.call(this,8,16711935),E.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),B[_]=this._lBlock,B[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(B,_){var C=(this._lBlock>>>B^this._rBlock)&_;this._rBlock^=C,this._lBlock^=C<<B}function E(B,_){var C=(this._rBlock>>>B^this._lBlock)&_;this._lBlock^=C,this._rBlock^=C<<B}n.DES=l._createHelper(x);var m=u.TripleDES=l.extend({_doReset:function(){var B=this._key,_=B.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var C=_.slice(0,2),S=_.length<4?_.slice(0,2):_.slice(2,4),F=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=x.createEncryptor(s.create(C)),this._des2=x.createEncryptor(s.create(S)),this._des3=x.createEncryptor(s.create(F))},encryptBlock:function(B,_){this._des1.encryptBlock(B,_),this._des2.decryptBlock(B,_),this._des3.encryptBlock(B,_)},decryptBlock:function(B,_){this._des3.decryptBlock(B,_),this._des2.encryptBlock(B,_),this._des1.decryptBlock(B,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=l._createHelper(m)}(),r.TripleDES})}(lu)),lu.exports}var uu={exports:{}},ud;function jC(){return ud||(ud=1,function(e,t){(function(r,n,a){e.exports=n(At(),va(),xa(),Gi(),Er())})(et,function(r){return function(){var n=r,a=n.lib,s=a.StreamCipher,l=n.algo,u=l.RC4=s.extend({_doReset:function(){for(var h=this._key,p=h.words,v=h.sigBytes,x=this._S=[],g=0;g<256;g++)x[g]=g;for(var g=0,E=0;g<256;g++){var m=g%v,B=p[m>>>2]>>>24-m%4*8&255;E=(E+x[g]+B)%256;var _=x[g];x[g]=x[E],x[E]=_}this._i=this._j=0},_doProcessBlock:function(h,p){h[p]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var h=this._S,p=this._i,v=this._j,x=0,g=0;g<4;g++){p=(p+1)%256,v=(v+h[p])%256;var E=h[p];h[p]=h[v],h[v]=E,x|=h[(h[p]+h[v])%256]<<24-g*8}return this._i=p,this._j=v,x}n.RC4=s._createHelper(u);var f=l.RC4Drop=u.extend({cfg:u.cfg.extend({drop:192}),_doReset:function(){u._doReset.call(this);for(var h=this.cfg.drop;h>0;h--)c.call(this)}});n.RC4Drop=s._createHelper(f)}(),r.RC4})}(uu)),uu.exports}var fu={exports:{}},fd;function JC(){return fd||(fd=1,function(e,t){(function(r,n,a){e.exports=n(At(),va(),xa(),Gi(),Er())})(et,function(r){return function(){var n=r,a=n.lib,s=a.StreamCipher,l=n.algo,u=[],c=[],f=[],h=l.Rabbit=s.extend({_doReset:function(){for(var v=this._key.words,x=this.cfg.iv,g=0;g<4;g++)v[g]=(v[g]<<8|v[g]>>>24)&16711935|(v[g]<<24|v[g]>>>8)&4278255360;var E=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],m=this._C=[v[2]<<16|v[2]>>>16,v[0]&4294901760|v[1]&65535,v[3]<<16|v[3]>>>16,v[1]&4294901760|v[2]&65535,v[0]<<16|v[0]>>>16,v[2]&4294901760|v[3]&65535,v[1]<<16|v[1]>>>16,v[3]&4294901760|v[0]&65535];this._b=0;for(var g=0;g<4;g++)p.call(this);for(var g=0;g<8;g++)m[g]^=E[g+4&7];if(x){var B=x.words,_=B[0],C=B[1],S=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,F=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,k=S>>>16|F&4294901760,L=F<<16|S&65535;m[0]^=S,m[1]^=k,m[2]^=F,m[3]^=L,m[4]^=S,m[5]^=k,m[6]^=F,m[7]^=L;for(var g=0;g<4;g++)p.call(this)}},_doProcessBlock:function(v,x){var g=this._X;p.call(this),u[0]=g[0]^g[5]>>>16^g[3]<<16,u[1]=g[2]^g[7]>>>16^g[5]<<16,u[2]=g[4]^g[1]>>>16^g[7]<<16,u[3]=g[6]^g[3]>>>16^g[1]<<16;for(var E=0;E<4;E++)u[E]=(u[E]<<8|u[E]>>>24)&16711935|(u[E]<<24|u[E]>>>8)&4278255360,v[x+E]^=u[E]},blockSize:128/32,ivSize:64/32});function p(){for(var v=this._X,x=this._C,g=0;g<8;g++)c[g]=x[g];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<c[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<c[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<c[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<c[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<c[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<c[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<c[6]>>>0?1:0)|0,this._b=x[7]>>>0<c[7]>>>0?1:0;for(var g=0;g<8;g++){var E=v[g]+x[g],m=E&65535,B=E>>>16,_=((m*m>>>17)+m*B>>>15)+B*B,C=((E&4294901760)*E|0)+((E&65535)*E|0);f[g]=_^C}v[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,v[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,v[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,v[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,v[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,v[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,v[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,v[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}n.Rabbit=s._createHelper(h)}(),r.Rabbit})}(fu)),fu.exports}var cu={exports:{}},cd;function $C(){return cd||(cd=1,function(e,t){(function(r,n,a){e.exports=n(At(),va(),xa(),Gi(),Er())})(et,function(r){return function(){var n=r,a=n.lib,s=a.StreamCipher,l=n.algo,u=[],c=[],f=[],h=l.RabbitLegacy=s.extend({_doReset:function(){var v=this._key.words,x=this.cfg.iv,g=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],E=this._C=[v[2]<<16|v[2]>>>16,v[0]&4294901760|v[1]&65535,v[3]<<16|v[3]>>>16,v[1]&4294901760|v[2]&65535,v[0]<<16|v[0]>>>16,v[2]&4294901760|v[3]&65535,v[1]<<16|v[1]>>>16,v[3]&4294901760|v[0]&65535];this._b=0;for(var m=0;m<4;m++)p.call(this);for(var m=0;m<8;m++)E[m]^=g[m+4&7];if(x){var B=x.words,_=B[0],C=B[1],S=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,F=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,k=S>>>16|F&4294901760,L=F<<16|S&65535;E[0]^=S,E[1]^=k,E[2]^=F,E[3]^=L,E[4]^=S,E[5]^=k,E[6]^=F,E[7]^=L;for(var m=0;m<4;m++)p.call(this)}},_doProcessBlock:function(v,x){var g=this._X;p.call(this),u[0]=g[0]^g[5]>>>16^g[3]<<16,u[1]=g[2]^g[7]>>>16^g[5]<<16,u[2]=g[4]^g[1]>>>16^g[7]<<16,u[3]=g[6]^g[3]>>>16^g[1]<<16;for(var E=0;E<4;E++)u[E]=(u[E]<<8|u[E]>>>24)&16711935|(u[E]<<24|u[E]>>>8)&4278255360,v[x+E]^=u[E]},blockSize:128/32,ivSize:64/32});function p(){for(var v=this._X,x=this._C,g=0;g<8;g++)c[g]=x[g];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<c[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<c[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<c[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<c[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<c[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<c[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<c[6]>>>0?1:0)|0,this._b=x[7]>>>0<c[7]>>>0?1:0;for(var g=0;g<8;g++){var E=v[g]+x[g],m=E&65535,B=E>>>16,_=((m*m>>>17)+m*B>>>15)+B*B,C=((E&4294901760)*E|0)+((E&65535)*E|0);f[g]=_^C}v[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,v[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,v[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,v[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,v[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,v[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,v[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,v[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}n.RabbitLegacy=s._createHelper(h)}(),r.RabbitLegacy})}(cu)),cu.exports}var hu={exports:{}},hd;function eE(){return hd||(hd=1,function(e,t){(function(r,n,a){e.exports=n(At(),va(),xa(),Gi(),Er())})(et,function(r){return function(){var n=r,a=n.lib,s=a.BlockCipher,l=n.algo;const u=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],f=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var h={pbox:[],sbox:[]};function p(m,B){let _=B>>24&255,C=B>>16&255,S=B>>8&255,F=B&255,k=m.sbox[0][_]+m.sbox[1][C];return k=k^m.sbox[2][S],k=k+m.sbox[3][F],k}function v(m,B,_){let C=B,S=_,F;for(let k=0;k<u;++k)C=C^m.pbox[k],S=p(m,C)^S,F=C,C=S,S=F;return F=C,C=S,S=F,S=S^m.pbox[u],C=C^m.pbox[u+1],{left:C,right:S}}function x(m,B,_){let C=B,S=_,F;for(let k=u+1;k>1;--k)C=C^m.pbox[k],S=p(m,C)^S,F=C,C=S,S=F;return F=C,C=S,S=F,S=S^m.pbox[1],C=C^m.pbox[0],{left:C,right:S}}function g(m,B,_){for(let L=0;L<4;L++){m.sbox[L]=[];for(let R=0;R<256;R++)m.sbox[L][R]=f[L][R]}let C=0;for(let L=0;L<u+2;L++)m.pbox[L]=c[L]^B[C],C++,C>=_&&(C=0);let S=0,F=0,k=0;for(let L=0;L<u+2;L+=2)k=v(m,S,F),S=k.left,F=k.right,m.pbox[L]=S,m.pbox[L+1]=F;for(let L=0;L<4;L++)for(let R=0;R<256;R+=2)k=v(m,S,F),S=k.left,F=k.right,m.sbox[L][R]=S,m.sbox[L][R+1]=F;return!0}var E=l.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var m=this._keyPriorReset=this._key,B=m.words,_=m.sigBytes/4;g(h,B,_)}},encryptBlock:function(m,B){var _=v(h,m[B],m[B+1]);m[B]=_.left,m[B+1]=_.right},decryptBlock:function(m,B){var _=x(h,m[B],m[B+1]);m[B]=_.left,m[B+1]=_.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=s._createHelper(E)}(),r.Blowfish})}(hu)),hu.exports}(function(e,t){(function(r,n,a){e.exports=n(At(),ro(),DC(),RC(),va(),NC(),xa(),hp(),qu(),kC(),dp(),FC(),LC(),PC(),Gu(),UC(),Gi(),Er(),OC(),MC(),VC(),KC(),HC(),zC(),qC(),GC(),WC(),QC(),YC(),XC(),ZC(),jC(),JC(),$C(),eE())})(et,function(r){return r})})(cp);var tE=cp.exports;const pp=zu(tE);class D0{constructor(){}static async isEmptyKey(){return(await(await fetch("/api/emptyKey",{method:"GET",credentials:"same-origin"})).json()).emptyKey}static async validateSession(){return(await(await fetch("/api/validateSession",{method:"GET",credentials:"same-origin"})).json()).valid}static async login(t){let r=await D0.hashPassword(t);return(await(await fetch("/api/login",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:r})})).json()).success}static async hashPassword(t){t=t.trim()+"@";let r="";for(let n=0;n<t.length;n++)r+=Math.round(t.charCodeAt(n)/2).toString(16);return pp.SHA512(t+r).toString()}}class Pt extends Error{constructor(){super("Invalid session"),this.name="InvalidSession"}}const ki=class ki{constructor(){vr(this,"_sysInfoCache",null);vr(this,"_clientSysInfoCache",new Map)}static get instance(){return ki._instance||(ki._instance=new ki),ki._instance}async getSysUsage(){let t=await fetch("/api/sysUsage",{method:"GET",credentials:"same-origin"}),r=await t.json();if(!r||t.status==401)throw new Pt;return this._sysInfoCache=r.system,r}static async getVersion(){return this._versionInfo?this._versionInfo:await(await fetch("/api/version",{method:"GET",credentials:"same-origin"})).json()}async getSysInfo(){if(this._sysInfoCache)return this._sysInfoCache;let t=await fetch("/api/sysInfo",{method:"GET",credentials:"same-origin"}),r=await t.json();if(!r||t.status==401)throw new Pt;return this._sysInfoCache=r.system,r}async getClientSysInfo(t){let r=this._clientSysInfoCache.get(t);if(r)return r;let n=await fetch(`/api/clientSysInfo/${t}`,{method:"GET",credentials:"same-origin"}),a=await n.json();if(!a||n.status==401)throw new Pt;if(!a.success)throw new Error(a.message);return r=a,this._clientSysInfoCache.set(t,r),a}async getClientStatus(){let t=await fetch("/api/clientStatus",{method:"GET",credentials:"same-origin"}),r=await t.json();if(!r||t.status==401)throw new Pt;return this._sysInfoCache=r.system,r}};vr(ki,"_instance"),vr(ki,"_versionInfo",null);let vi=ki;const ua=class ua{constructor(){vr(this,"_severOptionHash","");vr(this,"_serverOption",{key:"",adminPort:0,adminTls:!1,port:0,tls:!1,globalMemCacheLimit:128,keepAlive:0});vr(this,"_tunnelingOptions",[])}static get instance(){return ua._instance||(ua._instance=new ua),ua._instance}getCachedServerOption(){return this._serverOption}async getServerOption(){let t=await fetch("/api/serverOption",{method:"GET",credentials:"same-origin"}),r=await t.json();if(!r||t.status==401)throw new Pt;return this._serverOption=r.serverOption,this._serverOption}async getTunnelingOption(){let t=await fetch("/api/tunnelingOption",{method:"GET",credentials:"same-origin"}),r=await t.json();if(!r||t.status==401)throw new Pt;return this._tunnelingOptions=r.tunnelingOptions,this._tunnelingOptions}async checkChangeServerOption(t,r){let n=this._severOptionHash;const a=12e4;let s=new Date().getTime();return new Promise(async(l,u)=>{let c=setInterval(async()=>{let f="";try{f=await this.getServerOptionHash(r.adminTls?"https":"http",r.adminPort)}catch(h){s+a<new Date().getTime()&&(clearInterval(c),u(h));try{f=await this.getServerOptionHash(t.adminTls?"https":"http",t.adminPort)}catch{f="",s+a<new Date().getTime()&&(clearInterval(c),u(h))}}f.length>0&&(clearInterval(c),l(f!=n))},1e3)})}async getServerOptionHash(t,r){let n=window.location.hostname,a=window.location.port;t||(t=window.location.protocol.replace(":","")),r&&(a=r.toString());let s=await fetch(`${t}://${n}:${a}/api/serverOptionHash`,{method:"GET",headers:{Connection:"close"}}),l=await s.json();if(!l||s.status==401)throw new Pt;let u=l.hash;if(!u)throw new Error("hash not found");return this._severOptionHash=u,u}async updateServerOption(t){let r=await fetch("/api/serverOption",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!n||r.status==401)throw new Pt;return n}async updateTunnelingOption(t){let r=await fetch("/api/tunnelingOption",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!n||r.status==401)throw new Pt;return n}async removeTunnelingOption(t){let r=await fetch("/api/tunnelingOption",{method:"DELETE",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!n||r.status==401)throw new Pt;return n}async loadTunnelingStatus(){let t=await fetch("/api/externalServerStatuses",{method:"GET",credentials:"same-origin"}),r=await t.json();if(!r||t.status==401)throw new Pt;return{serverTime:r.serverTime,statuses:r.statuses}}async activeExternalPortServer(t,r,n){n=n??0;let a=await fetch(`/api/tunneling/active/${r}`,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:t,timeout:n})}),s=await a.json();if(!s||a.status==401)throw new Pt;return s}static checkValidTunnelingOption(t){return!(t.tls==null||t.forwardPort==null||t.forwardPort<=0||t.forwardPort>65535||t.protocol==null||t.protocol!="tcp"&&t.protocol!="http"&&t.protocol!="https"||t.destinationAddress==null||t.destinationAddress.trim().length==0||t.destinationPort==null||t.destinationPort<=0||t.destinationPort>65535||t.protocol!="http"&&t.protocol!="https"&&t.protocol!="tcp"||(t.protocol=="http"||t.protocol=="https")&&(t.httpOption==null||t.httpOption.rewriteHostInTextBody==null||t.httpOption.customRequestHeaders==null||t.httpOption.customResponseHeaders==null||t.httpOption.bodyRewriteRules==null||t.httpOption.replaceAccessControlAllowOrigin==null))}};vr(ua,"_instance");let Mr=ua;const fa=class fa{constructor(){}static get instance(){return fa._instance||(fa._instance=new fa),fa._instance}async updateAdminCert(t){let r=await fetch("/api/adminCert",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({certInfo:t})});if(r.status==401)throw new Pt;return await r.json()}async loadAdminCert(){let t=await fetch("/api/adminCert",{method:"GET",credentials:"same-origin"}),r=await t.json();if(t.status==401)throw new Pt;return r.certInfo}async loadExternalServerCert(t){let r=await fetch(`/api/externalCert/${t}`,{method:"GET",credentials:"same-origin"}),n=await r.json();if(r.status==401)throw new Pt;return n.certInfo}async updateExternalServerCert(t,r){let n=await fetch(`/api/externalCert/${t}`,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({certInfo:r})});if(n.status==401)throw new Pt;return await n.json()}async deleteExternalServerCert(t){let r=await fetch(`/api/externalCert/${t}`,{method:"DELETE",credentials:"same-origin"});if(r.status==401)throw new Pt;return await r.json()}};vr(fa,"_instance");let Fi=fa;var dt={options:{usePureJavaScript:!1}},Wu={},rE=Wu,dd={};Wu.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=nE(e,t);else{var a=0,s=t.length,l=t.charAt(0),u=[0];for(a=0;a<e.length;++a){for(var c=0,f=e[a];c<u.length;++c)f+=u[c]<<8,u[c]=f%s,f=f/s|0;for(;f>0;)u.push(f%s),f=f/s|0}for(a=0;e[a]===0&&a<e.length-1;++a)n+=l;for(a=u.length-1;a>=0;--a)n+=t[u[a]]}if(r){var h=new RegExp(".{1,"+r+"}","g");n=n.match(h).join(`\r
`)}return n};Wu.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=dd[t];if(!r){r=dd[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var a=t.length,s=t.charAt(0),l=[0],n=0;n<e.length;n++){var u=r[e.charCodeAt(n)];if(u===void 0)return;for(var c=0,f=u;c<l.length;++c)f+=l[c]*a,l[c]=f&255,f>>=8;for(;f>0;)l.push(f&255),f>>=8}for(var h=0;e[h]===s&&h<e.length-1;++h)l.push(0);return typeof Buffer<"u"?Buffer.from(l.reverse()):new Uint8Array(l.reverse())};function nE(e,t){var r=0,n=t.length,a=t.charAt(0),s=[0];for(r=0;r<e.length();++r){for(var l=0,u=e.at(r);l<s.length;++l)u+=s[l]<<8,s[l]=u%n,u=u/n|0;for(;u>0;)s.push(u%n),u=u/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=a;for(r=s.length-1;r>=0;--r)c+=t[s[r]];return c}var pd=dt,vd=rE,X=pd.util=pd.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){X.nextTick=process.nextTick,typeof setImmediate=="function"?X.setImmediate=setImmediate:X.setImmediate=X.nextTick;return}if(typeof setImmediate=="function"){X.setImmediate=function(){return setImmediate.apply(void 0,arguments)},X.nextTick=function(u){return setImmediate(u)};return}if(X.setImmediate=function(u){setTimeout(u,0)},typeof window<"u"&&typeof window.postMessage=="function"){let u=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var f=t.slice();t.length=0,f.forEach(function(h){h()})}};var l=u,e="forge.setImmediate",t=[];X.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",u,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,a=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(f){f()})}).observe(a,{attributes:!0});var s=X.setImmediate;X.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),s(c)):(t.push(c),t.length===1&&a.setAttribute("a",n=!n))}}X.nextTick=X.setImmediate})();X.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;X.globalScope=function(){return X.isNodejs?et:typeof self>"u"?window:self}();X.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};X.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};X.isArrayBufferView=function(e){return e&&X.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function L0(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}X.ByteBuffer=Qu;function Qu(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(X.isArrayBuffer(e)||X.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof Qu||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}X.ByteStringBuffer=Qu;var iE=4096;X.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>iE&&(this.data.substr(0,1),this._constructedStringLength=0)};X.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};X.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};X.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};X.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};X.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};X.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(X.encodeUtf8(e))};X.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};X.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};X.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};X.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};X.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};X.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};X.ByteStringBuffer.prototype.putInt=function(e,t){L0(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};X.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};X.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};X.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};X.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};X.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};X.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};X.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};X.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};X.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};X.ByteStringBuffer.prototype.getInt=function(e){L0(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};X.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};X.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};X.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};X.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};X.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};X.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};X.ByteStringBuffer.prototype.copy=function(){var e=X.createBuffer(this.data);return e.read=this.read,e};X.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};X.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};X.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};X.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};X.ByteStringBuffer.prototype.toString=function(){return X.decodeUtf8(this.bytes())};function aE(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=X.isArrayBuffer(e),n=X.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}X.DataBuffer=aE;X.DataBuffer.prototype.length=function(){return this.write-this.read};X.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};X.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};X.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};X.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};X.DataBuffer.prototype.putBytes=function(e,t){if(X.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var a=new Uint8Array(this.data.buffer,this.write);return a.set(r),this.write+=n,this}if(X.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var a=new Uint8Array(this.data.buffer);return a.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof X.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&X.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var a=new Uint8Array(e.data.byteLength,this.write);return a.set(r),this.write+=r.byteLength,this}if(e instanceof X.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var s;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=X.binary.hex.decode(e,s,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=X.binary.base64.decode(e,s,this.write),this;if(t==="utf8"&&(e=X.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=X.binary.raw.decode(s),this;if(t==="utf16")return this.accommodate(e.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=X.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};X.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};X.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};X.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};X.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};X.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};X.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};X.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};X.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};X.DataBuffer.prototype.putInt=function(e,t){L0(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};X.DataBuffer.prototype.putSignedInt=function(e,t){return L0(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};X.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};X.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};X.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};X.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};X.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};X.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};X.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};X.DataBuffer.prototype.getInt=function(e){L0(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};X.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};X.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};X.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};X.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};X.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};X.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};X.DataBuffer.prototype.copy=function(){return new X.DataBuffer(this)};X.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};X.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};X.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};X.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};X.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return X.binary.raw.encode(t);if(e==="hex")return X.binary.hex.encode(t);if(e==="base64")return X.binary.base64.encode(t);if(e==="utf8")return X.text.utf8.decode(t);if(e==="utf16")return X.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};X.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=X.encodeUtf8(e)),new X.ByteBuffer(e)};X.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};X.xorBytes=function(e,t,r){for(var n="",a="",s="",l=0,u=0;r>0;--r,++l)a=e.charCodeAt(l)^t.charCodeAt(l),u>=10&&(n+=s,s="",u=0),s+=String.fromCharCode(a),++u;return n+=s,n};X.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};X.bytesToHex=function(e){return X.createBuffer(e).toHex()};X.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var Li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Pi=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],vp="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";X.encode64=function(e,t){for(var r="",n="",a,s,l,u=0;u<e.length;)a=e.charCodeAt(u++),s=e.charCodeAt(u++),l=e.charCodeAt(u++),r+=Li.charAt(a>>2),r+=Li.charAt((a&3)<<4|s>>4),isNaN(s)?r+="==":(r+=Li.charAt((s&15)<<2|l>>6),r+=isNaN(l)?"=":Li.charAt(l&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};X.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,a,s,l=0;l<e.length;)r=Pi[e.charCodeAt(l++)-43],n=Pi[e.charCodeAt(l++)-43],a=Pi[e.charCodeAt(l++)-43],s=Pi[e.charCodeAt(l++)-43],t+=String.fromCharCode(r<<2|n>>4),a!==64&&(t+=String.fromCharCode((n&15)<<4|a>>2),s!==64&&(t+=String.fromCharCode((a&3)<<6|s)));return t};X.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};X.decodeUtf8=function(e){return decodeURIComponent(escape(e))};X.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:vd.encode,decode:vd.decode}};X.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};X.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var a=r,s=0;s<e.length;++s)n[a++]=e.charCodeAt(s);return t?a-r:n};X.binary.hex.encode=X.bytesToHex;X.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var a=0,s=r;for(e.length&1&&(a=1,n[s++]=parseInt(e[0],16));a<e.length;a+=2)n[s++]=parseInt(e.substr(a,2),16);return t?s-r:n};X.binary.base64.encode=function(e,t){for(var r="",n="",a,s,l,u=0;u<e.byteLength;)a=e[u++],s=e[u++],l=e[u++],r+=Li.charAt(a>>2),r+=Li.charAt((a&3)<<4|s>>4),isNaN(s)?r+="==":(r+=Li.charAt((s&15)<<2|l>>6),r+=isNaN(l)?"=":Li.charAt(l&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};X.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var a,s,l,u,c=0,f=r;c<e.length;)a=Pi[e.charCodeAt(c++)-43],s=Pi[e.charCodeAt(c++)-43],l=Pi[e.charCodeAt(c++)-43],u=Pi[e.charCodeAt(c++)-43],n[f++]=a<<2|s>>4,l!==64&&(n[f++]=(s&15)<<4|l>>2,u!==64&&(n[f++]=(l&3)<<6|u));return t?f-r:n.subarray(0,f)};X.binary.base58.encode=function(e,t){return X.binary.baseN.encode(e,vp,t)};X.binary.base58.decode=function(e,t){return X.binary.baseN.decode(e,vp,t)};X.text={utf8:{},utf16:{}};X.text.utf8.encode=function(e,t,r){e=X.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var a=r,s=0;s<e.length;++s)n[a++]=e.charCodeAt(s);return t?a-r:n};X.text.utf8.decode=function(e){return X.decodeUtf8(String.fromCharCode.apply(null,e))};X.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var a=new Uint16Array(n.buffer);r=r||0;for(var s=r,l=r,u=0;u<e.length;++u)a[l++]=e.charCodeAt(u),s+=2;return t?s-r:n};X.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};X.deflate=function(e,t,r){if(t=X.decode64(e.deflate(X.encode64(t)).rval),r){var n=2,a=t.charCodeAt(1);a&32&&(n=6),t=t.substring(n,t.length-4)}return t};X.inflate=function(e,t,r){var n=e.inflate(X.encode64(t)).rval;return n===null?null:X.decode64(n)};var Yu=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=X.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var a=new Error(n.error.message);throw a.id=n.error.id,a.name=n.error.name,a}},Xu=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(X.decode64(r))),r},sE=function(e,t,r,n){var a=Xu(e,t);a===null&&(a={}),a[r]=n,Yu(e,t,a)},oE=function(e,t,r){var n=Xu(e,t);return n!==null&&(n=r in n?n[r]:null),n},lE=function(e,t,r){var n=Xu(e,t);if(n!==null&&r in n){delete n[r];var a=!0;for(var s in n){a=!1;break}a&&(n=null),Yu(e,t,n)}},uE=function(e,t){Yu(e,t,null)},no=function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var a,s=!1,l=null;for(var u in r){a=r[u];try{if(a==="flash"||a==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),s=a==="flash"}(a==="web"||a==="both")&&(t[0]=localStorage,n=e.apply(this,t),s=!0)}catch(c){l=c}if(s)break}if(!s)throw l;return n};X.setItem=function(e,t,r,n,a){no(sE,arguments,a)};X.getItem=function(e,t,r,n){return no(oE,arguments,n)};X.removeItem=function(e,t,r,n){no(lE,arguments,n)};X.clearItems=function(e,t,r){no(uE,arguments,r)};X.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};X.format=function(e){for(var t=/%./g,r,n,a=0,s=[],l=0;r=t.exec(e);){n=e.substring(l,t.lastIndex-2),n.length>0&&s.push(n),l=t.lastIndex;var u=r[0][1];switch(u){case"s":case"o":a<arguments.length?s.push(arguments[a+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+u+"?>")}}return s.push(e.substring(l)),s.join("")};X.formatNumber=function(e,t,r,n){var a=e,s=isNaN(t=Math.abs(t))?2:t,l=r===void 0?",":r,u=n===void 0?".":n,c=a<0?"-":"",f=parseInt(a=Math.abs(+a||0).toFixed(s),10)+"",h=f.length>3?f.length%3:0;return c+(h?f.substr(0,h)+u:"")+f.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+u)+(s?l+Math.abs(a-f).toFixed(s).slice(2):"")};X.formatSize=function(e){return e>=1073741824?e=X.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=X.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=X.formatNumber(e/1024,0)+" KiB":e=X.formatNumber(e,0)+" bytes",e};X.bytesFromIP=function(e){return e.indexOf(".")!==-1?X.bytesFromIPv4(e):e.indexOf(":")!==-1?X.bytesFromIPv6(e):null};X.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=X.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};X.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(l){return l.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=X.createBuffer(),a=0;a<8;++a){if(!e[a]||e[a].length===0){n.fillWithByte(0,r),r=0;continue}var s=X.hexToBytes(e[a]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};X.bytesToIP=function(e){return e.length===4?X.bytesToIPv4(e):e.length===16?X.bytesToIPv6(e):null};X.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};X.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,a=0;a<e.length;a+=2){for(var s=X.bytesToHex(e[a]+e[a+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var l=r[r.length-1],u=t.length;!l||u!==l.end+1?r.push({start:u,end:u}):(l.end=u,l.end-l.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};X.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in X&&!e.update)return t(null,X.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return X.cores=navigator.hardwareConcurrency,t(null,X.cores);if(typeof Worker>"u")return X.cores=1,t(null,X.cores);if(typeof Blob>"u")return X.cores=2,t(null,X.cores);var r=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(l){var u=Date.now(),c=u+4;self.postMessage({st:u,et:c})})}).toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(l,u,c){if(u===0){var f=Math.floor(l.reduce(function(h,p){return h+p},0)/l.length);return X.cores=Math.max(1,f),URL.revokeObjectURL(r),t(null,X.cores)}a(c,function(h,p){l.push(s(c,p)),n(l,u-1,c)})}function a(l,u){for(var c=[],f=[],h=0;h<l;++h){var p=new Worker(r);p.addEventListener("message",function(v){if(f.push(v.data),f.length===l){for(var x=0;x<l;++x)c[x].terminate();u(null,f)}}),c.push(p)}for(var h=0;h<l;++h)c[h].postMessage(h)}function s(l,u){for(var c=[],f=0;f<l;++f)for(var h=u[f],p=c[f]=[],v=0;v<l;++v)if(f!==v){var x=u[v];(h.st>x.st&&h.st<x.et||x.st>h.st&&x.st<h.et)&&p.push(v)}return c.reduce(function(g,E){return Math.max(g,E.length)},0)}};var Cr=dt;Cr.cipher=Cr.cipher||{};Cr.cipher.algorithms=Cr.cipher.algorithms||{};Cr.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Cr.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Cr.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Cr.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Cr.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Cr.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Cr.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Cr.cipher.algorithms[e]=t};Cr.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Cr.cipher.algorithms?Cr.cipher.algorithms[e]:null};var Zu=Cr.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};Zu.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Cr.util.createBuffer(),this.output=e.output||Cr.util.createBuffer(),this.mode.start(t)};Zu.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Zu.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))};var mr=dt;mr.cipher=mr.cipher||{};var yt=mr.cipher.modes=mr.cipher.modes||{};yt.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};yt.ecb.prototype.start=function(e){};yt.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};yt.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};yt.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};yt.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};yt.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};yt.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=io(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};yt.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};yt.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};yt.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};yt.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};yt.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=mr.util.createBuffer(),this._partialBytes=0};yt.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=io(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};yt.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var a=0;a<this._ints;++a)this._inBlock[a]=e.getInt32()^this._outBlock[a],t.putInt32(this._inBlock[a]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var a=0;a<this._ints;++a)this._partialBlock[a]=e.getInt32()^this._outBlock[a],this._partialOutput.putInt32(this._partialBlock[a]);if(s>0)e.read-=this.blockSize;else for(var a=0;a<this._ints;++a)this._inBlock[a]=this._partialBlock[a];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};yt.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var a=0;a<this._ints;++a)this._inBlock[a]=e.getInt32(),t.putInt32(this._inBlock[a]^this._outBlock[a]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var a=0;a<this._ints;++a)this._partialBlock[a]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[a]^this._outBlock[a]);if(s>0)e.read-=this.blockSize;else for(var a=0;a<this._ints;++a)this._inBlock[a]=this._partialBlock[a];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};yt.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=mr.util.createBuffer(),this._partialBytes=0};yt.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=io(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};yt.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var a=0;a<this._ints;++a)t.putInt32(e.getInt32()^this._outBlock[a]),this._inBlock[a]=this._outBlock[a];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var a=0;a<this._ints;++a)this._partialOutput.putInt32(e.getInt32()^this._outBlock[a]);if(s>0)e.read-=this.blockSize;else for(var a=0;a<this._ints;++a)this._inBlock[a]=this._outBlock[a];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};yt.ofb.prototype.decrypt=yt.ofb.prototype.encrypt;yt.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=mr.util.createBuffer(),this._partialBytes=0};yt.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=io(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};yt.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var a=0;a<this._ints;++a)t.putInt32(e.getInt32()^this._outBlock[a]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var a=0;a<this._ints;++a)this._partialOutput.putInt32(e.getInt32()^this._outBlock[a]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}ao(this._inBlock)};yt.ctr.prototype.decrypt=yt.ctr.prototype.encrypt;yt.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=mr.util.createBuffer(),this._partialBytes=0,this._R=3774873600};yt.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=mr.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=mr.util.createBuffer(e.additionalData):r=mr.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=mr.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Au(n*8)))}this._inBlock=this._j0.slice(0),ao(this._inBlock),this._partialBytes=0,r=mr.util.createBuffer(r),this._aDataLength=Au(r.length()*8);var a=r.length()%this.blockSize;for(a&&r.fillWithByte(0,this.blockSize-a),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};yt.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var a=0;a<this._ints;++a)t.putInt32(this._outBlock[a]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var a=0;a<this._ints;++a)this._partialOutput.putInt32(e.getInt32()^this._outBlock[a]);if(s<=0||r){if(r){var l=n%this.blockSize;this._cipherLength+=l,this._partialOutput.truncate(this.blockSize-l)}else this._cipherLength+=this.blockSize;for(var a=0;a<this._ints;++a)this._outBlock[a]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),ao(this._inBlock)};yt.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),ao(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var a=0;a<this._ints;++a)t.putInt32(this._outBlock[a]^this._hashBlock[a]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};yt.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=mr.util.createBuffer();var n=this._aDataLength.concat(Au(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var a=[];this.cipher.encrypt(this._j0,a);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^a[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};yt.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),a=0;a<128;++a){var s=e[a/32|0]&1<<31-a%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};yt.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};yt.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,a=e[n]>>>(7-r%8)*4&15,s=this._m[r][a];t[0]^=s[0],t[1]^=s[1],t[2]^=s[2],t[3]^=s[3]}return t};yt.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};yt.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,a=16*r,s=new Array(a),l=0;l<a;++l){var u=[0,0,0,0],c=l/n|0,f=(n-1-l%n)*t;u[c]=1<<t-1<<f,s[l]=this.generateSubHashTable(this.multiply(u,e),t)}return s};yt.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,a=new Array(r);a[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(a[2*s],a[s]=[]),s>>=1;for(s=2;s<n;){for(var l=1;l<s;++l){var u=a[s],c=a[l];a[s+l]=[u[0]^c[0],u[1]^c[1],u[2]^c[2],u[3]^c[3]]}s*=2}for(a[0]=[0,0,0,0],s=n+1;s<r;++s){var f=a[s^n];a[s]=[e[0]^f[0],e[1]^f[1],e[2]^f[2],e[3]^f[3]]}return a};function io(e,t){if(typeof e=="string"&&(e=mr.util.createBuffer(e)),mr.util.isArray(e)&&e.length>4){var r=e;e=mr.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!mr.util.isArray(e)){for(var a=[],s=t/4,n=0;n<s;++n)a.push(e.getInt32());e=a}return e}function ao(e){e[e.length-1]=e[e.length-1]+1&4294967295}function Au(e){return[e/4294967296|0,e&4294967295]}var Mt=dt;Mt.aes=Mt.aes||{};Mt.aes.startEncrypting=function(e,t,r,n){var a=so({key:e,output:r,decrypt:!1,mode:n});return a.start(t),a};Mt.aes.createEncryptionCipher=function(e,t){return so({key:e,output:null,decrypt:!1,mode:t})};Mt.aes.startDecrypting=function(e,t,r,n){var a=so({key:e,output:r,decrypt:!0,mode:n});return a.start(t),a};Mt.aes.createDecryptionCipher=function(e,t){return so({key:e,output:null,decrypt:!0,mode:t})};Mt.aes.Algorithm=function(e,t){ju||gp();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,a){return bu(r._w,n,a,!1)},decrypt:function(n,a){return bu(r._w,n,a,!0)}}}),r._init=!1};Mt.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=Mt.util.createBuffer(t);else if(Mt.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=Mt.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!Mt.util.isArray(t)){r=t,t=[];var a=r.length();if(a===16||a===24||a===32){a=a>>>2;for(var n=0;n<a;++n)t.push(r.getInt32())}}if(!Mt.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,l=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=yp(t,e.decrypt&&!l),this._init=!0}};Mt.aes._expandKey=function(e,t){return ju||gp(),yp(e,t)};Mt.aes._updateBlock=bu;ja("AES-ECB",Mt.cipher.modes.ecb);ja("AES-CBC",Mt.cipher.modes.cbc);ja("AES-CFB",Mt.cipher.modes.cfb);ja("AES-OFB",Mt.cipher.modes.ofb);ja("AES-CTR",Mt.cipher.modes.ctr);ja("AES-GCM",Mt.cipher.modes.gcm);function ja(e,t){var r=function(){return new Mt.aes.Algorithm(e,t)};Mt.cipher.registerAlgorithm(e,r)}var ju=!1,Va=4,Pr,Bu,xp,da,Mn;function gp(){ju=!0,xp=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;Pr=new Array(256),Bu=new Array(256),da=new Array(4),Mn=new Array(4);for(var t=0;t<4;++t)da[t]=new Array(256),Mn[t]=new Array(256);for(var r=0,n=0,a,s,l,u,c,f,h,t=0;t<256;++t){u=n^n<<1^n<<2^n<<3^n<<4,u=u>>8^u&255^99,Pr[r]=u,Bu[u]=r,c=e[u],a=e[r],s=e[a],l=e[s],f=c<<24^u<<16^u<<8^(u^c),h=(a^s^l)<<24^(r^l)<<16^(r^s^l)<<8^(r^a^l);for(var p=0;p<4;++p)da[p][r]=f,Mn[p][u]=h,f=f<<24|f>>>8,h=h<<24|h>>>8;r===0?r=n=1:(r=a^e[e[e[a^l]]],n^=e[e[n]])}}function yp(e,t){for(var r=e.slice(0),n,a=1,s=r.length,l=s+6+1,u=Va*l,c=s;c<u;++c)n=r[c-1],c%s===0?(n=Pr[n>>>16&255]<<24^Pr[n>>>8&255]<<16^Pr[n&255]<<8^Pr[n>>>24]^xp[a]<<24,a++):s>6&&c%s===4&&(n=Pr[n>>>24]<<24^Pr[n>>>16&255]<<16^Pr[n>>>8&255]<<8^Pr[n&255]),r[c]=r[c-s]^n;if(t){var f,h=Mn[0],p=Mn[1],v=Mn[2],x=Mn[3],g=r.slice(0);u=r.length;for(var c=0,E=u-Va;c<u;c+=Va,E-=Va)if(c===0||c===u-Va)g[c]=r[E],g[c+1]=r[E+3],g[c+2]=r[E+2],g[c+3]=r[E+1];else for(var m=0;m<Va;++m)f=r[E+m],g[c+(3&-m)]=h[Pr[f>>>24]]^p[Pr[f>>>16&255]]^v[Pr[f>>>8&255]]^x[Pr[f&255]];r=g}return r}function bu(e,t,r,n){var a=e.length/4-1,s,l,u,c,f;n?(s=Mn[0],l=Mn[1],u=Mn[2],c=Mn[3],f=Bu):(s=da[0],l=da[1],u=da[2],c=da[3],f=Pr);var h,p,v,x,g,E,m;h=t[0]^e[0],p=t[n?3:1]^e[1],v=t[2]^e[2],x=t[n?1:3]^e[3];for(var B=3,_=1;_<a;++_)g=s[h>>>24]^l[p>>>16&255]^u[v>>>8&255]^c[x&255]^e[++B],E=s[p>>>24]^l[v>>>16&255]^u[x>>>8&255]^c[h&255]^e[++B],m=s[v>>>24]^l[x>>>16&255]^u[h>>>8&255]^c[p&255]^e[++B],x=s[x>>>24]^l[h>>>16&255]^u[p>>>8&255]^c[v&255]^e[++B],h=g,p=E,v=m;r[0]=f[h>>>24]<<24^f[p>>>16&255]<<16^f[v>>>8&255]<<8^f[x&255]^e[++B],r[n?3:1]=f[p>>>24]<<24^f[v>>>16&255]<<16^f[x>>>8&255]<<8^f[h&255]^e[++B],r[2]=f[v>>>24]<<24^f[x>>>16&255]<<16^f[h>>>8&255]<<8^f[p&255]^e[++B],r[n?1:3]=f[x>>>24]<<24^f[h>>>16&255]<<16^f[p>>>8&255]<<8^f[v&255]^e[++B]}function so(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=Mt.cipher.createDecipher(r,e.key):n=Mt.cipher.createCipher(r,e.key);var a=n.start;return n.start=function(s,l){var u=null;l instanceof Mt.util.ByteBuffer&&(u=l,l={}),l=l||{},l.output=u,l.iv=s,a.call(n,l)},n}var S0=dt;S0.pki=S0.pki||{};var Su=S0.pki.oids=S0.oids=S0.oids||{};function Ce(e,t){Su[e]=t,Su[t]=e}function Rt(e,t){Su[e]=t}Ce("1.2.840.113549.1.1.1","rsaEncryption");Ce("1.2.840.113549.1.1.4","md5WithRSAEncryption");Ce("1.2.840.113549.1.1.5","sha1WithRSAEncryption");Ce("1.2.840.113549.1.1.7","RSAES-OAEP");Ce("1.2.840.113549.1.1.8","mgf1");Ce("1.2.840.113549.1.1.9","pSpecified");Ce("1.2.840.113549.1.1.10","RSASSA-PSS");Ce("1.2.840.113549.1.1.11","sha256WithRSAEncryption");Ce("1.2.840.113549.1.1.12","sha384WithRSAEncryption");Ce("1.2.840.113549.1.1.13","sha512WithRSAEncryption");Ce("1.3.101.112","EdDSA25519");Ce("1.2.840.10040.4.3","dsa-with-sha1");Ce("1.3.14.3.2.7","desCBC");Ce("1.3.14.3.2.26","sha1");Ce("1.3.14.3.2.29","sha1WithRSASignature");Ce("2.16.840.1.101.3.4.2.1","sha256");Ce("2.16.840.1.101.3.4.2.2","sha384");Ce("2.16.840.1.101.3.4.2.3","sha512");Ce("2.16.840.1.101.3.4.2.4","sha224");Ce("2.16.840.1.101.3.4.2.5","sha512-224");Ce("2.16.840.1.101.3.4.2.6","sha512-256");Ce("1.2.840.113549.2.2","md2");Ce("1.2.840.113549.2.5","md5");Ce("1.2.840.113549.1.7.1","data");Ce("1.2.840.113549.1.7.2","signedData");Ce("1.2.840.113549.1.7.3","envelopedData");Ce("1.2.840.113549.1.7.4","signedAndEnvelopedData");Ce("1.2.840.113549.1.7.5","digestedData");Ce("1.2.840.113549.1.7.6","encryptedData");Ce("1.2.840.113549.1.9.1","emailAddress");Ce("1.2.840.113549.1.9.2","unstructuredName");Ce("1.2.840.113549.1.9.3","contentType");Ce("1.2.840.113549.1.9.4","messageDigest");Ce("1.2.840.113549.1.9.5","signingTime");Ce("1.2.840.113549.1.9.6","counterSignature");Ce("1.2.840.113549.1.9.7","challengePassword");Ce("1.2.840.113549.1.9.8","unstructuredAddress");Ce("1.2.840.113549.1.9.14","extensionRequest");Ce("1.2.840.113549.1.9.20","friendlyName");Ce("1.2.840.113549.1.9.21","localKeyId");Ce("1.2.840.113549.1.9.22.1","x509Certificate");Ce("1.2.840.113549.1.12.10.1.1","keyBag");Ce("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Ce("1.2.840.113549.1.12.10.1.3","certBag");Ce("1.2.840.113549.1.12.10.1.4","crlBag");Ce("1.2.840.113549.1.12.10.1.5","secretBag");Ce("1.2.840.113549.1.12.10.1.6","safeContentsBag");Ce("1.2.840.113549.1.5.13","pkcs5PBES2");Ce("1.2.840.113549.1.5.12","pkcs5PBKDF2");Ce("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");Ce("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");Ce("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");Ce("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");Ce("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");Ce("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");Ce("1.2.840.113549.2.7","hmacWithSHA1");Ce("1.2.840.113549.2.8","hmacWithSHA224");Ce("1.2.840.113549.2.9","hmacWithSHA256");Ce("1.2.840.113549.2.10","hmacWithSHA384");Ce("1.2.840.113549.2.11","hmacWithSHA512");Ce("1.2.840.113549.3.7","des-EDE3-CBC");Ce("2.16.840.1.101.3.4.1.2","aes128-CBC");Ce("2.16.840.1.101.3.4.1.22","aes192-CBC");Ce("2.16.840.1.101.3.4.1.42","aes256-CBC");Ce("2.5.4.3","commonName");Ce("2.5.4.4","surname");Ce("2.5.4.5","serialNumber");Ce("2.5.4.6","countryName");Ce("2.5.4.7","localityName");Ce("2.5.4.8","stateOrProvinceName");Ce("2.5.4.9","streetAddress");Ce("2.5.4.10","organizationName");Ce("2.5.4.11","organizationalUnitName");Ce("2.5.4.12","title");Ce("2.5.4.13","description");Ce("2.5.4.15","businessCategory");Ce("2.5.4.17","postalCode");Ce("2.5.4.42","givenName");Ce("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");Ce("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");Ce("2.16.840.1.113730.1.1","nsCertType");Ce("2.16.840.1.113730.1.13","nsComment");Rt("2.5.29.1","authorityKeyIdentifier");Rt("2.5.29.2","keyAttributes");Rt("2.5.29.3","certificatePolicies");Rt("2.5.29.4","keyUsageRestriction");Rt("2.5.29.5","policyMapping");Rt("2.5.29.6","subtreesConstraint");Rt("2.5.29.7","subjectAltName");Rt("2.5.29.8","issuerAltName");Rt("2.5.29.9","subjectDirectoryAttributes");Rt("2.5.29.10","basicConstraints");Rt("2.5.29.11","nameConstraints");Rt("2.5.29.12","policyConstraints");Rt("2.5.29.13","basicConstraints");Ce("2.5.29.14","subjectKeyIdentifier");Ce("2.5.29.15","keyUsage");Rt("2.5.29.16","privateKeyUsagePeriod");Ce("2.5.29.17","subjectAltName");Ce("2.5.29.18","issuerAltName");Ce("2.5.29.19","basicConstraints");Rt("2.5.29.20","cRLNumber");Rt("2.5.29.21","cRLReason");Rt("2.5.29.22","expirationDate");Rt("2.5.29.23","instructionCode");Rt("2.5.29.24","invalidityDate");Rt("2.5.29.25","cRLDistributionPoints");Rt("2.5.29.26","issuingDistributionPoint");Rt("2.5.29.27","deltaCRLIndicator");Rt("2.5.29.28","issuingDistributionPoint");Rt("2.5.29.29","certificateIssuer");Rt("2.5.29.30","nameConstraints");Ce("2.5.29.31","cRLDistributionPoints");Ce("2.5.29.32","certificatePolicies");Rt("2.5.29.33","policyMappings");Rt("2.5.29.34","policyConstraints");Ce("2.5.29.35","authorityKeyIdentifier");Rt("2.5.29.36","policyConstraints");Ce("2.5.29.37","extKeyUsage");Rt("2.5.29.46","freshestCRL");Rt("2.5.29.54","inhibitAnyPolicy");Ce("1.3.6.1.4.1.11129.2.4.2","timestampList");Ce("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Ce("1.3.6.1.5.5.7.3.1","serverAuth");Ce("1.3.6.1.5.5.7.3.2","clientAuth");Ce("1.3.6.1.5.5.7.3.3","codeSigning");Ce("1.3.6.1.5.5.7.3.4","emailProtection");Ce("1.3.6.1.5.5.7.3.8","timeStamping");var zt=dt,De=zt.asn1=zt.asn1||{};De.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};De.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};De.create=function(e,t,r,n,a){if(zt.util.isArray(n)){for(var s=[],l=0;l<n.length;++l)n[l]!==void 0&&s.push(n[l]);n=s}var u={tagClass:e,type:t,constructed:r,composed:r||zt.util.isArray(n),value:n};return a&&"bitStringContents"in a&&(u.bitStringContents=a.bitStringContents,u.original=De.copy(u)),u};De.copy=function(e,t){var r;if(zt.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(De.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:De.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};De.equals=function(e,t,r){if(zt.util.isArray(e)){if(!zt.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!De.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var a=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&De.equals(e.value,t.value);return r&&r.includeBitStringContents&&(a=a&&e.bitStringContents===t.bitStringContents),a};De.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function A0(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}var fE=function(e,t){var r=e.getByte();if(t--,r!==128){var n,a=r&128;if(!a)n=r;else{var s=r&127;A0(e,t,s),n=e.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};De.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=zt.util.createBuffer(e));var r=e.length(),n=Os(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var a=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw a.byteCount=r,a.remaining=e.length(),a}return n};function Os(e,t,r,n){var a;A0(e,t,2);var s=e.getByte();t--;var l=s&192,u=s&31;a=e.length();var c=fE(e,t);if(t-=a-e.length(),c!==void 0&&c>t){if(n.strict){var f=new Error("Too few bytes to read ASN.1 value.");throw f.available=e.length(),f.remaining=t,f.requested=c,f}c=t}var h,p,v=(s&32)===32;if(v)if(h=[],c===void 0)for(;;){if(A0(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}a=e.length(),h.push(Os(e,t,r+1,n)),t-=a-e.length()}else for(;c>0;)a=e.length(),h.push(Os(e,c,r+1,n)),t-=a-e.length(),c-=a-e.length();if(h===void 0&&l===De.Class.UNIVERSAL&&u===De.Type.BITSTRING&&(p=e.bytes(c)),h===void 0&&n.decodeBitStrings&&l===De.Class.UNIVERSAL&&u===De.Type.BITSTRING&&c>1){var x=e.read,g=t,E=0;if(u===De.Type.BITSTRING&&(A0(e,t,1),E=e.getByte(),t--),E===0)try{a=e.length();var m={strict:!0,decodeBitStrings:!0},B=Os(e,t,r+1,m),_=a-e.length();t-=_,u==De.Type.BITSTRING&&_++;var C=B.tagClass;_===c&&(C===De.Class.UNIVERSAL||C===De.Class.CONTEXT_SPECIFIC)&&(h=[B])}catch{}h===void 0&&(e.read=x,t=g)}if(h===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(u===De.Type.BMPSTRING)for(h="";c>0;c-=2)A0(e,t,2),h+=String.fromCharCode(e.getInt16()),t-=2;else h=e.getBytes(c),t-=c}var S=p===void 0?null:{bitStringContents:p};return De.create(l,u,v,h,S)}De.toDer=function(e){var t=zt.util.createBuffer(),r=e.tagClass|e.type,n=zt.util.createBuffer(),a=!1;if("bitStringContents"in e&&(a=!0,e.original&&(a=De.equals(e,e.original))),a)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var s=0;s<e.value.length;++s)e.value[s]!==void 0&&n.putBuffer(De.toDer(e.value[s]))}else if(e.type===De.Type.BMPSTRING)for(var s=0;s<e.value.length;++s)n.putInt16(e.value.charCodeAt(s));else e.type===De.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var l=n.length(),u="";do u+=String.fromCharCode(l&255),l=l>>>8;while(l>0);t.putByte(u.length|128);for(var s=u.length-1;s>=0;--s)t.putByte(u.charCodeAt(s))}return t.putBuffer(n),t};De.oidToDer=function(e){var t=e.split("."),r=zt.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,a,s,l,u=2;u<t.length;++u){n=!0,a=[],s=parseInt(t[u],10);do l=s&127,s=s>>>7,n||(l|=128),a.push(l),n=!1;while(s>0);for(var c=a.length-1;c>=0;--c)r.putByte(a[c])}return r};De.derToOid=function(e){var t;typeof e=="string"&&(e=zt.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};De.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,a=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),l=parseInt(e.substr(8,2),10),u=0;if(e.length>11){var c=e.charAt(10),f=10;c!=="+"&&c!=="-"&&(u=parseInt(e.substr(10,2),10),f+=2)}if(t.setUTCFullYear(r,n,a),t.setUTCHours(s,l,u,0),f&&(c=e.charAt(f),c==="+"||c==="-")){var h=parseInt(e.substr(f+1,2),10),p=parseInt(e.substr(f+4,2),10),v=h*60+p;v*=6e4,c==="+"?t.setTime(+t-v):t.setTime(+t+v)}return t};De.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,a=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),l=parseInt(e.substr(10,2),10),u=parseInt(e.substr(12,2),10),c=0,f=0,h=!1;e.charAt(e.length-1)==="Z"&&(h=!0);var p=e.length-5,v=e.charAt(p);if(v==="+"||v==="-"){var x=parseInt(e.substr(p+1,2),10),g=parseInt(e.substr(p+4,2),10);f=x*60+g,f*=6e4,v==="+"&&(f*=-1),h=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),h?(t.setUTCFullYear(r,n,a),t.setUTCHours(s,l,u,c),t.setTime(+t+f)):(t.setFullYear(r,n,a),t.setHours(s,l,u,c)),t};De.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};De.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};De.integerToDer=function(e){var t=zt.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};De.derToInteger=function(e){typeof e=="string"&&(e=zt.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};De.validate=function(e,t,r,n){var a=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(a=!0,t.value&&zt.util.isArray(t.value))for(var s=0,l=0;a&&l<t.value.length;++l)a=t.value[l].optional||!1,e.value[s]&&(a=De.validate(e.value[s],t.value[l],r,n),a?++s:t.value[l].optional&&(a=!0)),!a&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(a&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e))if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var u=e.bitStringContents.charCodeAt(0);if(u!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return a};var xd=/[^\\u0000-\\u00ff]/;De.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var a="",s=0;s<t*r;++s)a+=" ";switch(n+=a+"Tag: ",e.tagClass){case De.Class.UNIVERSAL:n+="Universal:";break;case De.Class.APPLICATION:n+="Application:";break;case De.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case De.Class.PRIVATE:n+="Private:";break}if(e.tagClass===De.Class.UNIVERSAL)switch(n+=e.type,e.type){case De.Type.NONE:n+=" (None)";break;case De.Type.BOOLEAN:n+=" (Boolean)";break;case De.Type.INTEGER:n+=" (Integer)";break;case De.Type.BITSTRING:n+=" (Bit string)";break;case De.Type.OCTETSTRING:n+=" (Octet string)";break;case De.Type.NULL:n+=" (Null)";break;case De.Type.OID:n+=" (Object Identifier)";break;case De.Type.ODESC:n+=" (Object Descriptor)";break;case De.Type.EXTERNAL:n+=" (External or Instance of)";break;case De.Type.REAL:n+=" (Real)";break;case De.Type.ENUMERATED:n+=" (Enumerated)";break;case De.Type.EMBEDDED:n+=" (Embedded PDV)";break;case De.Type.UTF8:n+=" (UTF8)";break;case De.Type.ROID:n+=" (Relative Object Identifier)";break;case De.Type.SEQUENCE:n+=" (Sequence)";break;case De.Type.SET:n+=" (Set)";break;case De.Type.PRINTABLESTRING:n+=" (Printable String)";break;case De.Type.IA5String:n+=" (IA5String (ASCII))";break;case De.Type.UTCTIME:n+=" (UTC time)";break;case De.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case De.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=a+"Constructed: "+e.constructed+`
`,e.composed){for(var l=0,u="",s=0;s<e.value.length;++s)e.value[s]!==void 0&&(l+=1,u+=De.prettyPrint(e.value[s],t+1,r),s+1<e.value.length&&(u+=","));n+=a+"Sub values: "+l+u}else{if(n+=a+"Value: ",e.type===De.Type.OID){var c=De.derToOid(e.value);n+=c,zt.pki&&zt.pki.oids&&c in zt.pki.oids&&(n+=" ("+zt.pki.oids[c]+") ")}if(e.type===De.Type.INTEGER)try{n+=De.derToInteger(e.value)}catch{n+="0x"+zt.util.bytesToHex(e.value)}else if(e.type===De.Type.BITSTRING){if(e.value.length>1?n+="0x"+zt.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var f=e.value.charCodeAt(0);f==1?n+=" (1 unused bit shown)":f>1&&(n+=" ("+f+" unused bits shown)")}}else if(e.type===De.Type.OCTETSTRING)xd.test(e.value)||(n+="("+e.value+") "),n+="0x"+zt.util.bytesToHex(e.value);else if(e.type===De.Type.UTF8)try{n+=zt.util.decodeUtf8(e.value)}catch(h){if(h.message==="URI malformed")n+="0x"+zt.util.bytesToHex(e.value)+" (malformed UTF8)";else throw h}else e.type===De.Type.PRINTABLESTRING||e.type===De.Type.IA5String?n+=e.value:xd.test(e.value)?n+="0x"+zt.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n};var Hs=dt;Hs.md=Hs.md||{};Hs.md.algorithms=Hs.md.algorithms||{};var pi=dt,cE=pi.hmac=pi.hmac||{};cE.create=function(){var e=null,t=null,r=null,n=null,a={};return a.start=function(s,l){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in pi.md.algorithms)t=pi.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else t=s;if(l===null)l=e;else{if(typeof l=="string")l=pi.util.createBuffer(l);else if(pi.util.isArray(l)){var u=l;l=pi.util.createBuffer();for(var c=0;c<u.length;++c)l.putByte(u[c])}var f=l.length();f>t.blockLength&&(t.start(),t.update(l.bytes()),l=t.digest()),r=pi.util.createBuffer(),n=pi.util.createBuffer(),f=l.length();for(var c=0;c<f;++c){var u=l.at(c);r.putByte(54^u),n.putByte(92^u)}if(f<t.blockLength)for(var u=t.blockLength-f,c=0;c<u;++c)r.putByte(54),n.putByte(92);e=l,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},a.update=function(s){t.update(s)},a.getMac=function(){var s=t.digest().bytes();return t.start(),t.update(n),t.update(s),t.digest()},a.digest=a.getMac,a};var Xn=dt,mp=Xn.md5=Xn.md5||{};Xn.md.md5=Xn.md.algorithms.md5=mp;mp.create=function(){Cp||hE();var e=null,t=Xn.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var a=n.messageLengthSize/4,s=0;s<a;++s)n.fullMessageLength.push(0);return t=Xn.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(a,s){s==="utf8"&&(a=Xn.util.encodeUtf8(a));var l=a.length;n.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var u=n.fullMessageLength.length-1;u>=0;--u)n.fullMessageLength[u]+=l[1],l[1]=l[0]+(n.fullMessageLength[u]/4294967296>>>0),n.fullMessageLength[u]=n.fullMessageLength[u]>>>0,l[0]=l[1]/4294967296>>>0;return t.putBytes(a),gd(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var a=Xn.util.createBuffer();a.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,l=s&n.blockLength-1;a.putBytes(Tu.substr(0,n.blockLength-l));for(var u,c=0,f=n.fullMessageLength.length-1;f>=0;--f)u=n.fullMessageLength[f]*8+c,c=u/4294967296>>>0,a.putInt32Le(u>>>0);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};gd(h,r,a);var p=Xn.util.createBuffer();return p.putInt32Le(h.h0),p.putInt32Le(h.h1),p.putInt32Le(h.h2),p.putInt32Le(h.h3),p},n};var Tu=null,Ms=null,B0=null,za=null,Cp=!1;function hE(){Tu=String.fromCharCode(128),Tu+=Xn.util.fillString(String.fromCharCode(0),64),Ms=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],B0=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],za=new Array(64);for(var e=0;e<64;++e)za[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);Cp=!0}function gd(e,t,r){for(var n,a,s,l,u,c,f,h,p=r.length();p>=64;){for(a=e.h0,s=e.h1,l=e.h2,u=e.h3,h=0;h<16;++h)t[h]=r.getInt32Le(),c=u^s&(l^u),n=a+c+za[h]+t[h],f=B0[h],a=u,u=l,l=s,s+=n<<f|n>>>32-f;for(;h<32;++h)c=l^u&(s^l),n=a+c+za[h]+t[Ms[h]],f=B0[h],a=u,u=l,l=s,s+=n<<f|n>>>32-f;for(;h<48;++h)c=s^l^u,n=a+c+za[h]+t[Ms[h]],f=B0[h],a=u,u=l,l=s,s+=n<<f|n>>>32-f;for(;h<64;++h)c=l^(s|~u),n=a+c+za[h]+t[Ms[h]],f=B0[h],a=u,u=l,l=s,s+=n<<f|n>>>32-f;e.h0=e.h0+a|0,e.h1=e.h1+s|0,e.h2=e.h2+l|0,e.h3=e.h3+u|0,p-=64}}var zs=dt,Ep=zs.pem=zs.pem||{};Ep.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=Ns(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=Ns(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=Ns(n)),e.headers)for(var a=0;a<e.headers.length;++a)r+=Ns(e.headers[a]);return e.procType&&(r+=`\r
`),r+=zs.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};Ep.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,a=/\r?\n/,s;s=r.exec(e),!!s;){var l=s[1];l==="NEW CERTIFICATE REQUEST"&&(l="CERTIFICATE REQUEST");var u={type:l,procType:null,contentDomain:null,dekInfo:null,headers:[],body:zs.util.decode64(s[3])};if(t.push(u),!!s[2]){for(var c=s[2].split(a),f=0;s&&f<c.length;){for(var h=c[f].replace(/\s+$/,""),p=f+1;p<c.length;++p){var v=c[p];if(!/\s/.test(v[0]))break;h+=v,f=p}if(s=h.match(n),s){for(var x={name:s[1],values:[]},g=s[2].split(","),E=0;E<g.length;++E)x.values.push(dE(g[E]));if(u.procType)if(!u.contentDomain&&x.name==="Content-Domain")u.contentDomain=g[0]||"";else if(!u.dekInfo&&x.name==="DEK-Info"){if(x.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');u.dekInfo={algorithm:g[0],parameters:g[1]||null}}else u.headers.push(x);else{if(x.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(x.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');u.procType={version:g[0],type:g[1]}}}++f}if(u.procType==="ENCRYPTED"&&!u.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function Ns(e){for(var t=e.name+": ",r=[],n=function(c,f){return" "+f},a=0;a<e.values.length;++a)r.push(e.values[a].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var s=0,l=-1,a=0;a<t.length;++a,++s)if(s>65&&l!==-1){var u=t[l];u===","?(++l,t=t.substr(0,l)+`\r
 `+t.substr(l)):t=t.substr(0,l)+`\r
`+u+t.substr(l+1),s=a-l-1,l=-1,++a}else(t[a]===" "||t[a]==="	"||t[a]===",")&&(l=a);return t}function dE(e){return e.replace(/^\s+/,"")}var Zt=dt;Zt.des=Zt.des||{};Zt.des.startEncrypting=function(e,t,r,n){var a=oo({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return a.start(t),a};Zt.des.createEncryptionCipher=function(e,t){return oo({key:e,output:null,decrypt:!1,mode:t})};Zt.des.startDecrypting=function(e,t,r,n){var a=oo({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return a.start(t),a};Zt.des.createDecryptionCipher=function(e,t){return oo({key:e,output:null,decrypt:!0,mode:t})};Zt.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,a){return yd(r._keys,n,a,!1)},decrypt:function(n,a){return yd(r._keys,n,a,!0)}}}),r._init=!1};Zt.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=Zt.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=_E(t),this._init=!0}};$n("DES-ECB",Zt.cipher.modes.ecb);$n("DES-CBC",Zt.cipher.modes.cbc);$n("DES-CFB",Zt.cipher.modes.cfb);$n("DES-OFB",Zt.cipher.modes.ofb);$n("DES-CTR",Zt.cipher.modes.ctr);$n("3DES-ECB",Zt.cipher.modes.ecb);$n("3DES-CBC",Zt.cipher.modes.cbc);$n("3DES-CFB",Zt.cipher.modes.cfb);$n("3DES-OFB",Zt.cipher.modes.ofb);$n("3DES-CTR",Zt.cipher.modes.ctr);function $n(e,t){var r=function(){return new Zt.des.Algorithm(e,t)};Zt.cipher.registerAlgorithm(e,r)}var pE=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],vE=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],xE=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],gE=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],yE=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],mE=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],CE=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],EE=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function _E(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],a=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],l=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],h=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],p=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],v=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],x=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],E=e.length()>8?3:1,m=[],B=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],_=0,C,S=0;S<E;S++){var F=e.getInt32(),k=e.getInt32();C=(F>>>4^k)&252645135,k^=C,F^=C<<4,C=(k>>>-16^F)&65535,F^=C,k^=C<<-16,C=(F>>>2^k)&858993459,k^=C,F^=C<<2,C=(k>>>-16^F)&65535,F^=C,k^=C<<-16,C=(F>>>1^k)&1431655765,k^=C,F^=C<<1,C=(k>>>8^F)&16711935,F^=C,k^=C<<8,C=(F>>>1^k)&1431655765,k^=C,F^=C<<1,C=F<<8|k>>>20&240,F=k<<24|k<<8&16711680|k>>>8&65280|k>>>24&240,k=C;for(var L=0;L<B.length;++L){B[L]?(F=F<<2|F>>>26,k=k<<2|k>>>26):(F=F<<1|F>>>27,k=k<<1|k>>>27),F&=-15,k&=-15;var R=t[F>>>28]|r[F>>>24&15]|n[F>>>20&15]|a[F>>>16&15]|s[F>>>12&15]|l[F>>>8&15]|u[F>>>4&15],q=c[k>>>28]|f[k>>>24&15]|h[k>>>20&15]|p[k>>>16&15]|v[k>>>12&15]|x[k>>>8&15]|g[k>>>4&15];C=(q>>>16^R)&65535,m[_++]=R^C,m[_++]=q^C<<16}}return m}function yd(e,t,r,n){var a=e.length===32?3:9,s;a===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var l,u=t[0],c=t[1];l=(u>>>4^c)&252645135,c^=l,u^=l<<4,l=(u>>>16^c)&65535,c^=l,u^=l<<16,l=(c>>>2^u)&858993459,u^=l,c^=l<<2,l=(c>>>8^u)&16711935,u^=l,c^=l<<8,l=(u>>>1^c)&1431655765,c^=l,u^=l<<1,u=u<<1|u>>>31,c=c<<1|c>>>31;for(var f=0;f<a;f+=3){for(var h=s[f+1],p=s[f+2],v=s[f];v!=h;v+=p){var x=c^e[v],g=(c>>>4|c<<28)^e[v+1];l=u,u=c,c=l^(vE[x>>>24&63]|gE[x>>>16&63]|mE[x>>>8&63]|EE[x&63]|pE[g>>>24&63]|xE[g>>>16&63]|yE[g>>>8&63]|CE[g&63])}l=u,u=c,c=l}u=u>>>1|u<<31,c=c>>>1|c<<31,l=(u>>>1^c)&1431655765,c^=l,u^=l<<1,l=(c>>>8^u)&16711935,u^=l,c^=l<<8,l=(c>>>2^u)&858993459,u^=l,c^=l<<2,l=(u>>>16^c)&65535,c^=l,u^=l<<16,l=(u>>>4^c)&252645135,c^=l,u^=l<<4,r[0]=u,r[1]=c}function oo(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=Zt.cipher.createDecipher(r,e.key):n=Zt.cipher.createCipher(r,e.key);var a=n.start;return n.start=function(s,l){var u=null;l instanceof Zt.util.ByteBuffer&&(u=l,l={}),l=l||{},l.output=u,l.iv=s,a.call(n,l)},n}var Ur=dt,AE=Ur.pkcs5=Ur.pkcs5||{},di;Ur.util.isNodejs&&!Ur.options.usePureJavaScript&&(di=to);Ur.pbkdf2=AE.pbkdf2=function(e,t,r,n,a,s){if(typeof a=="function"&&(s=a,a=null),Ur.util.isNodejs&&!Ur.options.usePureJavaScript&&di.pbkdf2&&(a===null||typeof a!="object")&&(di.pbkdf2Sync.length>4||!a||a==="sha1"))return typeof a!="string"&&(a="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),s?di.pbkdf2Sync.length===4?di.pbkdf2(e,t,r,n,function(C,S){if(C)return s(C);s(null,S.toString("binary"))}):di.pbkdf2(e,t,r,n,a,function(C,S){if(C)return s(C);s(null,S.toString("binary"))}):di.pbkdf2Sync.length===4?di.pbkdf2Sync(e,t,r,n).toString("binary"):di.pbkdf2Sync(e,t,r,n,a).toString("binary");if((typeof a>"u"||a===null)&&(a="sha1"),typeof a=="string"){if(!(a in Ur.md.algorithms))throw new Error("Unknown hash algorithm: "+a);a=Ur.md[a].create()}var l=a.digestLength;if(n>4294967295*l){var u=new Error("Derived key is too long.");if(s)return s(u);throw u}var c=Math.ceil(n/l),f=n-(c-1)*l,h=Ur.hmac.create();h.start(a,e);var p="",v,x,g;if(!s){for(var E=1;E<=c;++E){h.start(null,null),h.update(t),h.update(Ur.util.int32ToBytes(E)),v=g=h.digest().getBytes();for(var m=2;m<=r;++m)h.start(null,null),h.update(g),x=h.digest().getBytes(),v=Ur.util.xorBytes(v,x,l),g=x;p+=E<c?v:v.substr(0,f)}return p}var E=1,m;function B(){if(E>c)return s(null,p);h.start(null,null),h.update(t),h.update(Ur.util.int32ToBytes(E)),v=g=h.digest().getBytes(),m=2,_()}function _(){if(m<=r)return h.start(null,null),h.update(g),x=h.digest().getBytes(),v=Ur.util.xorBytes(v,x,l),g=x,++m,Ur.util.setImmediate(_);p+=E<c?v:v.substr(0,f),++E,B()}B()};var Zn=dt,_p=Zn.sha256=Zn.sha256||{};Zn.md.sha256=Zn.md.algorithms.sha256=_p;_p.create=function(){Ap||BE();var e=null,t=Zn.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var a=n.messageLengthSize/4,s=0;s<a;++s)n.fullMessageLength.push(0);return t=Zn.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(a,s){s==="utf8"&&(a=Zn.util.encodeUtf8(a));var l=a.length;n.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var u=n.fullMessageLength.length-1;u>=0;--u)n.fullMessageLength[u]+=l[1],l[1]=l[0]+(n.fullMessageLength[u]/4294967296>>>0),n.fullMessageLength[u]=n.fullMessageLength[u]>>>0,l[0]=l[1]/4294967296>>>0;return t.putBytes(a),md(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var a=Zn.util.createBuffer();a.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,l=s&n.blockLength-1;a.putBytes(Iu.substr(0,n.blockLength-l));for(var u,c,f=n.fullMessageLength[0]*8,h=0;h<n.fullMessageLength.length-1;++h)u=n.fullMessageLength[h+1]*8,c=u/4294967296>>>0,f+=c,a.putInt32(f>>>0),f=u>>>0;a.putInt32(f);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};md(p,r,a);var v=Zn.util.createBuffer();return v.putInt32(p.h0),v.putInt32(p.h1),v.putInt32(p.h2),v.putInt32(p.h3),v.putInt32(p.h4),v.putInt32(p.h5),v.putInt32(p.h6),v.putInt32(p.h7),v},n};var Iu=null,Ap=!1,Bp=null;function BE(){Iu=String.fromCharCode(128),Iu+=Zn.util.fillString(String.fromCharCode(0),64),Bp=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Ap=!0}function md(e,t,r){for(var n,a,s,l,u,c,f,h,p,v,x,g,E,m,B,_=r.length();_>=64;){for(f=0;f<16;++f)t[f]=r.getInt32();for(;f<64;++f)n=t[f-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,a=t[f-15],a=(a>>>7|a<<25)^(a>>>18|a<<14)^a>>>3,t[f]=n+t[f-7]+a+t[f-16]|0;for(h=e.h0,p=e.h1,v=e.h2,x=e.h3,g=e.h4,E=e.h5,m=e.h6,B=e.h7,f=0;f<64;++f)l=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),u=m^g&(E^m),s=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),c=h&p|v&(h^p),n=B+l+u+Bp[f]+t[f],a=s+c,B=m,m=E,E=g,g=x+n>>>0,x=v,v=p,p=h,h=n+a>>>0;e.h0=e.h0+h|0,e.h1=e.h1+p|0,e.h2=e.h2+v|0,e.h3=e.h3+x|0,e.h4=e.h4+g|0,e.h5=e.h5+E|0,e.h6=e.h6+m|0,e.h7=e.h7+B|0,_-=64}}var Qn=dt,Vs=null;Qn.util.isNodejs&&!Qn.options.usePureJavaScript&&!process.versions["node-webkit"]&&(Vs=to);var bE=Qn.prng=Qn.prng||{};bE.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),a=0;a<32;++a)n[a]=r.create();t.pools=n,t.pool=0,t.generate=function(f,h){if(!h)return t.generateSync(f);var p=t.plugin.cipher,v=t.plugin.increment,x=t.plugin.formatKey,g=t.plugin.formatSeed,E=Qn.util.createBuffer();t.key=null,m();function m(B){if(B)return h(B);if(E.length()>=f)return h(null,E.getBytes(f));if(t.generated>1048575&&(t.key=null),t.key===null)return Qn.util.nextTick(function(){s(m)});var _=p(t.key,t.seed);t.generated+=_.length,E.putBytes(_),t.key=x(p(t.key,v(t.seed))),t.seed=g(p(t.key,t.seed)),Qn.util.setImmediate(m)}},t.generateSync=function(f){var h=t.plugin.cipher,p=t.plugin.increment,v=t.plugin.formatKey,x=t.plugin.formatSeed;t.key=null;for(var g=Qn.util.createBuffer();g.length()<f;){t.generated>1048575&&(t.key=null),t.key===null&&l();var E=h(t.key,t.seed);t.generated+=E.length,g.putBytes(E),t.key=v(h(t.key,p(t.seed))),t.seed=x(h(t.key,t.seed))}return g.getBytes(f)};function s(f){if(t.pools[0].messageLength>=32)return u(),f();var h=32-t.pools[0].messageLength<<5;t.seedFile(h,function(p,v){if(p)return f(p);t.collect(v),u(),f()})}function l(){if(t.pools[0].messageLength>=32)return u();var f=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(f)),u()}function u(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var f=t.plugin.md.create();f.update(t.keyBytes);for(var h=1,p=0;p<32;++p)t.reseeds%h===0&&(f.update(t.pools[p].digest().getBytes()),t.pools[p].start()),h=h<<1;t.keyBytes=f.digest().getBytes(),f.start(),f.update(t.keyBytes);var v=f.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(v),t.generated=0}function c(f){var h=null,p=Qn.util.globalScope,v=p.crypto||p.msCrypto;v&&v.getRandomValues&&(h=function(F){return v.getRandomValues(F)});var x=Qn.util.createBuffer();if(h)for(;x.length()<f;){var g=Math.max(1,Math.min(f-x.length(),65536)/4),E=new Uint32Array(Math.floor(g));try{h(E);for(var m=0;m<E.length;++m)x.putInt32(E[m])}catch(F){if(!(typeof QuotaExceededError<"u"&&F instanceof QuotaExceededError))throw F}}if(x.length()<f)for(var B,_,C,S=Math.floor(Math.random()*65536);x.length()<f;){_=16807*(S&65535),B=16807*(S>>16),_+=(B&32767)<<16,_+=B>>15,_=(_&2147483647)+(_>>31),S=_&4294967295;for(var m=0;m<3;++m)C=S>>>(m<<3),C^=Math.floor(Math.random()*256),x.putByte(C&255)}return x.getBytes(f)}return Vs?(t.seedFile=function(f,h){Vs.randomBytes(f,function(p,v){if(p)return h(p);h(null,v.toString())})},t.seedFileSync=function(f){return Vs.randomBytes(f).toString()}):(t.seedFile=function(f,h){try{h(null,c(f))}catch(p){h(p)}},t.seedFileSync=c),t.collect=function(f){for(var h=f.length,p=0;p<h;++p)t.pools[t.pool].update(f.substr(p,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(f,h){for(var p="",v=0;v<h;v+=8)p+=String.fromCharCode(f>>v&255);t.collect(p)},t.registerWorker=function(f){if(f===self)t.seedFile=function(p,v){function x(g){var E=g.data;E.forge&&E.forge.prng&&(self.removeEventListener("message",x),v(E.forge.prng.err,E.forge.prng.bytes))}self.addEventListener("message",x),self.postMessage({forge:{prng:{needed:p}}})};else{var h=function(p){var v=p.data;v.forge&&v.forge.prng&&t.seedFile(v.forge.prng.needed,function(x,g){f.postMessage({forge:{prng:{err:x,bytes:g}}})})};f.addEventListener("message",h)}},t};var xr=dt;(function(){if(xr.random&&xr.random.getBytes){xr.random;return}(function(e){var t={},r=new Array(4),n=xr.util.createBuffer();t.formatKey=function(p){var v=xr.util.createBuffer(p);return p=new Array(4),p[0]=v.getInt32(),p[1]=v.getInt32(),p[2]=v.getInt32(),p[3]=v.getInt32(),xr.aes._expandKey(p,!1)},t.formatSeed=function(p){var v=xr.util.createBuffer(p);return p=new Array(4),p[0]=v.getInt32(),p[1]=v.getInt32(),p[2]=v.getInt32(),p[3]=v.getInt32(),p},t.cipher=function(p,v){return xr.aes._updateBlock(p,v,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(p){return++p[3],p},t.md=xr.md.sha256;function a(){var p=xr.prng.create(t);return p.getBytes=function(v,x){return p.generate(v,x)},p.getBytesSync=function(v){return p.generate(v)},p}var s=a(),l=null,u=xr.util.globalScope,c=u.crypto||u.msCrypto;if(c&&c.getRandomValues&&(l=function(p){return c.getRandomValues(p)}),xr.options.usePureJavaScript||!xr.util.isNodejs&&!l){if(s.collectInt(+new Date,32),typeof navigator<"u"){var f="";for(var h in navigator)try{typeof navigator[h]=="string"&&(f+=navigator[h])}catch{}s.collect(f),f=null}e&&(e().mousemove(function(p){s.collectInt(p.clientX,16),s.collectInt(p.clientY,16)}),e().keypress(function(p){s.collectInt(p.charCode,8)}))}if(!xr.random)xr.random=s;else for(var h in s)xr.random[h]=s[h];xr.random.createInstance=a,xr.random})(typeof jQuery<"u"?jQuery:null)})();var Xr=dt,du=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],Cd=[1,2,3,5],SE=function(e,t){return e<<t&65535|(e&65535)>>16-t},TE=function(e,t){return(e&65535)>>t|e<<16-t&65535};Xr.rc2=Xr.rc2||{};Xr.rc2.expandKey=function(e,t){typeof e=="string"&&(e=Xr.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),a=t,s=Math.ceil(a/8),l=255>>(a&7),u;for(u=n;u<128;u++)r.putByte(du[r.at(u-1)+r.at(u-n)&255]);for(r.setAt(128-s,du[r.at(128-s)&l]),u=127-s;u>=0;u--)r.setAt(u,du[r.at(u+1)^r.at(u+s)]);return r};var bp=function(e,t,r){var n=!1,a=null,s=null,l=null,u,c,f,h,p=[];for(e=Xr.rc2.expandKey(e,t),f=0;f<64;f++)p.push(e.getInt16Le());r?(u=function(g){for(f=0;f<4;f++)g[f]+=p[h]+(g[(f+3)%4]&g[(f+2)%4])+(~g[(f+3)%4]&g[(f+1)%4]),g[f]=SE(g[f],Cd[f]),h++},c=function(g){for(f=0;f<4;f++)g[f]+=p[g[(f+3)%4]&63]}):(u=function(g){for(f=3;f>=0;f--)g[f]=TE(g[f],Cd[f]),g[f]-=p[h]+(g[(f+3)%4]&g[(f+2)%4])+(~g[(f+3)%4]&g[(f+1)%4]),h--},c=function(g){for(f=3;f>=0;f--)g[f]-=p[g[(f+3)%4]&63]});var v=function(g){var E=[];for(f=0;f<4;f++){var m=a.getInt16Le();l!==null&&(r?m^=l.getInt16Le():l.putInt16Le(m)),E.push(m&65535)}h=r?0:63;for(var B=0;B<g.length;B++)for(var _=0;_<g[B][0];_++)g[B][1](E);for(f=0;f<4;f++)l!==null&&(r?l.putInt16Le(E[f]):E[f]^=l.getInt16Le()),s.putInt16Le(E[f])},x=null;return x={start:function(g,E){g&&typeof g=="string"&&(g=Xr.util.createBuffer(g)),n=!1,a=Xr.util.createBuffer(),s=E||new Xr.util.createBuffer,l=g,x.output=s},update:function(g){for(n||a.putBuffer(g);a.length()>=8;)v([[5,u],[1,c],[6,u],[1,c],[5,u]])},finish:function(g){var E=!0;if(r)if(g)E=g(8,a,!r);else{var m=a.length()===8?8:8-a.length();a.fillWithByte(m,m)}if(E&&(n=!0,x.update()),!r&&(E=a.length()===0,E))if(g)E=g(8,s,!r);else{var B=s.length(),_=s.at(B-1);_>B?E=!1:s.truncate(_)}return E}},x};Xr.rc2.startEncrypting=function(e,t,r){var n=Xr.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};Xr.rc2.createEncryptionCipher=function(e,t){return bp(e,t,!0)};Xr.rc2.startDecrypting=function(e,t,r){var n=Xr.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};Xr.rc2.createDecryptionCipher=function(e,t){return bp(e,t,!1)};var wu=dt;wu.jsbn=wu.jsbn||{};var xi;function ge(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}wu.jsbn.BigInteger=ge;function Tt(){return new ge(null)}function IE(e,t,r,n,a,s){for(;--s>=0;){var l=t*this.data[e++]+r.data[n]+a;a=Math.floor(l/67108864),r.data[n++]=l&67108863}return a}function wE(e,t,r,n,a,s){for(var l=t&32767,u=t>>15;--s>=0;){var c=this.data[e]&32767,f=this.data[e++]>>15,h=u*c+f*l;c=l*c+((h&32767)<<15)+r.data[n]+(a&1073741823),a=(c>>>30)+(h>>>15)+u*f+(a>>>30),r.data[n++]=c&1073741823}return a}function Ed(e,t,r,n,a,s){for(var l=t&16383,u=t>>14;--s>=0;){var c=this.data[e]&16383,f=this.data[e++]>>14,h=u*c+f*l;c=l*c+((h&16383)<<14)+r.data[n]+a,a=(c>>28)+(h>>14)+u*f,r.data[n++]=c&268435455}return a}typeof navigator>"u"?(ge.prototype.am=Ed,xi=28):navigator.appName=="Microsoft Internet Explorer"?(ge.prototype.am=wE,xi=30):navigator.appName!="Netscape"?(ge.prototype.am=IE,xi=26):(ge.prototype.am=Ed,xi=28);ge.prototype.DB=xi;ge.prototype.DM=(1<<xi)-1;ge.prototype.DV=1<<xi;var Ju=52;ge.prototype.FV=Math.pow(2,Ju);ge.prototype.F1=Ju-xi;ge.prototype.F2=2*xi-Ju;var DE="0123456789abcdefghijklmnopqrstuvwxyz",lo=new Array,Ja,An;Ja="0".charCodeAt(0);for(An=0;An<=9;++An)lo[Ja++]=An;Ja="a".charCodeAt(0);for(An=10;An<36;++An)lo[Ja++]=An;Ja="A".charCodeAt(0);for(An=10;An<36;++An)lo[Ja++]=An;function _d(e){return DE.charAt(e)}function Sp(e,t){var r=lo[e.charCodeAt(t)];return r??-1}function RE(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function NE(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function Ui(e){var t=Tt();return t.fromInt(e),t}function kE(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,a=!1,s=0;--n>=0;){var l=r==8?e[n]&255:Sp(e,n);if(l<0){e.charAt(n)=="-"&&(a=!0);continue}a=!1,s==0?this.data[this.t++]=l:s+r>this.DB?(this.data[this.t-1]|=(l&(1<<this.DB-s)-1)<<s,this.data[this.t++]=l>>this.DB-s):this.data[this.t-1]|=l<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&e[0]&128&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),a&&ge.ZERO.subTo(this,this)}function FE(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function LE(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,a=!1,s="",l=this.t,u=this.DB-l*this.DB%t;if(l-- >0)for(u<this.DB&&(n=this.data[l]>>u)>0&&(a=!0,s=_d(n));l>=0;)u<t?(n=(this.data[l]&(1<<u)-1)<<t-u,n|=this.data[--l]>>(u+=this.DB-t)):(n=this.data[l]>>(u-=t)&r,u<=0&&(u+=this.DB,--l)),n>0&&(a=!0),a&&(s+=_d(n));return a?s:"0"}function PE(){var e=Tt();return ge.ZERO.subTo(this,e),e}function UE(){return this.s<0?this.negate():this}function OE(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}function uo(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function ME(){return this.t<=0?0:this.DB*(this.t-1)+uo(this.data[this.t-1]^this.s&this.DM)}function VE(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}function KE(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}function HE(e,t){var r=e%this.DB,n=this.DB-r,a=(1<<n)-1,s=Math.floor(e/this.DB),l=this.s<<r&this.DM,u;for(u=this.t-1;u>=0;--u)t.data[u+s+1]=this.data[u]>>n|l,l=(this.data[u]&a)<<r;for(u=s-1;u>=0;--u)t.data[u]=0;t.data[s]=l,t.t=this.t+s+1,t.s=this.s,t.clamp()}function zE(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,a=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var l=r+1;l<this.t;++l)t.data[l-r-1]|=(this.data[l]&s)<<a,t.data[l-r]=this.data[l]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&s)<<a),t.t=this.t-r,t.clamp()}function qE(e,t){for(var r=0,n=0,a=Math.min(e.t,this.t);r<a;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}function GE(e,t){var r=this.abs(),n=e.abs(),a=r.t;for(t.t=a+n.t;--a>=0;)t.data[a]=0;for(a=0;a<n.t;++a)t.data[a+r.t]=r.am(0,n.data[a],t,a,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&ge.ZERO.subTo(t,t)}function WE(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}function QE(e,t,r){var n=e.abs();if(!(n.t<=0)){var a=this.abs();if(a.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Tt());var s=Tt(),l=this.s,u=e.s,c=this.DB-uo(n.data[n.t-1]);c>0?(n.lShiftTo(c,s),a.lShiftTo(c,r)):(n.copyTo(s),a.copyTo(r));var f=s.t,h=s.data[f-1];if(h!=0){var p=h*(1<<this.F1)+(f>1?s.data[f-2]>>this.F2:0),v=this.FV/p,x=(1<<this.F1)/p,g=1<<this.F2,E=r.t,m=E-f,B=t??Tt();for(s.dlShiftTo(m,B),r.compareTo(B)>=0&&(r.data[r.t++]=1,r.subTo(B,r)),ge.ONE.dlShiftTo(f,B),B.subTo(s,s);s.t<f;)s.data[s.t++]=0;for(;--m>=0;){var _=r.data[--E]==h?this.DM:Math.floor(r.data[E]*v+(r.data[E-1]+g)*x);if((r.data[E]+=s.am(0,_,r,m,0,f))<_)for(s.dlShiftTo(m,B),r.subTo(B,r);r.data[E]<--_;)r.subTo(B,r)}t!=null&&(r.drShiftTo(f,t),l!=u&&ge.ZERO.subTo(t,t)),r.t=f,r.clamp(),c>0&&r.rShiftTo(c,r),l<0&&ge.ZERO.subTo(r,r)}}}function YE(e){var t=Tt();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(ge.ZERO)>0&&e.subTo(t,t),t}function ga(e){this.m=e}function XE(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function ZE(e){return e}function jE(e){e.divRemTo(this.m,null,e)}function JE(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function $E(e,t){e.squareTo(t),this.reduce(t)}ga.prototype.convert=XE;ga.prototype.revert=ZE;ga.prototype.reduce=jE;ga.prototype.mulTo=JE;ga.prototype.sqrTo=$E;function e4(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function ya(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function t4(e){var t=Tt();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(ge.ZERO)>0&&this.m.subTo(t,t),t}function r4(e){var t=Tt();return e.copyTo(t),this.reduce(t),t}function n4(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function i4(e,t){e.squareTo(t),this.reduce(t)}function a4(e,t,r){e.multiplyTo(t,r),this.reduce(r)}ya.prototype.convert=t4;ya.prototype.revert=r4;ya.prototype.reduce=n4;ya.prototype.mulTo=a4;ya.prototype.sqrTo=i4;function s4(){return(this.t>0?this.data[0]&1:this.s)==0}function o4(e,t){if(e>4294967295||e<1)return ge.ONE;var r=Tt(),n=Tt(),a=t.convert(this),s=uo(e)-1;for(a.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,a,r);else{var l=r;r=n,n=l}return t.revert(r)}function l4(e,t){var r;return e<256||t.isEven()?r=new ga(t):r=new ya(t),this.exp(e,r)}ge.prototype.copyTo=RE;ge.prototype.fromInt=NE;ge.prototype.fromString=kE;ge.prototype.clamp=FE;ge.prototype.dlShiftTo=VE;ge.prototype.drShiftTo=KE;ge.prototype.lShiftTo=HE;ge.prototype.rShiftTo=zE;ge.prototype.subTo=qE;ge.prototype.multiplyTo=GE;ge.prototype.squareTo=WE;ge.prototype.divRemTo=QE;ge.prototype.invDigit=e4;ge.prototype.isEven=s4;ge.prototype.exp=o4;ge.prototype.toString=LE;ge.prototype.negate=PE;ge.prototype.abs=UE;ge.prototype.compareTo=OE;ge.prototype.bitLength=ME;ge.prototype.mod=YE;ge.prototype.modPowInt=l4;ge.ZERO=Ui(0);ge.ONE=Ui(1);function u4(){var e=Tt();return this.copyTo(e),e}function f4(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function c4(){return this.t==0?this.s:this.data[0]<<24>>24}function h4(){return this.t==0?this.s:this.data[0]<<16>>16}function d4(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function p4(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function v4(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=Ui(r),a=Tt(),s=Tt(),l="";for(this.divRemTo(n,a,s);a.signum()>0;)l=(r+s.intValue()).toString(e).substr(1)+l,a.divRemTo(n,a,s);return s.intValue().toString(e)+l}function x4(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),a=!1,s=0,l=0,u=0;u<e.length;++u){var c=Sp(e,u);if(c<0){e.charAt(u)=="-"&&this.signum()==0&&(a=!0);continue}l=t*l+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(l,0),s=0,l=0)}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(l,0)),a&&ge.ZERO.subTo(this,this)}function g4(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(ge.ONE.shiftLeft(e-1),$u,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(ge.ONE.shiftLeft(e-1),this);else{var n=new Array,a=e&7;n.length=(e>>3)+1,t.nextBytes(n),a>0?n[0]&=(1<<a)-1:n[0]=0,this.fromString(n,256)}}function y4(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,a=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[a++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),a==0&&(this.s&128)!=(n&128)&&++a,(a>0||n!=this.s)&&(t[a++]=n);return t}function m4(e){return this.compareTo(e)==0}function C4(e){return this.compareTo(e)<0?this:e}function E4(e){return this.compareTo(e)>0?this:e}function _4(e,t,r){var n,a,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(a=e.s&this.DM,n=s;n<this.t;++n)r.data[n]=t(this.data[n],a);r.t=this.t}else{for(a=this.s&this.DM,n=s;n<e.t;++n)r.data[n]=t(a,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function A4(e,t){return e&t}function B4(e){var t=Tt();return this.bitwiseTo(e,A4,t),t}function $u(e,t){return e|t}function b4(e){var t=Tt();return this.bitwiseTo(e,$u,t),t}function Tp(e,t){return e^t}function S4(e){var t=Tt();return this.bitwiseTo(e,Tp,t),t}function Ip(e,t){return e&~t}function T4(e){var t=Tt();return this.bitwiseTo(e,Ip,t),t}function I4(){for(var e=Tt(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function w4(e){var t=Tt();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function D4(e){var t=Tt();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function R4(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}function N4(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+R4(this.data[e]);return this.s<0?this.t*this.DB:-1}function k4(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function F4(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=k4(this.data[r]^t);return e}function L4(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}function P4(e,t){var r=ge.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function U4(e){return this.changeBit(e,$u)}function O4(e){return this.changeBit(e,Ip)}function M4(e){return this.changeBit(e,Tp)}function V4(e,t){for(var r=0,n=0,a=Math.min(e.t,this.t);r<a;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}function K4(e){var t=Tt();return this.addTo(e,t),t}function H4(e){var t=Tt();return this.subTo(e,t),t}function z4(e){var t=Tt();return this.multiplyTo(e,t),t}function q4(e){var t=Tt();return this.divRemTo(e,t,null),t}function G4(e){var t=Tt();return this.divRemTo(e,null,t),t}function W4(e){var t=Tt(),r=Tt();return this.divRemTo(e,t,r),new Array(t,r)}function Q4(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Y4(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function P0(){}function wp(e){return e}function X4(e,t,r){e.multiplyTo(t,r)}function Z4(e,t){e.squareTo(t)}P0.prototype.convert=wp;P0.prototype.revert=wp;P0.prototype.mulTo=X4;P0.prototype.sqrTo=Z4;function j4(e){return this.exp(e,new P0)}function J4(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var a;for(a=r.t-this.t;n<a;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(a=Math.min(e.t,t);n<a;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}function $4(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}function $a(e){this.r2=Tt(),this.q3=Tt(),ge.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function e_(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Tt();return e.copyTo(t),this.reduce(t),t}function t_(e){return e}function r_(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function n_(e,t){e.squareTo(t),this.reduce(t)}function i_(e,t,r){e.multiplyTo(t,r),this.reduce(r)}$a.prototype.convert=e_;$a.prototype.revert=t_;$a.prototype.reduce=r_;$a.prototype.mulTo=i_;$a.prototype.sqrTo=n_;function a_(e,t){var r=e.bitLength(),n,a=Ui(1),s;if(r<=0)return a;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new ga(t):t.isEven()?s=new $a(t):s=new ya(t);var l=new Array,u=3,c=n-1,f=(1<<n)-1;if(l[1]=s.convert(this),n>1){var h=Tt();for(s.sqrTo(l[1],h);u<=f;)l[u]=Tt(),s.mulTo(h,l[u-2],l[u]),u+=2}var p=e.t-1,v,x=!0,g=Tt(),E;for(r=uo(e.data[p])-1;p>=0;){for(r>=c?v=e.data[p]>>r-c&f:(v=(e.data[p]&(1<<r+1)-1)<<c-r,p>0&&(v|=e.data[p-1]>>this.DB+r-c)),u=n;!(v&1);)v>>=1,--u;if((r-=u)<0&&(r+=this.DB,--p),x)l[v].copyTo(a),x=!1;else{for(;u>1;)s.sqrTo(a,g),s.sqrTo(g,a),u-=2;u>0?s.sqrTo(a,g):(E=a,a=g,g=E),s.mulTo(g,l[v],a)}for(;p>=0&&!(e.data[p]&1<<r);)s.sqrTo(a,g),E=a,a=g,g=E,--r<0&&(r=this.DB-1,--p)}return s.revert(a)}function s_(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var a=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(a<s&&(s=a),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(a=t.getLowestSetBit())>0&&t.rShiftTo(a,t),(a=r.getLowestSetBit())>0&&r.rShiftTo(a,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function o_(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}function l_(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return ge.ZERO;for(var r=e.clone(),n=this.clone(),a=Ui(1),s=Ui(0),l=Ui(0),u=Ui(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!a.isEven()||!s.isEven())&&(a.addTo(this,a),s.subTo(e,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?((!l.isEven()||!u.isEven())&&(l.addTo(this,l),u.subTo(e,u)),l.rShiftTo(1,l)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);r.compareTo(n)>=0?(r.subTo(n,r),t&&a.subTo(l,a),s.subTo(u,s)):(n.subTo(r,n),t&&l.subTo(a,l),u.subTo(s,u))}if(n.compareTo(ge.ONE)!=0)return ge.ZERO;if(u.compareTo(e)>=0)return u.subtract(e);if(u.signum()<0)u.addTo(e,u);else return u;return u.signum()<0?u.add(e):u}var Un=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],u_=(1<<26)/Un[Un.length-1];function f_(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=Un[Un.length-1]){for(t=0;t<Un.length;++t)if(r.data[0]==Un[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<Un.length;){for(var n=Un[t],a=t+1;a<Un.length&&n<u_;)n*=Un[a++];for(n=r.modInt(n);t<a;)if(n%Un[t++]==0)return!1}return r.millerRabin(e)}function c_(e){var t=this.subtract(ge.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),a=h_(),s,l=0;l<e;++l){do s=new ge(this.bitLength(),a);while(s.compareTo(ge.ONE)<=0||s.compareTo(t)>=0);var u=s.modPow(n,this);if(u.compareTo(ge.ONE)!=0&&u.compareTo(t)!=0){for(var c=1;c++<r&&u.compareTo(t)!=0;)if(u=u.modPowInt(2,this),u.compareTo(ge.ONE)==0)return!1;if(u.compareTo(t)!=0)return!1}}return!0}function h_(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}ge.prototype.chunkSize=d4;ge.prototype.toRadix=v4;ge.prototype.fromRadix=x4;ge.prototype.fromNumber=g4;ge.prototype.bitwiseTo=_4;ge.prototype.changeBit=P4;ge.prototype.addTo=V4;ge.prototype.dMultiply=Q4;ge.prototype.dAddOffset=Y4;ge.prototype.multiplyLowerTo=J4;ge.prototype.multiplyUpperTo=$4;ge.prototype.modInt=o_;ge.prototype.millerRabin=c_;ge.prototype.clone=u4;ge.prototype.intValue=f4;ge.prototype.byteValue=c4;ge.prototype.shortValue=h4;ge.prototype.signum=p4;ge.prototype.toByteArray=y4;ge.prototype.equals=m4;ge.prototype.min=C4;ge.prototype.max=E4;ge.prototype.and=B4;ge.prototype.or=b4;ge.prototype.xor=S4;ge.prototype.andNot=T4;ge.prototype.not=I4;ge.prototype.shiftLeft=w4;ge.prototype.shiftRight=D4;ge.prototype.getLowestSetBit=N4;ge.prototype.bitCount=F4;ge.prototype.testBit=L4;ge.prototype.setBit=U4;ge.prototype.clearBit=O4;ge.prototype.flipBit=M4;ge.prototype.add=K4;ge.prototype.subtract=H4;ge.prototype.multiply=z4;ge.prototype.divide=q4;ge.prototype.remainder=G4;ge.prototype.divideAndRemainder=W4;ge.prototype.modPow=a_;ge.prototype.modInverse=l_;ge.prototype.pow=j4;ge.prototype.gcd=s_;ge.prototype.isProbablePrime=f_;var jn=dt,Dp=jn.sha1=jn.sha1||{};jn.md.sha1=jn.md.algorithms.sha1=Dp;Dp.create=function(){Rp||d_();var e=null,t=jn.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var a=n.messageLengthSize/4,s=0;s<a;++s)n.fullMessageLength.push(0);return t=jn.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(a,s){s==="utf8"&&(a=jn.util.encodeUtf8(a));var l=a.length;n.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var u=n.fullMessageLength.length-1;u>=0;--u)n.fullMessageLength[u]+=l[1],l[1]=l[0]+(n.fullMessageLength[u]/4294967296>>>0),n.fullMessageLength[u]=n.fullMessageLength[u]>>>0,l[0]=l[1]/4294967296>>>0;return t.putBytes(a),Ad(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var a=jn.util.createBuffer();a.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,l=s&n.blockLength-1;a.putBytes(Du.substr(0,n.blockLength-l));for(var u,c,f=n.fullMessageLength[0]*8,h=0;h<n.fullMessageLength.length-1;++h)u=n.fullMessageLength[h+1]*8,c=u/4294967296>>>0,f+=c,a.putInt32(f>>>0),f=u>>>0;a.putInt32(f);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};Ad(p,r,a);var v=jn.util.createBuffer();return v.putInt32(p.h0),v.putInt32(p.h1),v.putInt32(p.h2),v.putInt32(p.h3),v.putInt32(p.h4),v},n};var Du=null,Rp=!1;function d_(){Du=String.fromCharCode(128),Du+=jn.util.fillString(String.fromCharCode(0),64),Rp=!0}function Ad(e,t,r){for(var n,a,s,l,u,c,f,h,p=r.length();p>=64;){for(a=e.h0,s=e.h1,l=e.h2,u=e.h3,c=e.h4,h=0;h<16;++h)n=r.getInt32(),t[h]=n,f=u^s&(l^u),n=(a<<5|a>>>27)+f+c+1518500249+n,c=u,u=l,l=(s<<30|s>>>2)>>>0,s=a,a=n;for(;h<20;++h)n=t[h-3]^t[h-8]^t[h-14]^t[h-16],n=n<<1|n>>>31,t[h]=n,f=u^s&(l^u),n=(a<<5|a>>>27)+f+c+1518500249+n,c=u,u=l,l=(s<<30|s>>>2)>>>0,s=a,a=n;for(;h<32;++h)n=t[h-3]^t[h-8]^t[h-14]^t[h-16],n=n<<1|n>>>31,t[h]=n,f=s^l^u,n=(a<<5|a>>>27)+f+c+1859775393+n,c=u,u=l,l=(s<<30|s>>>2)>>>0,s=a,a=n;for(;h<40;++h)n=t[h-6]^t[h-16]^t[h-28]^t[h-32],n=n<<2|n>>>30,t[h]=n,f=s^l^u,n=(a<<5|a>>>27)+f+c+1859775393+n,c=u,u=l,l=(s<<30|s>>>2)>>>0,s=a,a=n;for(;h<60;++h)n=t[h-6]^t[h-16]^t[h-28]^t[h-32],n=n<<2|n>>>30,t[h]=n,f=s&l|u&(s^l),n=(a<<5|a>>>27)+f+c+2400959708+n,c=u,u=l,l=(s<<30|s>>>2)>>>0,s=a,a=n;for(;h<80;++h)n=t[h-6]^t[h-16]^t[h-28]^t[h-32],n=n<<2|n>>>30,t[h]=n,f=s^l^u,n=(a<<5|a>>>27)+f+c+3395469782+n,c=u,u=l,l=(s<<30|s>>>2)>>>0,s=a,a=n;e.h0=e.h0+a|0,e.h1=e.h1+s|0,e.h2=e.h2+l|0,e.h3=e.h3+u|0,e.h4=e.h4+c|0,p-=64}}var Jn=dt,Np=Jn.pkcs1=Jn.pkcs1||{};Np.encode_rsa_oaep=function(e,t,r){var n,a,s,l;typeof r=="string"?(n=r,a=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,a=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(l=r.mgf1.md)),s?s.start():s=Jn.md.sha1.create(),l||(l=s);var u=Math.ceil(e.n.bitLength()/8),c=u-2*s.digestLength-2;if(t.length>c){var f=new Error("RSAES-OAEP input message length is too long.");throw f.length=t.length,f.maxLength=c,f}n||(n=""),s.update(n,"raw");for(var h=s.digest(),p="",v=c-t.length,x=0;x<v;x++)p+="\0";var g=h.getBytes()+p+""+t;if(!a)a=Jn.random.getBytes(s.digestLength);else if(a.length!==s.digestLength){var f=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw f.seedLength=a.length,f.digestLength=s.digestLength,f}var E=qs(a,u-s.digestLength-1,l),m=Jn.util.xorBytes(g,E,g.length),B=qs(m,s.digestLength,l),_=Jn.util.xorBytes(a,B,a.length);return"\0"+_+m};Np.decode_rsa_oaep=function(e,t,r){var n,a,s;typeof r=="string"?(n=r,a=arguments[3]||void 0):r&&(n=r.label||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var l=Math.ceil(e.n.bitLength()/8);if(t.length!==l){var m=new Error("RSAES-OAEP encoded message length is invalid.");throw m.length=t.length,m.expectedLength=l,m}if(a===void 0?a=Jn.md.sha1.create():a.start(),s||(s=a),l<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),a.update(n,"raw");for(var u=a.digest().getBytes(),c=t.charAt(0),f=t.substring(1,a.digestLength+1),h=t.substring(1+a.digestLength),p=qs(h,a.digestLength,s),v=Jn.util.xorBytes(f,p,f.length),x=qs(v,l-a.digestLength-1,s),g=Jn.util.xorBytes(h,x,h.length),E=g.substring(0,a.digestLength),m=c!=="\0",B=0;B<a.digestLength;++B)m|=u.charAt(B)!==E.charAt(B);for(var _=1,C=a.digestLength,S=a.digestLength;S<g.length;S++){var F=g.charCodeAt(S),k=F&1^1,L=_?65534:0;m|=F&L,_=_&k,C+=_}if(m||g.charCodeAt(C)!==1)throw new Error("Invalid RSAES-OAEP padding.");return g.substring(C+1)};function qs(e,t,r){r||(r=Jn.md.sha1.create());for(var n="",a=Math.ceil(t/r.digestLength),s=0;s<a;++s){var l=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(e+l),n+=r.digest().getBytes()}return n.substring(0,t)}var Di=dt;(function(){if(Di.prime){Di.prime;return}var e=Di.prime=Di.prime||{},t=Di.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var a=function(p,v){return p|v};e.generateProbablePrime=function(p,v,x){typeof v=="function"&&(x=v,v={}),v=v||{};var g=v.algorithm||"PRIMEINC";typeof g=="string"&&(g={name:g}),g.options=g.options||{};var E=v.prng||Di.random,m={nextBytes:function(B){for(var _=E.getBytesSync(B.length),C=0;C<B.length;++C)B[C]=_.charCodeAt(C)}};if(g.name==="PRIMEINC")return s(p,m,g.options,x);throw new Error("Invalid prime generation algorithm: "+g.name)};function s(p,v,x,g){return"workers"in x?c(p,v,x,g):l(p,v,x,g)}function l(p,v,x,g){var E=f(p,v),m=0,B=h(E.bitLength());"millerRabinTests"in x&&(B=x.millerRabinTests);var _=10;"maxBlockTime"in x&&(_=x.maxBlockTime),u(E,p,v,m,B,_,g)}function u(p,v,x,g,E,m,B){var _=+new Date;do{if(p.bitLength()>v&&(p=f(v,x)),p.isProbablePrime(E))return B(null,p);p.dAddOffset(r[g++%8],0)}while(m<0||+new Date-_<m);Di.util.setImmediate(function(){u(p,v,x,g,E,m,B)})}function c(p,v,x,g){if(typeof Worker>"u")return l(p,v,x,g);var E=f(p,v),m=x.workers,B=x.workLoad||100,_=B*30/8,C=x.workerScript||"forge/prime.worker.js";if(m===-1)return Di.util.estimateCores(function(F,k){F&&(k=2),m=k-1,S()});S();function S(){m=Math.max(1,m);for(var F=[],k=0;k<m;++k)F[k]=new Worker(C);for(var k=0;k<m;++k)F[k].addEventListener("message",R);var L=!1;function R(q){if(!L){var P=q.data;if(P.found){for(var O=0;O<F.length;++O)F[O].terminate();return L=!0,g(null,new t(P.prime,16))}E.bitLength()>p&&(E=f(p,v));var H=E.toString(16);q.target.postMessage({hex:H,workLoad:B}),E.dAddOffset(_,0)}}}}function f(p,v){var x=new t(p,v),g=p-1;return x.testBit(g)||x.bitwiseTo(t.ONE.shiftLeft(g),a,x),x.dAddOffset(31-x.mod(n).byteValue(),0),x}function h(p){return p<=100?27:p<=150?18:p<=200?15:p<=250?12:p<=300?9:p<=350?8:p<=400?7:p<=500?6:p<=600?5:p<=800?4:p<=1250?3:2}})();var ze=dt;if(typeof St>"u")var St=ze.jsbn.BigInteger;var Ru=ze.util.isNodejs?to:null,te=ze.asn1,Bn=ze.util;ze.pki=ze.pki||{};ze.pki.rsa=ze.rsa=ze.rsa||{};var nt=ze.pki,p_=[6,4,2,4,2,4,6,2],v_={name:"PrivateKeyInfo",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:te.Class.UNIVERSAL,type:te.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:te.Class.UNIVERSAL,type:te.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},x_={name:"RSAPrivateKey",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},g_={name:"RSAPublicKey",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},y_=ze.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:te.Class.UNIVERSAL,type:te.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:te.Class.UNIVERSAL,type:te.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},m_={name:"DigestInfo",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:te.Class.UNIVERSAL,type:te.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:te.Class.UNIVERSAL,type:te.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:te.Class.UNIVERSAL,type:te.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},C_=function(e){var t;if(e.algorithm in nt.oids)t=nt.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=te.oidToDer(t).getBytes(),a=te.create(te.Class.UNIVERSAL,te.Type.SEQUENCE,!0,[]),s=te.create(te.Class.UNIVERSAL,te.Type.SEQUENCE,!0,[]);s.value.push(te.create(te.Class.UNIVERSAL,te.Type.OID,!1,n)),s.value.push(te.create(te.Class.UNIVERSAL,te.Type.NULL,!1,""));var l=te.create(te.Class.UNIVERSAL,te.Type.OCTETSTRING,!1,e.digest().getBytes());return a.value.push(s),a.value.push(l),te.toDer(a).getBytes()},kp=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(St.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(St.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new St(ze.util.bytesToHex(ze.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(St.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var a=e.mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);a.compareTo(s)<0;)a=a.add(t.p);var l=a.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return l=l.multiply(n.modInverse(t.n)).mod(t.n),l};nt.rsa.encrypt=function(e,t,r){var n=r,a,s=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,a=Fp(e,t,r)):(a=ze.util.createBuffer(),a.putBytes(e));for(var l=new St(a.toHex(),16),u=kp(l,t,n),c=u.toString(16),f=ze.util.createBuffer(),h=s-Math.ceil(c.length/2);h>0;)f.putByte(0),--h;return f.putBytes(ze.util.hexToBytes(c)),f.getBytes()};nt.rsa.decrypt=function(e,t,r,n){var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=a,s}var l=new St(ze.util.createBuffer(e).toHex(),16);if(l.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var u=kp(l,t,r),c=u.toString(16),f=ze.util.createBuffer(),h=a-Math.ceil(c.length/2);h>0;)f.putByte(0),--h;return f.putBytes(ze.util.hexToBytes(c)),n!==!1?Gs(f.getBytes(),t,r):f.getBytes()};nt.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||ze.random,a={nextBytes:function(u){for(var c=n.getBytesSync(u.length),f=0;f<u.length;++f)u[f]=c.charCodeAt(f)}},s=r.algorithm||"PRIMEINC",l;if(s==="PRIMEINC")l={algorithm:s,state:0,bits:e,rng:a,eInt:t||65537,e:new St(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},l.e.fromInt(l.eInt);else throw new Error("Invalid key generation algorithm: "+s);return l};nt.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new St(null);r.fromInt(30);for(var n=0,a=function(p,v){return p|v},s=+new Date,l,u=0;e.keys===null&&(t<=0||u<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,f=c-1;e.pqState===0?(e.num=new St(c,e.rng),e.num.testBit(f)||e.num.bitwiseTo(St.ONE.shiftLeft(f),a,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(__(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(p_[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(St.ONE).gcd(e.e).compareTo(St.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(St.ONE),e.q1=e.q.subtract(St.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(St.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var h=e.e.modInverse(e.phi);e.keys={privateKey:nt.rsa.setPrivateKey(e.n,e.e,h,e.p,e.q,h.mod(e.p1),h.mod(e.q1),e.q.modInverse(e.p)),publicKey:nt.rsa.setPublicKey(e.n,e.e)}}l=+new Date,u+=l-s,s=l}return e.keys!==null};nt.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!ze.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(Bd("generateKeyPair"))return Ru.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(u,c,f){if(u)return n(u);n(null,{privateKey:nt.privateKeyFromPem(f),publicKey:nt.publicKeyFromPem(c)})});if(bd("generateKey")&&bd("exportKey"))return Bn.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:Td(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(u){return Bn.globalScope.crypto.subtle.exportKey("pkcs8",u.privateKey)}).then(void 0,function(u){n(u)}).then(function(u){if(u){var c=nt.privateKeyFromAsn1(te.fromDer(ze.util.createBuffer(u)));n(null,{privateKey:c,publicKey:nt.setRsaPublicKey(c.n,c.e)})}});if(Sd("generateKey")&&Sd("exportKey")){var a=Bn.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:Td(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);a.oncomplete=function(u){var c=u.target.result,f=Bn.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);f.oncomplete=function(h){var p=h.target.result,v=nt.privateKeyFromAsn1(te.fromDer(ze.util.createBuffer(p)));n(null,{privateKey:v,publicKey:nt.setRsaPublicKey(v.n,v.e)})},f.onerror=function(h){n(h)}},a.onerror=function(u){n(u)};return}}else if(Bd("generateKeyPairSync")){var s=Ru.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:nt.privateKeyFromPem(s.privateKey),publicKey:nt.publicKeyFromPem(s.publicKey)}}}var l=nt.rsa.createKeyPairGenerationState(e,t,r);if(!n)return nt.rsa.stepKeyPairGenerationState(l,0),l.keys;E_(l,r,n)};nt.setRsaPublicKey=nt.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,a,s){if(typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSAES-PKCS1-V1_5"),a==="RSAES-PKCS1-V1_5")a={encode:function(u,c,f){return Fp(u,c,2).getBytes()}};else if(a==="RSA-OAEP"||a==="RSAES-OAEP")a={encode:function(u,c){return ze.pkcs1.encode_rsa_oaep(c,u,s)}};else if(["RAW","NONE","NULL",null].indexOf(a)!==-1)a={encode:function(u){return u}};else if(typeof a=="string")throw new Error('Unsupported encryption scheme: "'+a+'".');var l=a.encode(n,r,!0);return nt.rsa.encrypt(l,r,!0)},r.verify=function(n,a,s,l){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),l===void 0&&(l={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in l||(l._parseAllDigestBytes=!0),s==="RSASSA-PKCS1-V1_5"?s={verify:function(c,f){f=Gs(f,r,!0);var h=te.fromDer(f,{parseAllBytes:l._parseAllDigestBytes}),p={},v=[];if(!te.validate(h,m_,p,v)){var x=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw x.errors=v,x}var g=te.derToOid(p.algorithmIdentifier);if(!(g===ze.oids.md2||g===ze.oids.md5||g===ze.oids.sha1||g===ze.oids.sha224||g===ze.oids.sha256||g===ze.oids.sha384||g===ze.oids.sha512||g===ze.oids["sha512-224"]||g===ze.oids["sha512-256"])){var x=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw x.oid=g,x}if((g===ze.oids.md2||g===ze.oids.md5)&&!("parameters"in p))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===p.digest}}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:function(c,f){return f=Gs(f,r,!0),c===f}});var u=nt.rsa.decrypt(a,r,!0,!1);return s.verify(n,u,r.n.bitLength())},r};nt.setRsaPrivateKey=nt.rsa.setPrivateKey=function(e,t,r,n,a,s,l,u){var c={n:e,e:t,d:r,p:n,q:a,dP:s,dQ:l,qInv:u};return c.decrypt=function(f,h,p){typeof h=="string"?h=h.toUpperCase():h===void 0&&(h="RSAES-PKCS1-V1_5");var v=nt.rsa.decrypt(f,c,!1,!1);if(h==="RSAES-PKCS1-V1_5")h={decode:Gs};else if(h==="RSA-OAEP"||h==="RSAES-OAEP")h={decode:function(x,g){return ze.pkcs1.decode_rsa_oaep(g,x,p)}};else if(["RAW","NONE","NULL",null].indexOf(h)!==-1)h={decode:function(x){return x}};else throw new Error('Unsupported encryption scheme: "'+h+'".');return h.decode(v,c,!1)},c.sign=function(f,h){var p=!1;typeof h=="string"&&(h=h.toUpperCase()),h===void 0||h==="RSASSA-PKCS1-V1_5"?(h={encode:C_},p=1):(h==="NONE"||h==="NULL"||h===null)&&(h={encode:function(){return f}},p=1);var v=h.encode(f,c.n.bitLength());return nt.rsa.encrypt(v,c,p)},c};nt.wrapRsaPrivateKey=function(e){return te.create(te.Class.UNIVERSAL,te.Type.SEQUENCE,!0,[te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,te.integerToDer(0).getBytes()),te.create(te.Class.UNIVERSAL,te.Type.SEQUENCE,!0,[te.create(te.Class.UNIVERSAL,te.Type.OID,!1,te.oidToDer(nt.oids.rsaEncryption).getBytes()),te.create(te.Class.UNIVERSAL,te.Type.NULL,!1,"")]),te.create(te.Class.UNIVERSAL,te.Type.OCTETSTRING,!1,te.toDer(e).getBytes())])};nt.privateKeyFromAsn1=function(e){var t={},r=[];if(te.validate(e,v_,t,r)&&(e=te.fromDer(ze.util.createBuffer(t.privateKey))),t={},r=[],!te.validate(e,x_,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var a,s,l,u,c,f,h,p;return a=ze.util.createBuffer(t.privateKeyModulus).toHex(),s=ze.util.createBuffer(t.privateKeyPublicExponent).toHex(),l=ze.util.createBuffer(t.privateKeyPrivateExponent).toHex(),u=ze.util.createBuffer(t.privateKeyPrime1).toHex(),c=ze.util.createBuffer(t.privateKeyPrime2).toHex(),f=ze.util.createBuffer(t.privateKeyExponent1).toHex(),h=ze.util.createBuffer(t.privateKeyExponent2).toHex(),p=ze.util.createBuffer(t.privateKeyCoefficient).toHex(),nt.setRsaPrivateKey(new St(a,16),new St(s,16),new St(l,16),new St(u,16),new St(c,16),new St(f,16),new St(h,16),new St(p,16))};nt.privateKeyToAsn1=nt.privateKeyToRSAPrivateKey=function(e){return te.create(te.Class.UNIVERSAL,te.Type.SEQUENCE,!0,[te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,te.integerToDer(0).getBytes()),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,qn(e.n)),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,qn(e.e)),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,qn(e.d)),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,qn(e.p)),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,qn(e.q)),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,qn(e.dP)),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,qn(e.dQ)),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,qn(e.qInv))])};nt.publicKeyFromAsn1=function(e){var t={},r=[];if(te.validate(e,y_,t,r)){var n=te.derToOid(t.publicKeyOid);if(n!==nt.oids.rsaEncryption){var a=new Error("Cannot read public key. Unknown OID.");throw a.oid=n,a}e=t.rsaPublicKey}if(r=[],!te.validate(e,g_,t,r)){var a=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw a.errors=r,a}var s=ze.util.createBuffer(t.publicKeyModulus).toHex(),l=ze.util.createBuffer(t.publicKeyExponent).toHex();return nt.setRsaPublicKey(new St(s,16),new St(l,16))};nt.publicKeyToAsn1=nt.publicKeyToSubjectPublicKeyInfo=function(e){return te.create(te.Class.UNIVERSAL,te.Type.SEQUENCE,!0,[te.create(te.Class.UNIVERSAL,te.Type.SEQUENCE,!0,[te.create(te.Class.UNIVERSAL,te.Type.OID,!1,te.oidToDer(nt.oids.rsaEncryption).getBytes()),te.create(te.Class.UNIVERSAL,te.Type.NULL,!1,"")]),te.create(te.Class.UNIVERSAL,te.Type.BITSTRING,!1,[nt.publicKeyToRSAPublicKey(e)])])};nt.publicKeyToRSAPublicKey=function(e){return te.create(te.Class.UNIVERSAL,te.Type.SEQUENCE,!0,[te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,qn(e.n)),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,qn(e.e))])};function Fp(e,t,r){var n=ze.util.createBuffer(),a=Math.ceil(t.n.bitLength()/8);if(e.length>a-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=e.length,s.max=a-11,s}n.putByte(0),n.putByte(r);var l=a-3-e.length,u;if(r===0||r===1){u=r===0?0:255;for(var c=0;c<l;++c)n.putByte(u)}else for(;l>0;){for(var f=0,h=ze.random.getBytes(l),c=0;c<l;++c)u=h.charCodeAt(c),u===0?++f:n.putByte(u);l=f}return n.putByte(0),n.putBytes(e),n}function Gs(e,t,r,n){var a=Math.ceil(t.n.bitLength()/8),s=ze.util.createBuffer(e),l=s.getByte(),u=s.getByte();if(l!==0||r&&u!==0&&u!==1||!r&&u!=2||r&&u===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(u===0){c=a-3-n;for(var f=0;f<c;++f)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(u===1)for(c=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++c}else if(u===2)for(c=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++c}var h=s.getByte();if(h!==0||c!==a-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function E_(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),a();function a(){s(e.pBits,function(u,c){if(u)return r(u);if(e.p=c,e.q!==null)return l(u,e.q);s(e.qBits,l)})}function s(u,c){ze.prime.generateProbablePrime(u,n,c)}function l(u,c){if(u)return r(u);if(e.q=c,e.p.compareTo(e.q)<0){var f=e.p;e.p=e.q,e.q=f}if(e.p.subtract(St.ONE).gcd(e.e).compareTo(St.ONE)!==0){e.p=null,a();return}if(e.q.subtract(St.ONE).gcd(e.e).compareTo(St.ONE)!==0){e.q=null,s(e.qBits,l);return}if(e.p1=e.p.subtract(St.ONE),e.q1=e.q.subtract(St.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(St.ONE)!==0){e.p=e.q=null,a();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,s(e.qBits,l);return}var h=e.e.modInverse(e.phi);e.keys={privateKey:nt.rsa.setPrivateKey(e.n,e.e,h,e.p,e.q,h.mod(e.p1),h.mod(e.q1),e.q.modInverse(e.p)),publicKey:nt.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}}function qn(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=ze.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function __(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function Bd(e){return ze.util.isNodejs&&typeof Ru[e]=="function"}function bd(e){return typeof Bn.globalScope<"u"&&typeof Bn.globalScope.crypto=="object"&&typeof Bn.globalScope.crypto.subtle=="object"&&typeof Bn.globalScope.crypto.subtle[e]=="function"}function Sd(e){return typeof Bn.globalScope<"u"&&typeof Bn.globalScope.msCrypto=="object"&&typeof Bn.globalScope.msCrypto.subtle=="object"&&typeof Bn.globalScope.msCrypto.subtle[e]=="function"}function Td(e){for(var t=ze.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}var Fe=dt;if(typeof A_>"u")var A_=Fe.jsbn.BigInteger;var fe=Fe.asn1,at=Fe.pki=Fe.pki||{};at.pbe=Fe.pbe=Fe.pbe||{};var aa=at.oids,B_={name:"EncryptedPrivateKeyInfo",tagClass:fe.Class.UNIVERSAL,type:fe.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:fe.Class.UNIVERSAL,type:fe.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:fe.Class.UNIVERSAL,type:fe.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:fe.Class.UNIVERSAL,type:fe.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:fe.Class.UNIVERSAL,type:fe.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},b_={name:"PBES2Algorithms",tagClass:fe.Class.UNIVERSAL,type:fe.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:fe.Class.UNIVERSAL,type:fe.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:fe.Class.UNIVERSAL,type:fe.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:fe.Class.UNIVERSAL,type:fe.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:fe.Class.UNIVERSAL,type:fe.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:fe.Class.UNIVERSAL,type:fe.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:fe.Class.UNIVERSAL,type:fe.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:fe.Class.UNIVERSAL,type:fe.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:fe.Class.UNIVERSAL,type:fe.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:fe.Class.UNIVERSAL,type:fe.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:fe.Class.UNIVERSAL,type:fe.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:fe.Class.UNIVERSAL,type:fe.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},S_={name:"pkcs-12PbeParams",tagClass:fe.Class.UNIVERSAL,type:fe.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:fe.Class.UNIVERSAL,type:fe.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:fe.Class.UNIVERSAL,type:fe.Type.INTEGER,constructed:!1,capture:"iterations"}]};at.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=Fe.random.getBytesSync(r.saltSize),a=r.count,s=fe.integerToDer(a),l,u,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var f,h,p;switch(r.algorithm){case"aes128":l=16,f=16,h=aa["aes128-CBC"],p=Fe.aes.createEncryptionCipher;break;case"aes192":l=24,f=16,h=aa["aes192-CBC"],p=Fe.aes.createEncryptionCipher;break;case"aes256":l=32,f=16,h=aa["aes256-CBC"],p=Fe.aes.createEncryptionCipher;break;case"des":l=8,f=8,h=aa.desCBC,p=Fe.des.createEncryptionCipher;break;default:var v=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw v.algorithm=r.algorithm,v}var x="hmacWith"+r.prfAlgorithm.toUpperCase(),g=Pp(x),E=Fe.pkcs5.pbkdf2(t,n,a,l,g),m=Fe.random.getBytesSync(f),B=p(E);B.start(m),B.update(fe.toDer(e)),B.finish(),c=B.output.getBytes();var _=T_(n,s,l,x);u=fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[fe.create(fe.Class.UNIVERSAL,fe.Type.OID,!1,fe.oidToDer(aa.pkcs5PBES2).getBytes()),fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[fe.create(fe.Class.UNIVERSAL,fe.Type.OID,!1,fe.oidToDer(aa.pkcs5PBKDF2).getBytes()),_]),fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[fe.create(fe.Class.UNIVERSAL,fe.Type.OID,!1,fe.oidToDer(h).getBytes()),fe.create(fe.Class.UNIVERSAL,fe.Type.OCTETSTRING,!1,m)])])])}else if(r.algorithm==="3des"){l=24;var C=new Fe.util.ByteBuffer(n),E=at.pbe.generatePkcs12Key(t,C,1,a,l),m=at.pbe.generatePkcs12Key(t,C,2,a,l),B=Fe.des.createEncryptionCipher(E);B.start(m),B.update(fe.toDer(e)),B.finish(),c=B.output.getBytes(),u=fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[fe.create(fe.Class.UNIVERSAL,fe.Type.OID,!1,fe.oidToDer(aa["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[fe.create(fe.Class.UNIVERSAL,fe.Type.OCTETSTRING,!1,n),fe.create(fe.Class.UNIVERSAL,fe.Type.INTEGER,!1,s.getBytes())])])}else{var v=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw v.algorithm=r.algorithm,v}var S=fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[u,fe.create(fe.Class.UNIVERSAL,fe.Type.OCTETSTRING,!1,c)]);return S};at.decryptPrivateKeyInfo=function(e,t){var r=null,n={},a=[];if(!fe.validate(e,B_,n,a)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=a,s}var l=fe.derToOid(n.encryptionOid),u=at.pbe.getCipher(l,n.encryptionParams,t),c=Fe.util.createBuffer(n.encryptedData);return u.update(c),u.finish()&&(r=fe.fromDer(u.output)),r};at.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:fe.toDer(e).getBytes()};return Fe.pem.encode(r,{maxline:t})};at.encryptedPrivateKeyFromPem=function(e){var t=Fe.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return fe.fromDer(t.body)};at.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=at.wrapRsaPrivateKey(at.privateKeyToAsn1(e));return n=at.encryptPrivateKeyInfo(n,t,r),at.encryptedPrivateKeyToPem(n)}var a,s,l,u;switch(r.algorithm){case"aes128":a="AES-128-CBC",l=16,s=Fe.random.getBytesSync(16),u=Fe.aes.createEncryptionCipher;break;case"aes192":a="AES-192-CBC",l=24,s=Fe.random.getBytesSync(16),u=Fe.aes.createEncryptionCipher;break;case"aes256":a="AES-256-CBC",l=32,s=Fe.random.getBytesSync(16),u=Fe.aes.createEncryptionCipher;break;case"3des":a="DES-EDE3-CBC",l=24,s=Fe.random.getBytesSync(8),u=Fe.des.createEncryptionCipher;break;case"des":a="DES-CBC",l=8,s=Fe.random.getBytesSync(8),u=Fe.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var f=Fe.pbe.opensslDeriveBytes(t,s.substr(0,8),l),h=u(f);h.start(s),h.update(fe.toDer(at.privateKeyToAsn1(e))),h.finish();var p={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:a,parameters:Fe.util.bytesToHex(s).toUpperCase()},body:h.output.getBytes()};return Fe.pem.encode(p)};at.decryptRsaPrivateKey=function(e,t){var r=null,n=Fe.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var a=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw a.headerType=a,a}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,l;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,l=Fe.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,l=Fe.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,l=Fe.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,l=Fe.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,l=Fe.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,l=function(p){return Fe.rc2.createDecryptionCipher(p,40)};break;case"RC2-64-CBC":s=8,l=function(p){return Fe.rc2.createDecryptionCipher(p,64)};break;case"RC2-128-CBC":s=16,l=function(p){return Fe.rc2.createDecryptionCipher(p,128)};break;default:var a=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw a.algorithm=n.dekInfo.algorithm,a}var u=Fe.util.hexToBytes(n.dekInfo.parameters),c=Fe.pbe.opensslDeriveBytes(t,u.substr(0,8),s),f=l(c);if(f.start(u),f.update(Fe.util.createBuffer(n.body)),f.finish())r=f.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=at.decryptPrivateKeyInfo(fe.fromDer(r),t):r=fe.fromDer(r),r!==null&&(r=at.privateKeyFromAsn1(r)),r};at.pbe.generatePkcs12Key=function(e,t,r,n,a,s){var l,u;if(typeof s>"u"||s===null){if(!("sha1"in Fe.md))throw new Error('"sha1" hash algorithm unavailable.');s=Fe.md.sha1.create()}var c=s.digestLength,f=s.blockLength,h=new Fe.util.ByteBuffer,p=new Fe.util.ByteBuffer;if(e!=null){for(u=0;u<e.length;u++)p.putInt16(e.charCodeAt(u));p.putInt16(0)}var v=p.length(),x=t.length(),g=new Fe.util.ByteBuffer;g.fillWithByte(r,f);var E=f*Math.ceil(x/f),m=new Fe.util.ByteBuffer;for(u=0;u<E;u++)m.putByte(t.at(u%x));var B=f*Math.ceil(v/f),_=new Fe.util.ByteBuffer;for(u=0;u<B;u++)_.putByte(p.at(u%v));var C=m;C.putBuffer(_);for(var S=Math.ceil(a/c),F=1;F<=S;F++){var k=new Fe.util.ByteBuffer;k.putBytes(g.bytes()),k.putBytes(C.bytes());for(var L=0;L<n;L++)s.start(),s.update(k.getBytes()),k=s.digest();var R=new Fe.util.ByteBuffer;for(u=0;u<f;u++)R.putByte(k.at(u%c));var q=Math.ceil(x/f)+Math.ceil(v/f),P=new Fe.util.ByteBuffer;for(l=0;l<q;l++){var O=new Fe.util.ByteBuffer(C.getBytes(f)),H=511;for(u=R.length()-1;u>=0;u--)H=H>>8,H+=R.at(u)+O.at(u),O.setAt(u,H&255);P.putBuffer(O)}C=P,h.putBuffer(k)}return h.truncate(h.length()-a),h};at.pbe.getCipher=function(e,t,r){switch(e){case at.oids.pkcs5PBES2:return at.pbe.getCipherForPBES2(e,t,r);case at.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case at.oids["pbewithSHAAnd40BitRC2-CBC"]:return at.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};at.pbe.getCipherForPBES2=function(e,t,r){var n={},a=[];if(!fe.validate(t,b_,n,a)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=a,s}if(e=fe.derToOid(n.kdfOid),e!==at.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=e,s.supportedOids=["pkcs5PBKDF2"],s}if(e=fe.derToOid(n.encOid),e!==at.oids["aes128-CBC"]&&e!==at.oids["aes192-CBC"]&&e!==at.oids["aes256-CBC"]&&e!==at.oids["des-EDE3-CBC"]&&e!==at.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=e,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var l=n.kdfSalt,u=Fe.util.createBuffer(n.kdfIterationCount);u=u.getInt(u.length()<<3);var c,f;switch(at.oids[e]){case"aes128-CBC":c=16,f=Fe.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,f=Fe.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,f=Fe.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,f=Fe.des.createDecryptionCipher;break;case"desCBC":c=8,f=Fe.des.createDecryptionCipher;break}var h=Lp(n.prfOid),p=Fe.pkcs5.pbkdf2(r,l,u,c,h),v=n.encIv,x=f(p);return x.start(v),x};at.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},a=[];if(!fe.validate(t,S_,n,a)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=a,s}var l=Fe.util.createBuffer(n.salt),u=Fe.util.createBuffer(n.iterations);u=u.getInt(u.length()<<3);var c,f,h;switch(e){case at.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,f=8,h=Fe.des.startDecrypting;break;case at.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,f=8,h=function(E,m){var B=Fe.rc2.createDecryptionCipher(E,40);return B.start(m,null),B};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=e,s}var p=Lp(n.prfOid),v=at.pbe.generatePkcs12Key(r,l,1,u,c,p);p.start();var x=at.pbe.generatePkcs12Key(r,l,2,u,f,p);return h(v,x)};at.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in Fe.md))throw new Error('"md5" hash algorithm unavailable.');n=Fe.md.md5.create()}t===null&&(t="");for(var a=[Id(n,e+t)],s=16,l=1;s<r;++l,s+=16)a.push(Id(n,a[l-1]+e+t));return a.join("").substr(0,r)};function Id(e,t){return e.start().update(t).digest().getBytes()}function Lp(e){var t;if(!e)t="hmacWithSHA1";else if(t=at.oids[fe.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return Pp(t)}function Pp(e){var t=Fe.md;switch(e){case"hmacWithSHA224":t=Fe.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function T_(e,t,r,n){var a=fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[fe.create(fe.Class.UNIVERSAL,fe.Type.OCTETSTRING,!1,e),fe.create(fe.Class.UNIVERSAL,fe.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&a.value.push(fe.create(fe.Class.UNIVERSAL,fe.Type.INTEGER,!1,Fe.util.hexToBytes(r.toString(16))),fe.create(fe.Class.UNIVERSAL,fe.Type.SEQUENCE,!0,[fe.create(fe.Class.UNIVERSAL,fe.Type.OID,!1,fe.oidToDer(at.oids[n]).getBytes()),fe.create(fe.Class.UNIVERSAL,fe.Type.NULL,!1,"")])),a}var Qa=dt,Re=Qa.asn1,e0=Qa.pkcs7asn1=Qa.pkcs7asn1||{};Qa.pkcs7=Qa.pkcs7||{};Qa.pkcs7.asn1=e0;var Up={name:"ContentInfo",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Re.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};e0.contentInfoValidator=Up;var Op={name:"EncryptedContentInfo",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Re.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Re.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};e0.envelopedDataValidator={name:"EnvelopedData",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(Op)};e0.encryptedDataValidator={name:"EncryptedData",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"version"}].concat(Op)};var I_={name:"SignerInfo",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Re.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Re.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Re.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};e0.signedDataValidator={name:"SignedData",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},Up,{name:"SignedData.Certificates",tagClass:Re.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Re.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SET,capture:"signerInfos",optional:!0,value:[I_]}]};e0.recipientInfoValidator={name:"RecipientInfo",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Re.Class.UNIVERSAL,type:Re.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Re.Class.UNIVERSAL,type:Re.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Re.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:Re.Class.UNIVERSAL,type:Re.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]};var pa=dt;pa.mgf=pa.mgf||{};var w_=pa.mgf.mgf1=pa.mgf1=pa.mgf1||{};w_.create=function(e){var t={generate:function(r,n){for(var a=new pa.util.ByteBuffer,s=Math.ceil(n/e.digestLength),l=0;l<s;l++){var u=new pa.util.ByteBuffer;u.putInt32(l),e.start(),e.update(r+u.getBytes()),a.putBuffer(e.digest())}return a.truncate(a.length()-n),a.getBytes()}};return t};var Ws=dt;Ws.mgf=Ws.mgf||{};Ws.mgf.mgf1=Ws.mgf1;var sa=dt,D_=sa.pss=sa.pss||{};D_.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,a=e.salt||null;typeof a=="string"&&(a=sa.util.createBuffer(a));var s;if("saltLength"in e)s=e.saltLength;else if(a!==null)s=a.length();else throw new Error("Salt length not specified or specific salt not given.");if(a!==null&&a.length()!==s)throw new Error("Given salt length does not match length of given salt.");var l=e.prng||sa.random,u={};return u.encode=function(c,f){var h,p=f-1,v=Math.ceil(p/8),x=c.digest().getBytes();if(v<n+s+2)throw new Error("Message is too long to encrypt.");var g;a===null?g=l.getBytesSync(s):g=a.bytes();var E=new sa.util.ByteBuffer;E.fillWithByte(0,8),E.putBytes(x),E.putBytes(g),t.start(),t.update(E.getBytes());var m=t.digest().getBytes(),B=new sa.util.ByteBuffer;B.fillWithByte(0,v-s-n-2),B.putByte(1),B.putBytes(g);var _=B.getBytes(),C=v-n-1,S=r.generate(m,C),F="";for(h=0;h<C;h++)F+=String.fromCharCode(_.charCodeAt(h)^S.charCodeAt(h));var k=65280>>8*v-p&255;return F=String.fromCharCode(F.charCodeAt(0)&~k)+F.substr(1),F+m+String.fromCharCode(188)},u.verify=function(c,f,h){var p,v=h-1,x=Math.ceil(v/8);if(f=f.substr(-x),x<n+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(f.charCodeAt(x-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var g=x-n-1,E=f.substr(0,g),m=f.substr(g,n),B=65280>>8*x-v&255;if(E.charCodeAt(0)&B)throw new Error("Bits beyond keysize not zero as expected.");var _=r.generate(m,g),C="";for(p=0;p<g;p++)C+=String.fromCharCode(E.charCodeAt(p)^_.charCodeAt(p));C=String.fromCharCode(C.charCodeAt(0)&~B)+C.substr(1);var S=x-n-s-2;for(p=0;p<S;p++)if(C.charCodeAt(p)!==0)throw new Error("Leftmost octets not zero as expected");if(C.charCodeAt(S)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var F=C.substr(-s),k=new sa.util.ByteBuffer;k.fillWithByte(0,8),k.putBytes(c),k.putBytes(F),t.start(),t.update(k.getBytes());var L=t.digest().getBytes();return m===L},u};var qe=dt,T=qe.asn1,Ee=qe.pki=qe.pki||{},Bt=Ee.oids,tr={};tr.CN=Bt.commonName;tr.commonName="CN";tr.C=Bt.countryName;tr.countryName="C";tr.L=Bt.localityName;tr.localityName="L";tr.ST=Bt.stateOrProvinceName;tr.stateOrProvinceName="ST";tr.O=Bt.organizationName;tr.organizationName="O";tr.OU=Bt.organizationalUnitName;tr.organizationalUnitName="OU";tr.E=Bt.emailAddress;tr.emailAddress="E";var Mp=qe.pki.rsa.publicKeyValidator,R_={name:"Certificate",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:T.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:T.Class.UNIVERSAL,type:T.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:T.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:T.Class.UNIVERSAL,type:T.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:T.Class.UNIVERSAL,type:T.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:T.Class.UNIVERSAL,type:T.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:T.Class.UNIVERSAL,type:T.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},Mp,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:T.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:T.Class.UNIVERSAL,type:T.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:T.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:T.Class.UNIVERSAL,type:T.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:T.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:T.Class.UNIVERSAL,type:T.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:T.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:T.Class.UNIVERSAL,type:T.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},N_={name:"rsapss",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:T.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:T.Class.UNIVERSAL,type:T.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:T.Class.UNIVERSAL,type:T.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:T.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:T.Class.UNIVERSAL,type:T.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:T.Class.UNIVERSAL,type:T.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:T.Class.UNIVERSAL,type:T.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:T.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:T.Class.UNIVERSAL,type:T.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:T.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:T.Class.UNIVERSAL,type:T.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},k_={name:"CertificationRequestInfo",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},Mp,{name:"CertificationRequestInfo.attributes",tagClass:T.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:T.Class.UNIVERSAL,type:T.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:T.Class.UNIVERSAL,type:T.Type.SET,constructed:!0}]}]}]},F_={name:"CertificationRequest",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[k_,{name:"CertificationRequest.signatureAlgorithm",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:T.Class.UNIVERSAL,type:T.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:T.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:T.Class.UNIVERSAL,type:T.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};Ee.RDNAttributesAsArray=function(e,t){for(var r=[],n,a,s,l=0;l<e.value.length;++l){n=e.value[l];for(var u=0;u<n.value.length;++u)s={},a=n.value[u],s.type=T.derToOid(a.value[0].value),s.value=a.value[1].value,s.valueTagClass=a.value[1].type,s.type in Bt&&(s.name=Bt[s.type],s.name in tr&&(s.shortName=tr[s.name])),t&&(t.update(s.type),t.update(s.value)),r.push(s)}return r};Ee.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],a=T.derToOid(n.value[0].value),s=n.value[1].value,l=0;l<s.length;++l){var u={};if(u.type=a,u.value=s[l].value,u.valueTagClass=s[l].type,u.type in Bt&&(u.name=Bt[u.type],u.name in tr&&(u.shortName=tr[u.name])),u.type===Bt.extensionRequest){u.extensions=[];for(var c=0;c<u.value.length;++c)u.extensions.push(Ee.certificateExtensionFromAsn1(u.value[c]))}t.push(u)}return t};function zi(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,a=0;r===null&&a<e.attributes.length;++a)n=e.attributes[a],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}var Qs=function(e,t,r){var n={};if(e!==Bt["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:Bt.sha1},mgf:{algorithmOid:Bt.mgf1,hash:{algorithmOid:Bt.sha1}},saltLength:20});var a={},s=[];if(!T.validate(t,N_,a,s)){var l=new Error("Cannot read RSASSA-PSS parameter block.");throw l.errors=s,l}return a.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=T.derToOid(a.hashOid)),a.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=T.derToOid(a.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=T.derToOid(a.maskGenHashOid)),a.saltLength!==void 0&&(n.saltLength=a.saltLength.charCodeAt(0)),n},fo=function(e){switch(Bt[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return qe.md.sha1.create();case"md5WithRSAEncryption":return qe.md.md5.create();case"sha256WithRSAEncryption":return qe.md.sha256.create();case"sha384WithRSAEncryption":return qe.md.sha384.create();case"sha512WithRSAEncryption":return qe.md.sha512.create();case"RSASSA-PSS":return qe.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},Vp=function(e){var t=e.certificate,r;switch(t.signatureOid){case Bt.sha1WithRSAEncryption:case Bt.sha1WithRSASignature:break;case Bt["RSASSA-PSS"]:var n,a;if(n=Bt[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||qe.md[n]===void 0){var s=new Error("Unsupported MGF hash function.");throw s.oid=t.signatureParameters.mgf.hash.algorithmOid,s.name=n,s}if(a=Bt[t.signatureParameters.mgf.algorithmOid],a===void 0||qe.mgf[a]===void 0){var s=new Error("Unsupported MGF function.");throw s.oid=t.signatureParameters.mgf.algorithmOid,s.name=a,s}if(a=qe.mgf[a].create(qe.md[n].create()),n=Bt[t.signatureParameters.hash.algorithmOid],n===void 0||qe.md[n]===void 0){var s=new Error("Unsupported RSASSA-PSS hash function.");throw s.oid=t.signatureParameters.hash.algorithmOid,s.name=n,s}r=qe.pss.create(qe.md[n].create(),a,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)};Ee.certificateFromPem=function(e,t,r){var n=qe.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var a=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw a.headerType=n.type,a}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=T.fromDer(n.body,r);return Ee.certificateFromAsn1(s,t)};Ee.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:T.toDer(Ee.certificateToAsn1(e)).getBytes()};return qe.pem.encode(r,{maxline:t})};Ee.publicKeyFromPem=function(e){var t=qe.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=T.fromDer(t.body);return Ee.publicKeyFromAsn1(n)};Ee.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:T.toDer(Ee.publicKeyToAsn1(e)).getBytes()};return qe.pem.encode(r,{maxline:t})};Ee.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:T.toDer(Ee.publicKeyToRSAPublicKey(e)).getBytes()};return qe.pem.encode(r,{maxline:t})};Ee.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||qe.md.sha1.create(),n=t.type||"RSAPublicKey",a;switch(n){case"RSAPublicKey":a=T.toDer(Ee.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":a=T.toDer(Ee.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(a);var s=r.digest();if(t.encoding==="hex"){var l=s.toHex();return t.delimiter?l.match(/.{2}/g).join(t.delimiter):l}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};Ee.certificationRequestFromPem=function(e,t,r){var n=qe.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var a=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw a.headerType=n.type,a}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=T.fromDer(n.body,r);return Ee.certificationRequestFromAsn1(s,t)};Ee.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:T.toDer(Ee.certificationRequestToAsn1(e)).getBytes()};return qe.pem.encode(r,{maxline:t})};Ee.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return zi(e.issuer,t)},e.issuer.addField=function(t){bn([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return zi(e.subject,t)},e.subject.addField=function(t){bn([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){bn(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){bn(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)Kp(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,a=0;r===null&&a<e.extensions.length;++a)n=e.extensions[a],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||qe.md.sha1.create();var n=Bt[e.md.algorithm+"WithRSAEncryption"];if(!n){var a=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw a.algorithm=e.md.algorithm,a}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=Ee.getTBSCertificate(e);var s=T.toDer(e.tbsCertificate);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,a=e.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=a.attributes,s.actualIssuer=n.attributes,s}var l=t.md;if(l===null){l=fo({signatureOid:t.signatureOid,type:"certificate"});var u=t.tbsCertificate||Ee.getTBSCertificate(t),c=T.toDer(u);l.update(c.getBytes())}return l!==null&&(r=Vp({certificate:e,md:l,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,a=t.subject;if(n.hash&&a.hash)r=n.hash===a.hash;else if(n.attributes.length===a.attributes.length){r=!0;for(var s,l,u=0;r&&u<n.attributes.length;++u)s=n.attributes[u],l=a.attributes[u],(s.type!==l.type||s.value!==l.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return Ee.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=Bt.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var a=e.generateSubjectKeyIdentifier().getBytes();return qe.util.hexToBytes(n.subjectKeyIdentifier)===a}}return!1},e};Ee.certificateFromAsn1=function(e,t){var r={},n=[];if(!T.validate(e,R_,r,n)){var a=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw a.errors=n,a}var s=T.derToOid(r.publicKeyOid);if(s!==Ee.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var l=Ee.createCertificate();l.version=r.certVersion?r.certVersion.charCodeAt(0):0;var u=qe.util.createBuffer(r.certSerialNumber);l.serialNumber=u.toHex(),l.signatureOid=qe.asn1.derToOid(r.certSignatureOid),l.signatureParameters=Qs(l.signatureOid,r.certSignatureParams,!0),l.siginfo.algorithmOid=qe.asn1.derToOid(r.certinfoSignatureOid),l.siginfo.parameters=Qs(l.siginfo.algorithmOid,r.certinfoSignatureParams,!1),l.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push(T.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push(T.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push(T.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push(T.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(l.validity.notBefore=c[0],l.validity.notAfter=c[1],l.tbsCertificate=r.tbsCertificate,t){l.md=fo({signatureOid:l.signatureOid,type:"certificate"});var f=T.toDer(l.tbsCertificate);l.md.update(f.getBytes())}var h=qe.md.sha1.create(),p=T.toDer(r.certIssuer);h.update(p.getBytes()),l.issuer.getField=function(g){return zi(l.issuer,g)},l.issuer.addField=function(g){bn([g]),l.issuer.attributes.push(g)},l.issuer.attributes=Ee.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(l.issuer.uniqueId=r.certIssuerUniqueId),l.issuer.hash=h.digest().toHex();var v=qe.md.sha1.create(),x=T.toDer(r.certSubject);return v.update(x.getBytes()),l.subject.getField=function(g){return zi(l.subject,g)},l.subject.addField=function(g){bn([g]),l.subject.attributes.push(g)},l.subject.attributes=Ee.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(l.subject.uniqueId=r.certSubjectUniqueId),l.subject.hash=v.digest().toHex(),r.certExtensions?l.extensions=Ee.certificateExtensionsFromAsn1(r.certExtensions):l.extensions=[],l.publicKey=Ee.publicKeyFromAsn1(r.subjectPublicKeyInfo),l};Ee.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],a=0;a<n.value.length;++a)t.push(Ee.certificateExtensionFromAsn1(n.value[a]));return t};Ee.certificateExtensionFromAsn1=function(e){var t={};if(t.id=T.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===T.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in Bt){if(t.name=Bt[t.id],t.name==="keyUsage"){var r=T.fromDer(t.value),n=0,a=0;r.value.length>1&&(n=r.value.charCodeAt(1),a=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(a&128)===128}else if(t.name==="basicConstraints"){var r=T.fromDer(t.value);r.value.length>0&&r.value[0].type===T.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var s=null;r.value.length>0&&r.value[0].type===T.Type.INTEGER?s=r.value[0].value:r.value.length>1&&(s=r.value[1].value),s!==null&&(t.pathLenConstraint=T.derToInteger(s))}else if(t.name==="extKeyUsage")for(var r=T.fromDer(t.value),l=0;l<r.value.length;++l){var u=T.derToOid(r.value[l].value);u in Bt?t[Bt[u]]=!0:t[u]=!0}else if(t.name==="nsCertType"){var r=T.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=T.fromDer(t.value),f=0;f<r.value.length;++f){c=r.value[f];var h={type:c.type,value:c.value};switch(t.altNames.push(h),c.type){case 1:case 2:case 6:break;case 7:h.ip=qe.util.bytesToIP(c.value);break;case 8:h.oid=T.derToOid(c.value);break}}}else if(t.name==="subjectKeyIdentifier"){var r=T.fromDer(t.value);t.subjectKeyIdentifier=qe.util.bytesToHex(r.value)}}return t};Ee.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!T.validate(e,F_,r,n)){var a=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw a.errors=n,a}var s=T.derToOid(r.publicKeyOid);if(s!==Ee.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var l=Ee.createCertificationRequest();if(l.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,l.signatureOid=qe.asn1.derToOid(r.csrSignatureOid),l.signatureParameters=Qs(l.signatureOid,r.csrSignatureParams,!0),l.siginfo.algorithmOid=qe.asn1.derToOid(r.csrSignatureOid),l.siginfo.parameters=Qs(l.siginfo.algorithmOid,r.csrSignatureParams,!1),l.signature=r.csrSignature,l.certificationRequestInfo=r.certificationRequestInfo,t){l.md=fo({signatureOid:l.signatureOid,type:"certification request"});var u=T.toDer(l.certificationRequestInfo);l.md.update(u.getBytes())}var c=qe.md.sha1.create();return l.subject.getField=function(f){return zi(l.subject,f)},l.subject.addField=function(f){bn([f]),l.subject.attributes.push(f)},l.subject.attributes=Ee.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),l.subject.hash=c.digest().toHex(),l.publicKey=Ee.publicKeyFromAsn1(r.subjectPublicKeyInfo),l.getAttribute=function(f){return zi(l,f)},l.addAttribute=function(f){bn([f]),l.attributes.push(f)},l.attributes=Ee.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),l};Ee.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return zi(e.subject,t)},e.subject.addField=function(t){bn([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return zi(e,t)},e.addAttribute=function(t){bn([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){bn(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){bn(t),e.attributes=t},e.sign=function(t,r){e.md=r||qe.md.sha1.create();var n=Bt[e.md.algorithm+"WithRSAEncryption"];if(!n){var a=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw a.algorithm=e.md.algorithm,a}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=Ee.getCertificationRequestInfo(e);var s=T.toDer(e.certificationRequestInfo);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=fo({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||Ee.getCertificationRequestInfo(e),a=T.toDer(n);r.update(a.getBytes())}return r!==null&&(t=Vp({certificate:e,md:r,signature:e.signature})),t},e};function Ya(e){for(var t=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[]),r,n,a=e.attributes,s=0;s<a.length;++s){r=a[s];var l=r.value,u=T.Type.PRINTABLESTRING;"valueTagClass"in r&&(u=r.valueTagClass,u===T.Type.UTF8&&(l=qe.util.encodeUtf8(l))),n=T.create(T.Class.UNIVERSAL,T.Type.SET,!0,[T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(r.type).getBytes()),T.create(T.Class.UNIVERSAL,u,!1,l)])]),t.value.push(n)}return t}function bn(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in Ee.oids?t.name=Ee.oids[t.type]:t.shortName&&t.shortName in tr&&(t.name=Ee.oids[tr[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in Ee.oids)t.type=Ee.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in tr&&(t.shortName=tr[t.name]),t.type===Bt.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=T.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var a=0;a<t.extensions.length;++a)t.value.push(Ee.certificateExtensionToAsn1(Kp(t.extensions[a])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}function Kp(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in Ee.oids&&(e.name=Ee.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in Ee.oids)e.id=Ee.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,a=0,s=0;e.digitalSignature&&(a|=128,n=7),e.nonRepudiation&&(a|=64,n=6),e.keyEncipherment&&(a|=32,n=5),e.dataEncipherment&&(a|=16,n=4),e.keyAgreement&&(a|=8,n=3),e.keyCertSign&&(a|=4,n=2),e.cRLSign&&(a|=2,n=1),e.encipherOnly&&(a|=1,n=0),e.decipherOnly&&(s|=128,n=7);var l=String.fromCharCode(n);s!==0?l+=String.fromCharCode(a)+String.fromCharCode(s):a!==0&&(l+=String.fromCharCode(a)),e.value=T.create(T.Class.UNIVERSAL,T.Type.BITSTRING,!1,l)}else if(e.name==="basicConstraints")e.value=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(T.create(T.Class.UNIVERSAL,T.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,T.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[]);var u=e.value.value;for(var c in e)e[c]===!0&&(c in Bt?u.push(T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(Bt[c]).getBytes())):c.indexOf(".")!==-1&&u.push(T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,a=0;e.client&&(a|=128,n=7),e.server&&(a|=64,n=6),e.email&&(a|=32,n=5),e.objsign&&(a|=16,n=4),e.reserved&&(a|=8,n=3),e.sslCA&&(a|=4,n=2),e.emailCA&&(a|=2,n=1),e.objCA&&(a|=1,n=0);var l=String.fromCharCode(n);a!==0&&(l+=String.fromCharCode(a)),e.value=T.create(T.Class.UNIVERSAL,T.Type.BITSTRING,!1,l)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[]);for(var f,h=0;h<e.altNames.length;++h){f=e.altNames[h];var l=f.value;if(f.type===7&&f.ip){if(l=qe.util.bytesFromIP(f.ip),l===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else f.type===8&&(f.oid?l=T.oidToDer(T.oidToDer(f.oid)):l=T.oidToDer(l));e.value.value.push(T.create(T.Class.CONTEXT_SPECIFIC,f.type,!1,l))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=T.create(T.Class.UNIVERSAL,T.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var p=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=p.toHex(),e.value=T.create(T.Class.UNIVERSAL,T.Type.OCTETSTRING,!1,p.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[]);var u=e.value.value;if(e.keyIdentifier){var v=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;u.push(T.create(T.Class.CONTEXT_SPECIFIC,0,!1,v))}if(e.authorityCertIssuer){var x=[T.create(T.Class.CONTEXT_SPECIFIC,4,!0,[Ya(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];u.push(T.create(T.Class.CONTEXT_SPECIFIC,1,!0,x))}if(e.serialNumber){var g=qe.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);u.push(T.create(T.Class.CONTEXT_SPECIFIC,2,!1,g))}}else if(e.name==="cRLDistributionPoints"){e.value=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[]);for(var u=e.value.value,E=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[]),m=T.create(T.Class.CONTEXT_SPECIFIC,0,!0,[]),f,h=0;h<e.altNames.length;++h){f=e.altNames[h];var l=f.value;if(f.type===7&&f.ip){if(l=qe.util.bytesFromIP(f.ip),l===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else f.type===8&&(f.oid?l=T.oidToDer(T.oidToDer(f.oid)):l=T.oidToDer(l));m.value.push(T.create(T.Class.CONTEXT_SPECIFIC,f.type,!1,l))}E.value.push(T.create(T.Class.CONTEXT_SPECIFIC,0,!0,[m])),u.push(E)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}function ef(e,t){switch(e){case Bt["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(T.create(T.Class.CONTEXT_SPECIFIC,0,!0,[T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(t.hash.algorithmOid).getBytes()),T.create(T.Class.UNIVERSAL,T.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(T.create(T.Class.CONTEXT_SPECIFIC,1,!0,[T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(t.mgf.algorithmOid).getBytes()),T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(t.mgf.hash.algorithmOid).getBytes()),T.create(T.Class.UNIVERSAL,T.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(T.create(T.Class.CONTEXT_SPECIFIC,2,!0,[T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,T.integerToDer(t.saltLength).getBytes())])),T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,r);default:return T.create(T.Class.UNIVERSAL,T.Type.NULL,!1,"")}}function L_(e){var t=T.create(T.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var a=r[n],s=a.value,l=T.Type.UTF8;"valueTagClass"in a&&(l=a.valueTagClass),l===T.Type.UTF8&&(s=qe.util.encodeUtf8(s));var u=!1;"valueConstructed"in a&&(u=a.valueConstructed);var c=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(a.type).getBytes()),T.create(T.Class.UNIVERSAL,T.Type.SET,!0,[T.create(T.Class.UNIVERSAL,l,u,s)])]);t.value.push(c)}return t}var P_=new Date("1950-01-01T00:00:00Z"),U_=new Date("2050-01-01T00:00:00Z");function wd(e){return e>=P_&&e<U_?T.create(T.Class.UNIVERSAL,T.Type.UTCTIME,!1,T.dateToUtcTime(e)):T.create(T.Class.UNIVERSAL,T.Type.GENERALIZEDTIME,!1,T.dateToGeneralizedTime(e))}Ee.getTBSCertificate=function(e){var t=wd(e.validity.notBefore),r=wd(e.validity.notAfter),n=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.CONTEXT_SPECIFIC,0,!0,[T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,T.integerToDer(e.version).getBytes())]),T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,qe.util.hexToBytes(e.serialNumber)),T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(e.siginfo.algorithmOid).getBytes()),ef(e.siginfo.algorithmOid,e.siginfo.parameters)]),Ya(e.issuer),T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[t,r]),Ya(e.subject),Ee.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(T.create(T.Class.CONTEXT_SPECIFIC,1,!0,[T.create(T.Class.UNIVERSAL,T.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(T.create(T.Class.CONTEXT_SPECIFIC,2,!0,[T.create(T.Class.UNIVERSAL,T.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(Ee.certificateExtensionsToAsn1(e.extensions)),n};Ee.getCertificationRequestInfo=function(e){var t=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,T.integerToDer(e.version).getBytes()),Ya(e.subject),Ee.publicKeyToAsn1(e.publicKey),L_(e)]);return t};Ee.distinguishedNameToAsn1=function(e){return Ya(e)};Ee.certificateToAsn1=function(e){var t=e.tbsCertificate||Ee.getTBSCertificate(e);return T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[t,T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(e.signatureOid).getBytes()),ef(e.signatureOid,e.signatureParameters)]),T.create(T.Class.UNIVERSAL,T.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};Ee.certificateExtensionsToAsn1=function(e){var t=T.create(T.Class.CONTEXT_SPECIFIC,3,!0,[]),r=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(Ee.certificateExtensionToAsn1(e[n]));return t};Ee.certificateExtensionToAsn1=function(e){var t=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[]);t.value.push(T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(e.id).getBytes())),e.critical&&t.value.push(T.create(T.Class.UNIVERSAL,T.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return typeof e.value!="string"&&(r=T.toDer(r).getBytes()),t.value.push(T.create(T.Class.UNIVERSAL,T.Type.OCTETSTRING,!1,r)),t};Ee.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||Ee.getCertificationRequestInfo(e);return T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[t,T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(e.signatureOid).getBytes()),ef(e.signatureOid,e.signatureParameters)]),T.create(T.Class.UNIVERSAL,T.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};Ee.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(l){var u=r(l.issuer);return u},t.addCertificate=function(l){if(typeof l=="string"&&(l=qe.pki.certificateFromPem(l)),n(l.subject),!t.hasCertificate(l))if(l.subject.hash in t.certs){var u=t.certs[l.subject.hash];qe.util.isArray(u)||(u=[u]),u.push(l),t.certs[l.subject.hash]=u}else t.certs[l.subject.hash]=l},t.hasCertificate=function(l){typeof l=="string"&&(l=qe.pki.certificateFromPem(l));var u=r(l.subject);if(!u)return!1;qe.util.isArray(u)||(u=[u]);for(var c=T.toDer(Ee.certificateToAsn1(l)).getBytes(),f=0;f<u.length;++f){var h=T.toDer(Ee.certificateToAsn1(u[f])).getBytes();if(c===h)return!0}return!1},t.listAllCertificates=function(){var l=[];for(var u in t.certs)if(t.certs.hasOwnProperty(u)){var c=t.certs[u];if(!qe.util.isArray(c))l.push(c);else for(var f=0;f<c.length;++f)l.push(c[f])}return l},t.removeCertificate=function(l){var u;if(typeof l=="string"&&(l=qe.pki.certificateFromPem(l)),n(l.subject),!t.hasCertificate(l))return null;var c=r(l.subject);if(!qe.util.isArray(c))return u=t.certs[l.subject.hash],delete t.certs[l.subject.hash],u;for(var f=T.toDer(Ee.certificateToAsn1(l)).getBytes(),h=0;h<c.length;++h){var p=T.toDer(Ee.certificateToAsn1(c[h])).getBytes();f===p&&(u=c[h],c.splice(h,1))}return c.length===0&&delete t.certs[l.subject.hash],u};function r(l){return n(l),t.certs[l.hash]||null}function n(l){if(!l.hash){var u=qe.md.sha1.create();l.attributes=Ee.RDNAttributesAsArray(Ya(l),u),l.hash=u.digest().toHex()}}if(e)for(var a=0;a<e.length;++a){var s=e[a];t.addCertificate(s)}return t};Ee.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};Ee.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),a=r.validityCheckDate;typeof a>"u"&&(a=new Date);var s=!0,l=null,u=0;do{var c=t.shift(),f=null,h=!1;if(a&&(a<c.validity.notBefore||a>c.validity.notAfter)&&(l={message:"Certificate is not valid yet or has expired.",error:Ee.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:a}),l===null){if(f=t[0]||e.getIssuer(c),f===null&&c.isIssuer(c)&&(h=!0,f=c),f){var p=f;qe.util.isArray(p)||(p=[p]);for(var v=!1;!v&&p.length>0;){f=p.shift();try{v=f.verify(c)}catch{}}v||(l={message:"Certificate signature is invalid.",error:Ee.certificateError.bad_certificate})}l===null&&(!f||h)&&!e.hasCertificate(c)&&(l={message:"Certificate is not trusted.",error:Ee.certificateError.unknown_ca})}if(l===null&&f&&!c.isIssuer(f)&&(l={message:"Certificate issuer is invalid.",error:Ee.certificateError.bad_certificate}),l===null)for(var x={keyUsage:!0,basicConstraints:!0},g=0;l===null&&g<c.extensions.length;++g){var E=c.extensions[g];E.critical&&!(E.name in x)&&(l={message:"Certificate has an unsupported critical extension.",error:Ee.certificateError.unsupported_certificate})}if(l===null&&(!s||t.length===0&&(!f||h))){var m=c.getExtension("basicConstraints"),B=c.getExtension("keyUsage");if(B!==null&&(!B.keyCertSign||m===null)&&(l={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:Ee.certificateError.bad_certificate}),l===null&&m!==null&&!m.cA&&(l={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:Ee.certificateError.bad_certificate}),l===null&&B!==null&&"pathLenConstraint"in m){var _=u-1;_>m.pathLenConstraint&&(l={message:"Certificate basicConstraints pathLenConstraint violated.",error:Ee.certificateError.bad_certificate})}}var C=l===null?!0:l.error,S=r.verify?r.verify(C,u,n):C;if(S===!0)l=null;else throw C===!0&&(l={message:"The application rejected the certificate.",error:Ee.certificateError.bad_certificate}),(S||S===0)&&(typeof S=="object"&&!qe.util.isArray(S)?(S.message&&(l.message=S.message),S.error&&(l.error=S.error)):typeof S=="string"&&(l.error=S)),l;s=!1,++u}while(t.length>0);return!0};var Ot=dt,z=Ot.asn1,xt=Ot.pki,R0=Ot.pkcs12=Ot.pkcs12||{},Hp={name:"ContentInfo",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:z.Class.UNIVERSAL,type:z.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:z.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},O_={name:"PFX",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,capture:"version"},Hp,{name:"PFX.macData",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:z.Class.UNIVERSAL,type:z.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:z.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:z.Class.UNIVERSAL,type:z.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:z.Class.UNIVERSAL,type:z.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},M_={name:"SafeBag",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:z.Class.UNIVERSAL,type:z.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:z.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:z.Class.UNIVERSAL,type:z.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},V_={name:"Attribute",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:z.Class.UNIVERSAL,type:z.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:z.Class.UNIVERSAL,type:z.Type.SET,constructed:!0,capture:"values"}]},K_={name:"CertBag",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:z.Class.UNIVERSAL,type:z.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:z.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:z.Class.UNIVERSAL,type:z.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function E0(e,t,r,n){for(var a=[],s=0;s<e.length;s++)for(var l=0;l<e[s].safeBags.length;l++){var u=e[s].safeBags[l];if(!(n!==void 0&&u.type!==n)){if(t===null){a.push(u);continue}u.attributes[t]!==void 0&&u.attributes[t].indexOf(r)>=0&&a.push(u)}}return a}R0.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},a=[];if(!z.validate(e,O_,n,a)){var s=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw s.errors=s,s}var l={version:n.version.charCodeAt(0),safeContents:[],getBags:function(m){var B={},_;return"localKeyId"in m?_=m.localKeyId:"localKeyIdHex"in m&&(_=Ot.util.hexToBytes(m.localKeyIdHex)),_===void 0&&!("friendlyName"in m)&&"bagType"in m&&(B[m.bagType]=E0(l.safeContents,null,null,m.bagType)),_!==void 0&&(B.localKeyId=E0(l.safeContents,"localKeyId",_,m.bagType)),"friendlyName"in m&&(B.friendlyName=E0(l.safeContents,"friendlyName",m.friendlyName,m.bagType)),B},getBagsByFriendlyName:function(m,B){return E0(l.safeContents,"friendlyName",m,B)},getBagsByLocalKeyId:function(m,B){return E0(l.safeContents,"localKeyId",m,B)}};if(n.version.charCodeAt(0)!==3){var s=new Error("PKCS#12 PFX of version other than 3 not supported.");throw s.version=n.version.charCodeAt(0),s}if(z.derToOid(n.contentType)!==xt.oids.data){var s=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw s.oid=z.derToOid(n.contentType),s}var u=n.content.value[0];if(u.tagClass!==z.Class.UNIVERSAL||u.type!==z.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(u=tf(u),n.mac){var c=null,f=0,h=z.derToOid(n.macAlgorithm);switch(h){case xt.oids.sha1:c=Ot.md.sha1.create(),f=20;break;case xt.oids.sha256:c=Ot.md.sha256.create(),f=32;break;case xt.oids.sha384:c=Ot.md.sha384.create(),f=48;break;case xt.oids.sha512:c=Ot.md.sha512.create(),f=64;break;case xt.oids.md5:c=Ot.md.md5.create(),f=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+h);var p=new Ot.util.ByteBuffer(n.macSalt),v="macIterations"in n?parseInt(Ot.util.bytesToHex(n.macIterations),16):1,x=R0.generateKey(r,p,3,v,f,c),g=Ot.hmac.create();g.start(c,x),g.update(u.value);var E=g.getMac();if(E.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return H_(l,u.value,t,r),l};function tf(e){if(e.composed||e.constructed){for(var t=Ot.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function H_(e,t,r,n){if(t=z.fromDer(t,r),t.tagClass!==z.Class.UNIVERSAL||t.type!==z.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var a=0;a<t.value.length;a++){var s=t.value[a],l={},u=[];if(!z.validate(s,Hp,l,u)){var c=new Error("Cannot read ContentInfo.");throw c.errors=u,c}var f={encrypted:!1},h=null,p=l.content.value[0];switch(z.derToOid(l.contentType)){case xt.oids.data:if(p.tagClass!==z.Class.UNIVERSAL||p.type!==z.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");h=tf(p).value;break;case xt.oids.encryptedData:h=z_(p,n),f.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=z.derToOid(l.contentType),c}f.safeBags=q_(h,r,n),e.safeContents.push(f)}}function z_(e,t){var r={},n=[];if(!z.validate(e,Ot.pkcs7.asn1.encryptedDataValidator,r,n)){var a=new Error("Cannot read EncryptedContentInfo.");throw a.errors=n,a}var s=z.derToOid(r.contentType);if(s!==xt.oids.data){var a=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw a.oid=s,a}s=z.derToOid(r.encAlgorithm);var l=xt.pbe.getCipher(s,r.encParameter,t),u=tf(r.encryptedContentAsn1),c=Ot.util.createBuffer(u.value);if(l.update(c),!l.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return l.output.getBytes()}function q_(e,t,r){if(!t&&e.length===0)return[];if(e=z.fromDer(e,t),e.tagClass!==z.Class.UNIVERSAL||e.type!==z.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],a=0;a<e.value.length;a++){var s=e.value[a],l={},u=[];if(!z.validate(s,M_,l,u)){var c=new Error("Cannot read SafeBag.");throw c.errors=u,c}var f={type:z.derToOid(l.bagId),attributes:G_(l.bagAttributes)};n.push(f);var h,p,v=l.bagValue.value[0];switch(f.type){case xt.oids.pkcs8ShroudedKeyBag:if(v=xt.decryptPrivateKeyInfo(v,r),v===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case xt.oids.keyBag:try{f.key=xt.privateKeyFromAsn1(v)}catch{f.key=null,f.asn1=v}continue;case xt.oids.certBag:h=K_,p=function(){if(z.derToOid(l.certId)!==xt.oids.x509Certificate){var g=new Error("Unsupported certificate type, only X.509 supported.");throw g.oid=z.derToOid(l.certId),g}var E=z.fromDer(l.cert,t);try{f.cert=xt.certificateFromAsn1(E,!0)}catch{f.cert=null,f.asn1=E}};break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=f.type,c}if(h!==void 0&&!z.validate(v,h,l,u)){var c=new Error("Cannot read PKCS#12 "+h.name);throw c.errors=u,c}p()}return n}function G_(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},a=[];if(!z.validate(e[r],V_,n,a)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=a,s}var l=z.derToOid(n.oid);if(xt.oids[l]!==void 0){t[xt.oids[l]]=[];for(var u=0;u<n.values.length;++u)t[xt.oids[l]].push(n.values[u].value)}}return t}R0.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var a=n.localKeyId,s;if(a!==null)a=Ot.util.hexToBytes(a);else if(n.generateLocalKeyId)if(t){var l=Ot.util.isArray(t)?t[0]:t;typeof l=="string"&&(l=xt.certificateFromPem(l));var u=Ot.md.sha1.create();u.update(z.toDer(xt.certificateToAsn1(l)).getBytes()),a=u.digest().getBytes()}else a=Ot.random.getBytes(20);var c=[];a!==null&&c.push(z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(xt.oids.localKeyId).getBytes()),z.create(z.Class.UNIVERSAL,z.Type.SET,!0,[z.create(z.Class.UNIVERSAL,z.Type.OCTETSTRING,!1,a)])])),"friendlyName"in n&&c.push(z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(xt.oids.friendlyName).getBytes()),z.create(z.Class.UNIVERSAL,z.Type.SET,!0,[z.create(z.Class.UNIVERSAL,z.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(s=z.create(z.Class.UNIVERSAL,z.Type.SET,!0,c));var f=[],h=[];t!==null&&(Ot.util.isArray(t)?h=t:h=[t]);for(var p=[],v=0;v<h.length;++v){t=h[v],typeof t=="string"&&(t=xt.certificateFromPem(t));var x=v===0?s:void 0,g=xt.certificateToAsn1(t),E=z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(xt.oids.certBag).getBytes()),z.create(z.Class.CONTEXT_SPECIFIC,0,!0,[z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(xt.oids.x509Certificate).getBytes()),z.create(z.Class.CONTEXT_SPECIFIC,0,!0,[z.create(z.Class.UNIVERSAL,z.Type.OCTETSTRING,!1,z.toDer(g).getBytes())])])]),x]);p.push(E)}if(p.length>0){var m=z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,p),B=z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(xt.oids.data).getBytes()),z.create(z.Class.CONTEXT_SPECIFIC,0,!0,[z.create(z.Class.UNIVERSAL,z.Type.OCTETSTRING,!1,z.toDer(m).getBytes())])]);f.push(B)}var _=null;if(e!==null){var C=xt.wrapRsaPrivateKey(xt.privateKeyToAsn1(e));r===null?_=z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(xt.oids.keyBag).getBytes()),z.create(z.Class.CONTEXT_SPECIFIC,0,!0,[C]),s]):_=z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(xt.oids.pkcs8ShroudedKeyBag).getBytes()),z.create(z.Class.CONTEXT_SPECIFIC,0,!0,[xt.encryptPrivateKeyInfo(C,r,n)]),s]);var S=z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[_]),F=z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(xt.oids.data).getBytes()),z.create(z.Class.CONTEXT_SPECIFIC,0,!0,[z.create(z.Class.UNIVERSAL,z.Type.OCTETSTRING,!1,z.toDer(S).getBytes())])]);f.push(F)}var k=z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,f),L;if(n.useMac){var u=Ot.md.sha1.create(),R=new Ot.util.ByteBuffer(Ot.random.getBytes(n.saltSize)),q=n.count,e=R0.generateKey(r,R,3,q,20),P=Ot.hmac.create();P.start(u,e),P.update(z.toDer(k).getBytes());var O=P.getMac();L=z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(xt.oids.sha1).getBytes()),z.create(z.Class.UNIVERSAL,z.Type.NULL,!1,"")]),z.create(z.Class.UNIVERSAL,z.Type.OCTETSTRING,!1,O.getBytes())]),z.create(z.Class.UNIVERSAL,z.Type.OCTETSTRING,!1,R.getBytes()),z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,z.integerToDer(q).getBytes())])}return z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,z.integerToDer(3).getBytes()),z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(xt.oids.data).getBytes()),z.create(z.Class.CONTEXT_SPECIFIC,0,!0,[z.create(z.Class.UNIVERSAL,z.Type.OCTETSTRING,!1,z.toDer(k).getBytes())])]),L])};R0.generateKey=Ot.pbe.generatePkcs12Key;var qi=dt,rf=qi.asn1,Xa=qi.pki=qi.pki||{};Xa.pemToDer=function(e){var t=qi.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return qi.util.createBuffer(t.body)};Xa.privateKeyFromPem=function(e){var t=qi.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=rf.fromDer(t.body);return Xa.privateKeyFromAsn1(n)};Xa.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:rf.toDer(Xa.privateKeyToAsn1(e)).getBytes()};return qi.pem.encode(r,{maxline:t})};Xa.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:rf.toDer(e).getBytes()};return qi.pem.encode(r,{maxline:t})};var xe=dt,co=function(e,t,r,n){var a=xe.util.createBuffer(),s=e.length>>1,l=s+(e.length&1),u=e.substr(0,l),c=e.substr(s,l),f=xe.util.createBuffer(),h=xe.hmac.create();r=t+r;var p=Math.ceil(n/16),v=Math.ceil(n/20);h.start("MD5",u);var x=xe.util.createBuffer();f.putBytes(r);for(var g=0;g<p;++g)h.start(null,null),h.update(f.getBytes()),f.putBuffer(h.digest()),h.start(null,null),h.update(f.bytes()+r),x.putBuffer(h.digest());h.start("SHA1",c);var E=xe.util.createBuffer();f.clear(),f.putBytes(r);for(var g=0;g<v;++g)h.start(null,null),h.update(f.getBytes()),f.putBuffer(h.digest()),h.start(null,null),h.update(f.bytes()+r),E.putBuffer(h.digest());return a.putBytes(xe.util.xorBytes(x.getBytes(),E.getBytes(),n)),a},W_=function(e,t,r){var n=xe.hmac.create();n.start("SHA1",e);var a=xe.util.createBuffer();return a.putInt32(t[0]),a.putInt32(t[1]),a.putByte(r.type),a.putByte(r.version.major),a.putByte(r.version.minor),a.putInt16(r.length),a.putBytes(r.fragment.bytes()),n.update(a.getBytes()),n.digest().getBytes()},Q_=function(e,t,r){var n=!1;try{var a=e.deflate(t.fragment.getBytes());t.fragment=xe.util.createBuffer(a),t.length=a.length,n=!0}catch{}return n},Y_=function(e,t,r){var n=!1;try{var a=e.inflate(t.fragment.getBytes());t.fragment=xe.util.createBuffer(a),t.length=a.length,n=!0}catch{}return n},un=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return xe.util.createBuffer(e.getBytes(r))},_n=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},w={};w.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};w.SupportedVersions=[w.Versions.TLS_1_1,w.Versions.TLS_1_0];w.Version=w.SupportedVersions[0];w.MaxFragment=16384-1024;w.ConnectionEnd={server:0,client:1};w.PRFAlgorithm={tls_prf_sha256:0};w.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};w.CipherType={stream:0,block:1,aead:2};w.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};w.CompressionMethod={none:0,deflate:1};w.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};w.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};w.Alert={};w.Alert.Level={warning:1,fatal:2};w.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};w.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};w.CipherSuites={};w.getCipherSuite=function(e){var t=null;for(var r in w.CipherSuites){var n=w.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};w.handleUnexpected=function(e,t){var r=!e.open&&e.entity===w.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.unexpected_message}})};w.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(w.queue(e,w.createAlert(e,{level:w.Alert.Level.warning,description:w.Alert.Description.no_renegotiation})),w.flush(e)),e.process()};w.parseHelloMessage=function(e,t,r){var n=null,a=e.entity===w.ConnectionEnd.client;if(r<38)e.error(e,{message:a?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.illegal_parameter}});else{var s=t.fragment,l=s.length();if(n={version:{major:s.getByte(),minor:s.getByte()},random:xe.util.createBuffer(s.getBytes(32)),session_id:un(s,1),extensions:[]},a?(n.cipher_suite=s.getBytes(2),n.compression_method=s.getByte()):(n.cipher_suites=un(s,2),n.compression_methods=un(s,1)),l=r-(l-s.length()),l>0){for(var u=un(s,2);u.length()>0;)n.extensions.push({type:[u.getByte(),u.getByte()],data:un(u,2)});if(!a)for(var c=0;c<n.extensions.length;++c){var f=n.extensions[c];if(f.type[0]===0&&f.type[1]===0)for(var h=un(f.data,2);h.length()>0;){var p=h.getByte();if(p!==0)break;e.session.extensions.server_name.serverNameList.push(un(h,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.protocol_version}});if(a)e.session.cipherSuite=w.getCipherSuite(n.cipher_suite);else for(var v=xe.util.createBuffer(n.cipher_suites.bytes());v.length()>0&&(e.session.cipherSuite=w.getCipherSuite(v.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.handshake_failure},cipherSuite:xe.util.bytesToHex(n.cipher_suite)});a?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=w.CompressionMethod.none}return n};w.createSecurityParameters=function(e,t){var r=e.entity===w.ConnectionEnd.client,n=t.random.bytes(),a=r?e.session.sp.client_random:n,s=r?n:w.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:w.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:a,server_random:s}};w.handleServerHello=function(e,t,r){var n=w.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.protocol_version}});e.session.version=e.version;var a=n.session_id.bytes();a.length>0&&a===e.session.id?(e.expect=zp,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=Z_,e.session.resuming=!1,w.createSecurityParameters(e,n)),e.session.id=a,e.process()}};w.handleClientHello=function(e,t,r){var n=w.parseHelloMessage(e,t,r);if(!e.fail){var a=n.session_id.bytes(),s=null;if(e.sessionCache&&(s=e.sessionCache.getSession(a),s===null?a="":(s.version.major!==n.version.major||s.version.minor>n.version.minor)&&(s=null,a="")),a.length===0&&(a=xe.random.getBytes(32)),e.session.id=a,e.session.clientHelloVersion=n.version,e.session.sp={},s)e.version=e.session.version=s.version,e.session.sp=s.sp;else{for(var l,u=1;u<w.SupportedVersions.length&&(l=w.SupportedVersions[u],!(l.minor<=n.version.minor));++u);e.version={major:l.major,minor:l.minor},e.session.version=e.version}s!==null?(e.expect=nf,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?n8:Nu,e.session.resuming=!1,w.createSecurityParameters(e,n)),e.open=!0,w.queue(e,w.createRecord(e,{type:w.ContentType.handshake,data:w.createServerHello(e)})),e.session.resuming?(w.queue(e,w.createRecord(e,{type:w.ContentType.change_cipher_spec,data:w.createChangeCipherSpec()})),e.state.pending=w.createConnectionState(e),e.state.current.write=e.state.pending.write,w.queue(e,w.createRecord(e,{type:w.ContentType.handshake,data:w.createFinished(e)}))):(w.queue(e,w.createRecord(e,{type:w.ContentType.handshake,data:w.createCertificate(e)})),e.fail||(w.queue(e,w.createRecord(e,{type:w.ContentType.handshake,data:w.createServerKeyExchange(e)})),e.verifyClient!==!1&&w.queue(e,w.createRecord(e,{type:w.ContentType.handshake,data:w.createCertificateRequest(e)})),w.queue(e,w.createRecord(e,{type:w.ContentType.handshake,data:w.createServerHelloDone(e)})))),w.flush(e),e.process()}};w.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.illegal_parameter}});var n=t.fragment,a={certificate_list:un(n,3)},s,l,u=[];try{for(;a.certificate_list.length()>0;)s=un(a.certificate_list,3),l=xe.asn1.fromDer(s),s=xe.pki.certificateFromAsn1(l,!0),u.push(s)}catch(f){return e.error(e,{message:"Could not parse certificate list.",cause:f,send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.bad_certificate}})}var c=e.entity===w.ConnectionEnd.client;(c||e.verifyClient===!0)&&u.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.illegal_parameter}}):u.length===0?e.expect=c?Dd:Nu:(c?e.session.serverCertificate=u[0]:e.session.clientCertificate=u[0],w.verifyCertificateChain(e,u)&&(e.expect=c?Dd:Nu)),e.process()};w.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.unsupported_certificate}});e.expect=j_,e.process()};w.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.unsupported_certificate}});var n=t.fragment,a={enc_pre_master_secret:un(n,2).getBytes()},s=null;if(e.getPrivateKey)try{s=e.getPrivateKey(e,e.session.serverCertificate),s=xe.pki.privateKeyFromPem(s)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.internal_error}})}if(s===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.internal_error}});try{var l=e.session.sp;l.pre_master_secret=s.decrypt(a.enc_pre_master_secret);var u=e.session.clientHelloVersion;if(u.major!==l.pre_master_secret.charCodeAt(0)||u.minor!==l.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{l.pre_master_secret=xe.random.getBytes(48)}e.expect=nf,e.session.clientCertificate!==null&&(e.expect=i8),e.process()};w.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.illegal_parameter}});var n=t.fragment,a={certificate_types:un(n,1),certificate_authorities:un(n,2)};e.session.certificateRequest=a,e.expect=J_,e.process()};w.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var a=n.bytes();n.read+=4;var s={signature:un(n,2).getBytes()},l=xe.util.createBuffer();l.putBuffer(e.session.md5.digest()),l.putBuffer(e.session.sha1.digest()),l=l.getBytes();try{var u=e.session.clientCertificate;if(!u.publicKey.verify(l,s.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(a),e.session.sha1.update(a)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.handshake_failure}})}e.expect=nf,e.process()};w.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.insufficient_security}},a=0,s=e.verify(e,n.alert.description,a,[]);if(s!==!0)return(s||s===0)&&(typeof s=="object"&&!xe.util.isArray(s)?(s.message&&(n.message=s.message),s.alert&&(n.alert.description=s.alert)):typeof s=="number"&&(n.alert.description=s)),e.error(e,n)}e.session.certificateRequest!==null&&(t=w.createRecord(e,{type:w.ContentType.handshake,data:w.createCertificate(e)}),w.queue(e,t)),t=w.createRecord(e,{type:w.ContentType.handshake,data:w.createClientKeyExchange(e)}),w.queue(e,t),e.expect=t8;var l=function(u,c){u.session.certificateRequest!==null&&u.session.clientCertificate!==null&&w.queue(u,w.createRecord(u,{type:w.ContentType.handshake,data:w.createCertificateVerify(u,c)})),w.queue(u,w.createRecord(u,{type:w.ContentType.change_cipher_spec,data:w.createChangeCipherSpec()})),u.state.pending=w.createConnectionState(u),u.state.current.write=u.state.pending.write,w.queue(u,w.createRecord(u,{type:w.ContentType.handshake,data:w.createFinished(u)})),u.expect=zp,w.flush(u),u.process()};if(e.session.certificateRequest===null||e.session.clientCertificate===null)return l(e,null);w.getClientSignature(e,l)};w.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.illegal_parameter}});var r=e.entity===w.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=w.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?$_:a8,e.process()};w.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var a=n.bytes();n.read+=4;var s=t.fragment.getBytes();n=xe.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var l=e.entity===w.ConnectionEnd.client,u=l?"server finished":"client finished",c=e.session.sp,f=12,h=co;if(n=h(c.master_secret,u,n.getBytes(),f),n.getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.decrypt_error}});e.session.md5.update(a),e.session.sha1.update(a),(e.session.resuming&&l||!e.session.resuming&&!l)&&(w.queue(e,w.createRecord(e,{type:w.ContentType.change_cipher_spec,data:w.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,w.queue(e,w.createRecord(e,{type:w.ContentType.handshake,data:w.createFinished(e)}))),e.expect=l?e8:s8,e.handshaking=!1,++e.handshakes,e.peerCertificate=l?e.session.serverCertificate:e.session.clientCertificate,w.flush(e),e.isConnected=!0,e.connected(e),e.process()};w.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},a;switch(n.description){case w.Alert.Description.close_notify:a="Connection closed.";break;case w.Alert.Description.unexpected_message:a="Unexpected message.";break;case w.Alert.Description.bad_record_mac:a="Bad record MAC.";break;case w.Alert.Description.decryption_failed:a="Decryption failed.";break;case w.Alert.Description.record_overflow:a="Record overflow.";break;case w.Alert.Description.decompression_failure:a="Decompression failed.";break;case w.Alert.Description.handshake_failure:a="Handshake failure.";break;case w.Alert.Description.bad_certificate:a="Bad certificate.";break;case w.Alert.Description.unsupported_certificate:a="Unsupported certificate.";break;case w.Alert.Description.certificate_revoked:a="Certificate revoked.";break;case w.Alert.Description.certificate_expired:a="Certificate expired.";break;case w.Alert.Description.certificate_unknown:a="Certificate unknown.";break;case w.Alert.Description.illegal_parameter:a="Illegal parameter.";break;case w.Alert.Description.unknown_ca:a="Unknown certificate authority.";break;case w.Alert.Description.access_denied:a="Access denied.";break;case w.Alert.Description.decode_error:a="Decode error.";break;case w.Alert.Description.decrypt_error:a="Decrypt error.";break;case w.Alert.Description.export_restriction:a="Export restriction.";break;case w.Alert.Description.protocol_version:a="Unsupported protocol version.";break;case w.Alert.Description.insufficient_security:a="Insufficient security.";break;case w.Alert.Description.internal_error:a="Internal error.";break;case w.Alert.Description.user_canceled:a="User canceled.";break;case w.Alert.Description.no_renegotiation:a="Renegotiation not supported.";break;default:a="Unknown error.";break}if(n.description===w.Alert.Description.close_notify)return e.close();e.error(e,{message:a,send:!1,origin:e.entity===w.ConnectionEnd.client?"server":"client",alert:n}),e.process()};w.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),a=r.getInt24();if(a>r.length())return e.fragmented=t,t.fragment=xe.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var s=r.bytes(a+4);r.read+=4,n in Ys[e.entity][e.expect]?(e.entity===w.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:xe.md.md5.create(),sha1:xe.md.sha1.create()}),n!==w.HandshakeType.hello_request&&n!==w.HandshakeType.certificate_verify&&n!==w.HandshakeType.finished&&(e.session.md5.update(s),e.session.sha1.update(s)),Ys[e.entity][e.expect][n](e,t,a)):w.handleUnexpected(e,t)};w.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};w.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),a=r.getInt16(),s=r.getBytes(a);if(n===w.HeartbeatMessageType.heartbeat_request){if(e.handshaking||a>s.length)return e.process();w.queue(e,w.createRecord(e,{type:w.ContentType.heartbeat,data:w.createHeartbeat(w.HeartbeatMessageType.heartbeat_response,s)})),w.flush(e)}else if(n===w.HeartbeatMessageType.heartbeat_response){if(s!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,xe.util.createBuffer(s))}e.process()};var X_=0,Z_=1,Dd=2,j_=3,J_=4,zp=5,$_=6,e8=7,t8=8,r8=0,n8=1,Nu=2,i8=3,nf=4,a8=5,s8=6,I=w.handleUnexpected,qp=w.handleChangeCipherSpec,br=w.handleAlert,Or=w.handleHandshake,Gp=w.handleApplicationData,Sr=w.handleHeartbeat,af=[];af[w.ConnectionEnd.client]=[[I,br,Or,I,Sr],[I,br,Or,I,Sr],[I,br,Or,I,Sr],[I,br,Or,I,Sr],[I,br,Or,I,Sr],[qp,br,I,I,Sr],[I,br,Or,I,Sr],[I,br,Or,Gp,Sr],[I,br,Or,I,Sr]];af[w.ConnectionEnd.server]=[[I,br,Or,I,Sr],[I,br,Or,I,Sr],[I,br,Or,I,Sr],[I,br,Or,I,Sr],[qp,br,I,I,Sr],[I,br,Or,I,Sr],[I,br,Or,Gp,Sr],[I,br,Or,I,Sr]];var Ri=w.handleHelloRequest,o8=w.handleServerHello,Wp=w.handleCertificate,Rd=w.handleServerKeyExchange,pu=w.handleCertificateRequest,ks=w.handleServerHelloDone,Qp=w.handleFinished,Ys=[];Ys[w.ConnectionEnd.client]=[[I,I,o8,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[Ri,I,I,I,I,I,I,I,I,I,I,Wp,Rd,pu,ks,I,I,I,I,I,I],[Ri,I,I,I,I,I,I,I,I,I,I,I,Rd,pu,ks,I,I,I,I,I,I],[Ri,I,I,I,I,I,I,I,I,I,I,I,I,pu,ks,I,I,I,I,I,I],[Ri,I,I,I,I,I,I,I,I,I,I,I,I,I,ks,I,I,I,I,I,I],[Ri,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[Ri,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,Qp],[Ri,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[Ri,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I]];var l8=w.handleClientHello,u8=w.handleClientKeyExchange,f8=w.handleCertificateVerify;Ys[w.ConnectionEnd.server]=[[I,l8,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,Wp,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,u8,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,f8,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,Qp],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I]];w.generateKeys=function(e,t){var r=co,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var a=2*t.mac_key_length+2*t.enc_key_length,s=e.version.major===w.Versions.TLS_1_0.major&&e.version.minor===w.Versions.TLS_1_0.minor;s&&(a+=2*t.fixed_iv_length);var l=r(t.master_secret,"key expansion",n,a),u={client_write_MAC_key:l.getBytes(t.mac_key_length),server_write_MAC_key:l.getBytes(t.mac_key_length),client_write_key:l.getBytes(t.enc_key_length),server_write_key:l.getBytes(t.enc_key_length)};return s&&(u.client_write_IV=l.getBytes(t.fixed_iv_length),u.server_write_IV=l.getBytes(t.fixed_iv_length)),u};w.createConnectionState=function(e){var t=e.entity===w.ConnectionEnd.client,r=function(){var s={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(l){return!0},compressionState:null,compressFunction:function(l){return!0},updateSequenceNumber:function(){s.sequenceNumber[1]===4294967295?(s.sequenceNumber[1]=0,++s.sequenceNumber[0]):++s.sequenceNumber[1]}};return s},n={read:r(),write:r()};if(n.read.update=function(s,l){return n.read.cipherFunction(l,n.read)?n.read.compressFunction(s,l,n.read)||s.error(s,{message:"Could not decompress record.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.decompression_failure}}):s.error(s,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.bad_record_mac}}),!s.fail},n.write.update=function(s,l){return n.write.compressFunction(s,l,n.write)?n.write.cipherFunction(l,n.write)||s.error(s,{message:"Could not encrypt record.",send:!1,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.internal_error}}):s.error(s,{message:"Could not compress record.",send:!1,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.internal_error}}),!s.fail},e.session){var a=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(a),a.keys=w.generateKeys(e,a),n.read.macKey=t?a.keys.server_write_MAC_key:a.keys.client_write_MAC_key,n.write.macKey=t?a.keys.client_write_MAC_key:a.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,a),a.compression_algorithm){case w.CompressionMethod.none:break;case w.CompressionMethod.deflate:n.read.compressFunction=Y_,n.write.compressFunction=Q_;break;default:throw new Error("Unsupported compression algorithm.")}}return n};w.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=xe.util.createBuffer();return r.putInt32(t),r.putBytes(xe.random.getBytes(28)),r};w.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};w.createAlert=function(e,t){var r=xe.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),w.createRecord(e,{type:w.ContentType.alert,data:r})};w.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=xe.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var a=t.length(),s=xe.util.createBuffer();s.putByte(w.CompressionMethod.none);var l=s.length(),u=xe.util.createBuffer();if(e.virtualHost){var c=xe.util.createBuffer();c.putByte(0),c.putByte(0);var f=xe.util.createBuffer();f.putByte(0),_n(f,2,xe.util.createBuffer(e.virtualHost));var h=xe.util.createBuffer();_n(h,2,f),_n(c,2,h),u.putBuffer(c)}var p=u.length();p>0&&(p+=2);var v=e.session.id,x=v.length+1+2+4+28+2+a+1+l+p,g=xe.util.createBuffer();return g.putByte(w.HandshakeType.client_hello),g.putInt24(x),g.putByte(e.version.major),g.putByte(e.version.minor),g.putBytes(e.session.sp.client_random),_n(g,1,xe.util.createBuffer(v)),_n(g,2,t),_n(g,1,s),p>0&&_n(g,2,u),g};w.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=xe.util.createBuffer();return n.putByte(w.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),_n(n,1,xe.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};w.createCertificate=function(e){var t=e.entity===w.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var a=xe.util.createBuffer();if(r!==null)try{xe.util.isArray(r)||(r=[r]);for(var s=null,l=0;l<r.length;++l){var u=xe.pem.decode(r[l])[0];if(u.type!=="CERTIFICATE"&&u.type!=="X509 CERTIFICATE"&&u.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=u.type,c}if(u.procType&&u.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var f=xe.util.createBuffer(u.body);s===null&&(s=xe.asn1.fromDer(f.bytes(),!1));var h=xe.util.createBuffer();_n(h,3,f),a.putBuffer(h)}r=xe.pki.certificateFromAsn1(s),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(x){return e.error(e,{message:"Could not send certificate list.",cause:x,send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.bad_certificate}})}var p=3+a.length(),v=xe.util.createBuffer();return v.putByte(w.HandshakeType.certificate),v.putInt24(p),_n(v,3,a),v};w.createClientKeyExchange=function(e){var t=xe.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(xe.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var a=t.length+2,s=xe.util.createBuffer();return s.putByte(w.HandshakeType.client_key_exchange),s.putInt24(a),s.putInt16(t.length),s.putBytes(t),s};w.createServerKeyExchange=function(e){var t=xe.util.createBuffer();return t};w.getClientSignature=function(e,t){var r=xe.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,a,s){var l=null;if(n.getPrivateKey)try{l=n.getPrivateKey(n,n.session.clientCertificate),l=xe.pki.privateKeyFromPem(l)}catch(u){n.error(n,{message:"Could not get private key.",cause:u,send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.internal_error}})}l===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.internal_error}}):a=l.sign(a,null),s(n,a)},e.getSignature(e,r,t)};w.createCertificateVerify=function(e,t){var r=t.length+2,n=xe.util.createBuffer();return n.putByte(w.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};w.createCertificateRequest=function(e){var t=xe.util.createBuffer();t.putByte(1);var r=xe.util.createBuffer();for(var n in e.caStore.certs){var a=e.caStore.certs[n],s=xe.pki.distinguishedNameToAsn1(a.subject),l=xe.asn1.toDer(s);r.putInt16(l.length()),r.putBuffer(l)}var u=1+t.length()+2+r.length(),c=xe.util.createBuffer();return c.putByte(w.HandshakeType.certificate_request),c.putInt24(u),_n(c,1,t),_n(c,2,r),c};w.createServerHelloDone=function(e){var t=xe.util.createBuffer();return t.putByte(w.HandshakeType.server_hello_done),t.putInt24(0),t};w.createChangeCipherSpec=function(){var e=xe.util.createBuffer();return e.putByte(1),e};w.createFinished=function(e){var t=xe.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===w.ConnectionEnd.client,n=e.session.sp,a=12,s=co,l=r?"client finished":"server finished";t=s(n.master_secret,l,t.getBytes(),a);var u=xe.util.createBuffer();return u.putByte(w.HandshakeType.finished),u.putInt24(t.length()),u.putBuffer(t),u};w.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=xe.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var a=n.length(),s=Math.max(16,a-r-3);return n.putBytes(xe.random.getBytes(s)),n};w.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===w.ContentType.handshake||t.type===w.ContentType.alert||t.type===w.ContentType.change_cipher_spec))){if(t.type===w.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=w.MaxFragment)n=[t];else{n=[];for(var a=t.fragment.bytes();a.length>w.MaxFragment;)n.push(w.createRecord(e,{type:t.type,data:xe.util.createBuffer(a.slice(0,w.MaxFragment))})),a=a.slice(w.MaxFragment);a.length>0&&n.push(w.createRecord(e,{type:t.type,data:xe.util.createBuffer(a)}))}for(var s=0;s<n.length&&!e.fail;++s){var l=n[s],u=e.state.current.write;u.update(e,l)&&e.records.push(l)}}};w.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var vu=function(e){switch(e){case!0:return!0;case xe.pki.certificateError.bad_certificate:return w.Alert.Description.bad_certificate;case xe.pki.certificateError.unsupported_certificate:return w.Alert.Description.unsupported_certificate;case xe.pki.certificateError.certificate_revoked:return w.Alert.Description.certificate_revoked;case xe.pki.certificateError.certificate_expired:return w.Alert.Description.certificate_expired;case xe.pki.certificateError.certificate_unknown:return w.Alert.Description.certificate_unknown;case xe.pki.certificateError.unknown_ca:return w.Alert.Description.unknown_ca;default:return w.Alert.Description.bad_certificate}},c8=function(e){switch(e){case!0:return!0;case w.Alert.Description.bad_certificate:return xe.pki.certificateError.bad_certificate;case w.Alert.Description.unsupported_certificate:return xe.pki.certificateError.unsupported_certificate;case w.Alert.Description.certificate_revoked:return xe.pki.certificateError.certificate_revoked;case w.Alert.Description.certificate_expired:return xe.pki.certificateError.certificate_expired;case w.Alert.Description.certificate_unknown:return xe.pki.certificateError.certificate_unknown;case w.Alert.Description.unknown_ca:return xe.pki.certificateError.unknown_ca;default:return xe.pki.certificateError.bad_certificate}};w.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(s,l,u){var c=vu(s),f=e.verify(e,s,l,u);if(f!==!0){if(typeof f=="object"&&!xe.util.isArray(f)){var h=new Error("The application rejected the certificate.");throw h.send=!0,h.alert={level:w.Alert.Level.fatal,description:w.Alert.Description.bad_certificate},f.message&&(h.message=f.message),f.alert&&(h.alert.description=f.alert),h}f!==s&&(f=c8(f))}return f},xe.pki.verifyCertificateChain(e.caStore,t,r)}catch(s){var a=s;(typeof a!="object"||xe.util.isArray(a))&&(a={send:!0,alert:{level:w.Alert.Level.fatal,description:vu(s)}}),"send"in a||(a.send=!0),"alert"in a||(a.alert={level:w.Alert.Level.fatal,description:vu(a.error)}),e.error(e,a)}return!e.fail};w.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(a){var s=null,l=null;if(a?l=xe.util.bytesToHex(a):r.order.length>0&&(l=r.order[0]),l!==null&&l in r.cache){s=r.cache[l],delete r.cache[l];for(var u in r.order)if(r.order[u]===l){r.order.splice(u,1);break}}return s},r.setSession=function(a,s){if(r.order.length===r.capacity){var l=r.order.shift();delete r.cache[l]}var l=xe.util.bytesToHex(a);r.order.push(l),r.cache[l]=s}}return r};w.createConnection=function(e){var t=null;e.caStore?xe.util.isArray(e.caStore)?t=xe.pki.createCaStore(e.caStore):t=e.caStore:t=xe.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in w.CipherSuites)r.push(w.CipherSuites[n])}var a=e.server?w.ConnectionEnd.server:w.ConnectionEnd.client,s=e.sessionCache?w.createSessionCache(e.sessionCache):null,l={version:{major:w.Version.major,minor:w.Version.minor},entity:a,sessionId:e.sessionId,caStore:t,sessionCache:s,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(h,p,v,x){return p},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:xe.util.createBuffer(),tlsData:xe.util.createBuffer(),data:xe.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(h,p){p.origin=p.origin||(h.entity===w.ConnectionEnd.client?"client":"server"),p.send&&(w.queue(h,w.createAlert(h,p.alert)),w.flush(h));var v=p.fatal!==!1;v&&(h.fail=!0),e.error(h,p),v&&h.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};l.reset=function(h){l.version={major:w.Version.major,minor:w.Version.minor},l.record=null,l.session=null,l.peerCertificate=null,l.state={pending:null,current:null},l.expect=l.entity===w.ConnectionEnd.client?X_:r8,l.fragmented=null,l.records=[],l.open=!1,l.handshakes=0,l.handshaking=!1,l.isConnected=!1,l.fail=!(h||typeof h>"u"),l.input.clear(),l.tlsData.clear(),l.data.clear(),l.state.current=w.createConnectionState(l)},l.reset();var u=function(h,p){var v=p.type-w.ContentType.change_cipher_spec,x=af[h.entity][h.expect];v in x?x[v](h,p):w.handleUnexpected(h,p)},c=function(h){var p=0,v=h.input,x=v.length();if(x<5)p=5-x;else{h.record={type:v.getByte(),version:{major:v.getByte(),minor:v.getByte()},length:v.getInt16(),fragment:xe.util.createBuffer(),ready:!1};var g=h.record.version.major===h.version.major;g&&h.session&&h.session.version&&(g=h.record.version.minor===h.version.minor),g||h.error(h,{message:"Incompatible TLS version.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.protocol_version}})}return p},f=function(h){var p=0,v=h.input,x=v.length();if(x<h.record.length)p=h.record.length-x;else{h.record.fragment.putBytes(v.getBytes(h.record.length)),v.compact();var g=h.state.current.read;g.update(h,h.record)&&(h.fragmented!==null&&(h.fragmented.type===h.record.type?(h.fragmented.fragment.putBuffer(h.record.fragment),h.record=h.fragmented):h.error(h,{message:"Invalid fragmented record.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.unexpected_message}})),h.record.ready=!0)}return p};return l.handshake=function(h){if(l.entity!==w.ConnectionEnd.client)l.error(l,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(l.handshaking)l.error(l,{message:"Handshake already in progress.",fatal:!1});else{l.fail&&!l.open&&l.handshakes===0&&(l.fail=!1),l.handshaking=!0,h=h||"";var p=null;h.length>0&&(l.sessionCache&&(p=l.sessionCache.getSession(h)),p===null&&(h="")),h.length===0&&l.sessionCache&&(p=l.sessionCache.getSession(),p!==null&&(h=p.id)),l.session={id:h,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:xe.md.md5.create(),sha1:xe.md.sha1.create()},p&&(l.version=p.version,l.session.sp=p.sp),l.session.sp.client_random=w.createRandom().getBytes(),l.open=!0,w.queue(l,w.createRecord(l,{type:w.ContentType.handshake,data:w.createClientHello(l)})),w.flush(l)}},l.process=function(h){var p=0;return h&&l.input.putBytes(h),l.fail||(l.record!==null&&l.record.ready&&l.record.fragment.isEmpty()&&(l.record=null),l.record===null&&(p=c(l)),!l.fail&&l.record!==null&&!l.record.ready&&(p=f(l)),!l.fail&&l.record!==null&&l.record.ready&&u(l,l.record)),p},l.prepare=function(h){return w.queue(l,w.createRecord(l,{type:w.ContentType.application_data,data:xe.util.createBuffer(h)})),w.flush(l)},l.prepareHeartbeatRequest=function(h,p){return h instanceof xe.util.ByteBuffer&&(h=h.bytes()),typeof p>"u"&&(p=h.length),l.expectedHeartbeatPayload=h,w.queue(l,w.createRecord(l,{type:w.ContentType.heartbeat,data:w.createHeartbeat(w.HeartbeatMessageType.heartbeat_request,h,p)})),w.flush(l)},l.close=function(h){if(!l.fail&&l.sessionCache&&l.session){var p={id:l.session.id,version:l.session.version,sp:l.session.sp};p.sp.keys=null,l.sessionCache.setSession(p.id,p)}l.open&&(l.open=!1,l.input.clear(),(l.isConnected||l.handshaking)&&(l.isConnected=l.handshaking=!1,w.queue(l,w.createAlert(l,{level:w.Alert.Level.warning,description:w.Alert.Description.close_notify})),w.flush(l)),l.closed(l)),l.reset(h)},l};xe.tls=xe.tls||{};for(var xu in w)typeof w[xu]!="function"&&(xe.tls[xu]=w[xu]);xe.tls.prf_tls1=co;xe.tls.hmac_sha1=W_;xe.tls.createSessionCache=w.createSessionCache;xe.tls.createConnection=w.createConnection;var Hi=dt,Sn=Hi.tls;Sn.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Sn.BulkCipherAlgorithm.aes,e.cipher_type=Sn.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Sn.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Yp};Sn.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Sn.BulkCipherAlgorithm.aes,e.cipher_type=Sn.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Sn.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Yp};function Yp(e,t,r){var n=t.entity===Hi.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:Hi.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:Hi.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=v8,e.write.cipherFunction=h8,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=Sn.hmac_sha1}function h8(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var a;e.version.minor===Sn.Versions.TLS_1_0.minor?a=t.cipherState.init?null:t.cipherState.iv:a=Hi.random.getBytesSync(16),t.cipherState.init=!0;var s=t.cipherState.cipher;return s.start({iv:a}),e.version.minor>=Sn.Versions.TLS_1_1.minor&&s.output.putBytes(a),s.update(e.fragment),s.finish(d8)&&(e.fragment=s.output,e.length=e.fragment.length(),r=!0),r}function d8(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function p8(e,t,r){var n=!0;if(r){for(var a=t.length(),s=t.last(),l=a-1-s;l<a-1;++l)n=n&&t.at(l)==s;n&&t.truncate(s+1)}return n}function v8(e,t){var r=!1,n;e.version.minor===Sn.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var a=t.cipherState.cipher;a.start({iv:n}),a.update(e.fragment),r=a.finish(p8);var s=t.macLength,l=Hi.random.getBytesSync(s),u=a.output.length();u>=s?(e.fragment=a.output.getBytes(u-s),l=a.output.getBytes(s)):e.fragment=a.output.getBytes(),e.fragment=Hi.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=x8(t.macKey,l,c)&&r,r}function x8(e,t,r){var n=Hi.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}var qt=dt,U0=qt.sha512=qt.sha512||{};qt.md.sha512=qt.md.algorithms.sha512=U0;var Xp=qt.sha384=qt.sha512.sha384=qt.sha512.sha384||{};Xp.create=function(){return U0.create("SHA-384")};qt.md.sha384=qt.md.algorithms.sha384=Xp;qt.sha512.sha256=qt.sha512.sha256||{create:function(){return U0.create("SHA-512/256")}};qt.md["sha512/256"]=qt.md.algorithms["sha512/256"]=qt.sha512.sha256;qt.sha512.sha224=qt.sha512.sha224||{create:function(){return U0.create("SHA-512/224")}};qt.md["sha512/224"]=qt.md.algorithms["sha512/224"]=qt.sha512.sha224;U0.create=function(e){if(Zp||g8(),typeof e>"u"&&(e="SHA-512"),!(e in oa))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=oa[e],r=null,n=qt.util.createBuffer(),a=new Array(80),s=0;s<80;++s)a[s]=new Array(2);var l=64;switch(e){case"SHA-384":l=48;break;case"SHA-512/256":l=32;break;case"SHA-512/224":l=28;break}var u={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:l,messageLength:0,fullMessageLength:null,messageLengthSize:16};return u.start=function(){u.messageLength=0,u.fullMessageLength=u.messageLength128=[];for(var c=u.messageLengthSize/4,f=0;f<c;++f)u.fullMessageLength.push(0);n=qt.util.createBuffer(),r=new Array(t.length);for(var f=0;f<t.length;++f)r[f]=t[f].slice(0);return u},u.start(),u.update=function(c,f){f==="utf8"&&(c=qt.util.encodeUtf8(c));var h=c.length;u.messageLength+=h,h=[h/4294967296>>>0,h>>>0];for(var p=u.fullMessageLength.length-1;p>=0;--p)u.fullMessageLength[p]+=h[1],h[1]=h[0]+(u.fullMessageLength[p]/4294967296>>>0),u.fullMessageLength[p]=u.fullMessageLength[p]>>>0,h[0]=h[1]/4294967296>>>0;return n.putBytes(c),Nd(r,a,n),(n.read>2048||n.length()===0)&&n.compact(),u},u.digest=function(){var c=qt.util.createBuffer();c.putBytes(n.bytes());var f=u.fullMessageLength[u.fullMessageLength.length-1]+u.messageLengthSize,h=f&u.blockLength-1;c.putBytes(ku.substr(0,u.blockLength-h));for(var p,v,x=u.fullMessageLength[0]*8,g=0;g<u.fullMessageLength.length-1;++g)p=u.fullMessageLength[g+1]*8,v=p/4294967296>>>0,x+=v,c.putInt32(x>>>0),x=p>>>0;c.putInt32(x);for(var E=new Array(r.length),g=0;g<r.length;++g)E[g]=r[g].slice(0);Nd(E,a,c);var m=qt.util.createBuffer(),B;e==="SHA-512"?B=E.length:e==="SHA-384"?B=E.length-2:B=E.length-4;for(var g=0;g<B;++g)m.putInt32(E[g][0]),(g!==B-1||e!=="SHA-512/224")&&m.putInt32(E[g][1]);return m},u};var ku=null,Zp=!1,Fu=null,oa=null;function g8(){ku=String.fromCharCode(128),ku+=qt.util.fillString(String.fromCharCode(0),128),Fu=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],oa={},oa["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],oa["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],oa["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],oa["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Zp=!0}function Nd(e,t,r){for(var n,a,s,l,u,c,f,h,p,v,x,g,E,m,B,_,C,S,F,k,L,R,q,P,O,H,Y,ce,$,ne,j,oe,_e,ue,W,ee=r.length();ee>=128;){for($=0;$<16;++$)t[$][0]=r.getInt32()>>>0,t[$][1]=r.getInt32()>>>0;for(;$<80;++$)oe=t[$-2],ne=oe[0],j=oe[1],n=((ne>>>19|j<<13)^(j>>>29|ne<<3)^ne>>>6)>>>0,a=((ne<<13|j>>>19)^(j<<3|ne>>>29)^(ne<<26|j>>>6))>>>0,ue=t[$-15],ne=ue[0],j=ue[1],s=((ne>>>1|j<<31)^(ne>>>8|j<<24)^ne>>>7)>>>0,l=((ne<<31|j>>>1)^(ne<<24|j>>>8)^(ne<<25|j>>>7))>>>0,_e=t[$-7],W=t[$-16],j=a+_e[1]+l+W[1],t[$][0]=n+_e[0]+s+W[0]+(j/4294967296>>>0)>>>0,t[$][1]=j>>>0;for(E=e[0][0],m=e[0][1],B=e[1][0],_=e[1][1],C=e[2][0],S=e[2][1],F=e[3][0],k=e[3][1],L=e[4][0],R=e[4][1],q=e[5][0],P=e[5][1],O=e[6][0],H=e[6][1],Y=e[7][0],ce=e[7][1],$=0;$<80;++$)f=((L>>>14|R<<18)^(L>>>18|R<<14)^(R>>>9|L<<23))>>>0,h=((L<<18|R>>>14)^(L<<14|R>>>18)^(R<<23|L>>>9))>>>0,p=(O^L&(q^O))>>>0,v=(H^R&(P^H))>>>0,u=((E>>>28|m<<4)^(m>>>2|E<<30)^(m>>>7|E<<25))>>>0,c=((E<<4|m>>>28)^(m<<30|E>>>2)^(m<<25|E>>>7))>>>0,x=(E&B|C&(E^B))>>>0,g=(m&_|S&(m^_))>>>0,j=ce+h+v+Fu[$][1]+t[$][1],n=Y+f+p+Fu[$][0]+t[$][0]+(j/4294967296>>>0)>>>0,a=j>>>0,j=c+g,s=u+x+(j/4294967296>>>0)>>>0,l=j>>>0,Y=O,ce=H,O=q,H=P,q=L,P=R,j=k+a,L=F+n+(j/4294967296>>>0)>>>0,R=j>>>0,F=C,k=S,C=B,S=_,B=E,_=m,j=a+l,E=n+s+(j/4294967296>>>0)>>>0,m=j>>>0;j=e[0][1]+m,e[0][0]=e[0][0]+E+(j/4294967296>>>0)>>>0,e[0][1]=j>>>0,j=e[1][1]+_,e[1][0]=e[1][0]+B+(j/4294967296>>>0)>>>0,e[1][1]=j>>>0,j=e[2][1]+S,e[2][0]=e[2][0]+C+(j/4294967296>>>0)>>>0,e[2][1]=j>>>0,j=e[3][1]+k,e[3][0]=e[3][0]+F+(j/4294967296>>>0)>>>0,e[3][1]=j>>>0,j=e[4][1]+R,e[4][0]=e[4][0]+L+(j/4294967296>>>0)>>>0,e[4][1]=j>>>0,j=e[5][1]+P,e[5][0]=e[5][0]+q+(j/4294967296>>>0)>>>0,e[5][1]=j>>>0,j=e[6][1]+H,e[6][0]=e[6][0]+O+(j/4294967296>>>0)>>>0,e[6][1]=j>>>0,j=e[7][1]+ce,e[7][0]=e[7][0]+Y+(j/4294967296>>>0)>>>0,e[7][1]=j>>>0,ee-=128}}var sf={},y8=dt,gr=y8.asn1;sf.privateKeyValidator={name:"PrivateKeyInfo",tagClass:gr.Class.UNIVERSAL,type:gr.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:gr.Class.UNIVERSAL,type:gr.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:gr.Class.UNIVERSAL,type:gr.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:gr.Class.UNIVERSAL,type:gr.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:gr.Class.UNIVERSAL,type:gr.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};sf.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:gr.Class.UNIVERSAL,type:gr.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:gr.Class.UNIVERSAL,type:gr.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:gr.Class.UNIVERSAL,type:gr.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:gr.Class.UNIVERSAL,type:gr.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]};var Tr=dt,jp=sf,m8=jp.publicKeyValidator,C8=jp.privateKeyValidator;if(typeof E8>"u")var E8=Tr.jsbn.BigInteger;var Lu=Tr.util.ByteBuffer,Zr=typeof Buffer>"u"?Uint8Array:Buffer;Tr.pki=Tr.pki||{};Tr.pki.ed25519=Tr.ed25519=Tr.ed25519||{};var gt=Tr.ed25519;gt.constants={};gt.constants.PUBLIC_KEY_BYTE_LENGTH=32;gt.constants.PRIVATE_KEY_BYTE_LENGTH=64;gt.constants.SEED_BYTE_LENGTH=32;gt.constants.SIGN_BYTE_LENGTH=64;gt.constants.HASH_BYTE_LENGTH=64;gt.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=Tr.random.getBytesSync(gt.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==gt.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+gt.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=gi({message:t,encoding:"binary"});for(var r=new Zr(gt.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Zr(gt.constants.PRIVATE_KEY_BYTE_LENGTH),a=0;a<32;++a)n[a]=t[a];return b8(r,n),{publicKey:r,privateKey:n}};gt.privateKeyFromAsn1=function(e){var t={},r=[],n=Tr.asn1.validate(e,C8,t,r);if(!n){var a=new Error("Invalid Key.");throw a.errors=r,a}var s=Tr.asn1.derToOid(t.privateKeyOid),l=Tr.oids.EdDSA25519;if(s!==l)throw new Error('Invalid OID "'+s+'"; OID must be "'+l+'".');var u=t.privateKey,c=gi({message:Tr.asn1.fromDer(u).value,encoding:"binary"});return{privateKeyBytes:c}};gt.publicKeyFromAsn1=function(e){var t={},r=[],n=Tr.asn1.validate(e,m8,t,r);if(!n){var a=new Error("Invalid Key.");throw a.errors=r,a}var s=Tr.asn1.derToOid(t.publicKeyOid),l=Tr.oids.EdDSA25519;if(s!==l)throw new Error('Invalid OID "'+s+'"; OID must be "'+l+'".');var u=t.ed25519PublicKey;if(u.length!==gt.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return gi({message:u,encoding:"binary"})};gt.publicKeyFromPrivateKey=function(e){e=e||{};var t=gi({message:e.privateKey,encoding:"binary"});if(t.length!==gt.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+gt.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Zr(gt.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};gt.sign=function(e){e=e||{};var t=gi(e),r=gi({message:e.privateKey,encoding:"binary"});if(r.length===gt.constants.SEED_BYTE_LENGTH){var n=gt.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==gt.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+gt.constants.SEED_BYTE_LENGTH+" or "+gt.constants.PRIVATE_KEY_BYTE_LENGTH);var a=new Zr(gt.constants.SIGN_BYTE_LENGTH+t.length);S8(a,t,t.length,r);for(var s=new Zr(gt.constants.SIGN_BYTE_LENGTH),l=0;l<s.length;++l)s[l]=a[l];return s};gt.verify=function(e){e=e||{};var t=gi(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=gi({message:e.signature,encoding:"binary"});if(r.length!==gt.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+gt.constants.SIGN_BYTE_LENGTH);var n=gi({message:e.publicKey,encoding:"binary"});if(n.length!==gt.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+gt.constants.PUBLIC_KEY_BYTE_LENGTH);var a=new Zr(gt.constants.SIGN_BYTE_LENGTH+t.length),s=new Zr(gt.constants.SIGN_BYTE_LENGTH+t.length),l;for(l=0;l<gt.constants.SIGN_BYTE_LENGTH;++l)a[l]=r[l];for(l=0;l<t.length;++l)a[l+gt.constants.SIGN_BYTE_LENGTH]=t[l];return T8(s,a,a.length,n)>=0};function gi(e){var t=e.message;if(t instanceof Uint8Array||t instanceof Zr)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new Lu(t,r)}else if(!(t instanceof Lu))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Zr(t.length()),a=0;a<n.length;++a)n[a]=t.at(a);return n}var Pu=Xe(),Xs=Xe([1]),_8=Xe([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),A8=Xe([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),kd=Xe([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Fd=Xe([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),gu=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),B8=Xe([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function T0(e,t){var r=Tr.md.sha512.create(),n=new Lu(e);r.update(n.getBytes(t),"binary");var a=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(a,"binary");for(var s=new Zr(gt.constants.HASH_BYTE_LENGTH),l=0;l<64;++l)s[l]=a.charCodeAt(l);return s}function b8(e,t){var r=[Xe(),Xe(),Xe(),Xe()],n,a=T0(t,32);for(a[0]&=248,a[31]&=127,a[31]|=64,lf(r,a),of(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}function S8(e,t,r,n){var a,s,l=new Float64Array(64),u=[Xe(),Xe(),Xe(),Xe()],c=T0(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var f=r+64;for(a=0;a<r;++a)e[64+a]=t[a];for(a=0;a<32;++a)e[32+a]=c[32+a];var h=T0(e.subarray(32),r+32);for(Uu(h),lf(u,h),of(e,u),a=32;a<64;++a)e[a]=n[a];var p=T0(e,r+64);for(Uu(p),a=32;a<64;++a)l[a]=0;for(a=0;a<32;++a)l[a]=h[a];for(a=0;a<32;++a)for(s=0;s<32;s++)l[a+s]+=p[a]*c[s];return Jp(e.subarray(32),l),f}function T8(e,t,r,n){var a,s,l=new Zr(32),u=[Xe(),Xe(),Xe(),Xe()],c=[Xe(),Xe(),Xe(),Xe()];if(s=-1,r<64||I8(c,n))return-1;for(a=0;a<r;++a)e[a]=t[a];for(a=0;a<32;++a)e[a+32]=n[a];var f=T0(e,r);if(Uu(f),t1(u,c,f),lf(c,t.subarray(32)),Ou(u,c),of(l,u),r-=64,$p(t,0,l,0)){for(a=0;a<r;++a)e[a]=0;return-1}for(a=0;a<r;++a)e[a]=t[a+64];return s=r,s}function Jp(e,t){var r,n,a,s;for(n=63;n>=32;--n){for(r=0,a=n-32,s=n-12;a<s;++a)t[a]+=r-16*t[n]*gu[a-(n-32)],r=t[a]+128>>8,t[a]-=r*256;t[a]+=r,t[n]=0}for(r=0,a=0;a<32;++a)t[a]+=r-(t[31]>>4)*gu[a],r=t[a]>>8,t[a]&=255;for(a=0;a<32;++a)t[a]-=r*gu[a];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}function Uu(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;Jp(e,t)}function Ou(e,t){var r=Xe(),n=Xe(),a=Xe(),s=Xe(),l=Xe(),u=Xe(),c=Xe(),f=Xe(),h=Xe();qa(r,e[1],e[0]),qa(h,t[1],t[0]),Lt(r,r,h),Ha(n,e[0],e[1]),Ha(h,t[0],t[1]),Lt(n,n,h),Lt(a,e[3],t[3]),Lt(a,a,A8),Lt(s,e[2],t[2]),Ha(s,s,s),qa(l,n,r),qa(u,s,a),Ha(c,s,a),Ha(f,n,r),Lt(e[0],l,u),Lt(e[1],f,c),Lt(e[2],c,u),Lt(e[3],l,f)}function Ld(e,t,r){for(var n=0;n<4;++n)r1(e[n],t[n],r)}function of(e,t){var r=Xe(),n=Xe(),a=Xe();N8(a,t[2]),Lt(r,t[0],a),Lt(n,t[1],a),Zs(e,n),e[31]^=e1(r)<<7}function Zs(e,t){var r,n,a,s=Xe(),l=Xe();for(r=0;r<16;++r)l[r]=t[r];for(yu(l),yu(l),yu(l),n=0;n<2;++n){for(s[0]=l[0]-65517,r=1;r<15;++r)s[r]=l[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=l[15]-32767-(s[14]>>16&1),a=s[15]>>16&1,s[14]&=65535,r1(l,s,1-a)}for(r=0;r<16;r++)e[2*r]=l[r]&255,e[2*r+1]=l[r]>>8}function I8(e,t){var r=Xe(),n=Xe(),a=Xe(),s=Xe(),l=Xe(),u=Xe(),c=Xe();return Oi(e[2],Xs),w8(e[1],t),la(a,e[1]),Lt(s,a,_8),qa(a,a,e[2]),Ha(s,e[2],s),la(l,s),la(u,l),Lt(c,u,l),Lt(r,c,a),Lt(r,r,s),D8(r,r),Lt(r,r,a),Lt(r,r,s),Lt(r,r,s),Lt(e[0],r,s),la(n,e[0]),Lt(n,n,s),Pd(n,a)&&Lt(e[0],e[0],B8),la(n,e[0]),Lt(n,n,s),Pd(n,a)?-1:(e1(e[0])===t[31]>>7&&qa(e[0],Pu,e[0]),Lt(e[3],e[0],e[1]),0)}function w8(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function D8(e,t){var r=Xe(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)la(r,r),n!==1&&Lt(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}function Pd(e,t){var r=new Zr(32),n=new Zr(32);return Zs(r,e),Zs(n,t),$p(r,0,n,0)}function $p(e,t,r,n){return R8(e,t,r,n,32)}function R8(e,t,r,n,a){var s,l=0;for(s=0;s<a;++s)l|=e[t+s]^r[n+s];return(1&l-1>>>8)-1}function e1(e){var t=new Zr(32);return Zs(t,e),t[0]&1}function t1(e,t,r){var n,a;for(Oi(e[0],Pu),Oi(e[1],Xs),Oi(e[2],Xs),Oi(e[3],Pu),a=255;a>=0;--a)n=r[a/8|0]>>(a&7)&1,Ld(e,t,n),Ou(t,e),Ou(e,e),Ld(e,t,n)}function lf(e,t){var r=[Xe(),Xe(),Xe(),Xe()];Oi(r[0],kd),Oi(r[1],Fd),Oi(r[2],Xs),Lt(r[3],kd,Fd),t1(e,r,t)}function Oi(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}function N8(e,t){var r=Xe(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)la(r,r),n!==2&&n!==4&&Lt(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}function yu(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}function r1(e,t,r){for(var n,a=~(r-1),s=0;s<16;++s)n=a&(e[s]^t[s]),e[s]^=n,t[s]^=n}function Xe(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function Ha(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function qa(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function la(e,t){Lt(e,t,t)}function Lt(e,t,r){var n,a,s=0,l=0,u=0,c=0,f=0,h=0,p=0,v=0,x=0,g=0,E=0,m=0,B=0,_=0,C=0,S=0,F=0,k=0,L=0,R=0,q=0,P=0,O=0,H=0,Y=0,ce=0,$=0,ne=0,j=0,oe=0,_e=0,ue=r[0],W=r[1],ee=r[2],se=r[3],ie=r[4],we=r[5],Se=r[6],Oe=r[7],me=r[8],Me=r[9],st=r[10],Ze=r[11],je=r[12],$e=r[13],Ne=r[14],Ge=r[15];n=t[0],s+=n*ue,l+=n*W,u+=n*ee,c+=n*se,f+=n*ie,h+=n*we,p+=n*Se,v+=n*Oe,x+=n*me,g+=n*Me,E+=n*st,m+=n*Ze,B+=n*je,_+=n*$e,C+=n*Ne,S+=n*Ge,n=t[1],l+=n*ue,u+=n*W,c+=n*ee,f+=n*se,h+=n*ie,p+=n*we,v+=n*Se,x+=n*Oe,g+=n*me,E+=n*Me,m+=n*st,B+=n*Ze,_+=n*je,C+=n*$e,S+=n*Ne,F+=n*Ge,n=t[2],u+=n*ue,c+=n*W,f+=n*ee,h+=n*se,p+=n*ie,v+=n*we,x+=n*Se,g+=n*Oe,E+=n*me,m+=n*Me,B+=n*st,_+=n*Ze,C+=n*je,S+=n*$e,F+=n*Ne,k+=n*Ge,n=t[3],c+=n*ue,f+=n*W,h+=n*ee,p+=n*se,v+=n*ie,x+=n*we,g+=n*Se,E+=n*Oe,m+=n*me,B+=n*Me,_+=n*st,C+=n*Ze,S+=n*je,F+=n*$e,k+=n*Ne,L+=n*Ge,n=t[4],f+=n*ue,h+=n*W,p+=n*ee,v+=n*se,x+=n*ie,g+=n*we,E+=n*Se,m+=n*Oe,B+=n*me,_+=n*Me,C+=n*st,S+=n*Ze,F+=n*je,k+=n*$e,L+=n*Ne,R+=n*Ge,n=t[5],h+=n*ue,p+=n*W,v+=n*ee,x+=n*se,g+=n*ie,E+=n*we,m+=n*Se,B+=n*Oe,_+=n*me,C+=n*Me,S+=n*st,F+=n*Ze,k+=n*je,L+=n*$e,R+=n*Ne,q+=n*Ge,n=t[6],p+=n*ue,v+=n*W,x+=n*ee,g+=n*se,E+=n*ie,m+=n*we,B+=n*Se,_+=n*Oe,C+=n*me,S+=n*Me,F+=n*st,k+=n*Ze,L+=n*je,R+=n*$e,q+=n*Ne,P+=n*Ge,n=t[7],v+=n*ue,x+=n*W,g+=n*ee,E+=n*se,m+=n*ie,B+=n*we,_+=n*Se,C+=n*Oe,S+=n*me,F+=n*Me,k+=n*st,L+=n*Ze,R+=n*je,q+=n*$e,P+=n*Ne,O+=n*Ge,n=t[8],x+=n*ue,g+=n*W,E+=n*ee,m+=n*se,B+=n*ie,_+=n*we,C+=n*Se,S+=n*Oe,F+=n*me,k+=n*Me,L+=n*st,R+=n*Ze,q+=n*je,P+=n*$e,O+=n*Ne,H+=n*Ge,n=t[9],g+=n*ue,E+=n*W,m+=n*ee,B+=n*se,_+=n*ie,C+=n*we,S+=n*Se,F+=n*Oe,k+=n*me,L+=n*Me,R+=n*st,q+=n*Ze,P+=n*je,O+=n*$e,H+=n*Ne,Y+=n*Ge,n=t[10],E+=n*ue,m+=n*W,B+=n*ee,_+=n*se,C+=n*ie,S+=n*we,F+=n*Se,k+=n*Oe,L+=n*me,R+=n*Me,q+=n*st,P+=n*Ze,O+=n*je,H+=n*$e,Y+=n*Ne,ce+=n*Ge,n=t[11],m+=n*ue,B+=n*W,_+=n*ee,C+=n*se,S+=n*ie,F+=n*we,k+=n*Se,L+=n*Oe,R+=n*me,q+=n*Me,P+=n*st,O+=n*Ze,H+=n*je,Y+=n*$e,ce+=n*Ne,$+=n*Ge,n=t[12],B+=n*ue,_+=n*W,C+=n*ee,S+=n*se,F+=n*ie,k+=n*we,L+=n*Se,R+=n*Oe,q+=n*me,P+=n*Me,O+=n*st,H+=n*Ze,Y+=n*je,ce+=n*$e,$+=n*Ne,ne+=n*Ge,n=t[13],_+=n*ue,C+=n*W,S+=n*ee,F+=n*se,k+=n*ie,L+=n*we,R+=n*Se,q+=n*Oe,P+=n*me,O+=n*Me,H+=n*st,Y+=n*Ze,ce+=n*je,$+=n*$e,ne+=n*Ne,j+=n*Ge,n=t[14],C+=n*ue,S+=n*W,F+=n*ee,k+=n*se,L+=n*ie,R+=n*we,q+=n*Se,P+=n*Oe,O+=n*me,H+=n*Me,Y+=n*st,ce+=n*Ze,$+=n*je,ne+=n*$e,j+=n*Ne,oe+=n*Ge,n=t[15],S+=n*ue,F+=n*W,k+=n*ee,L+=n*se,R+=n*ie,q+=n*we,P+=n*Se,O+=n*Oe,H+=n*me,Y+=n*Me,ce+=n*st,$+=n*Ze,ne+=n*je,j+=n*$e,oe+=n*Ne,_e+=n*Ge,s+=38*F,l+=38*k,u+=38*L,c+=38*R,f+=38*q,h+=38*P,p+=38*O,v+=38*H,x+=38*Y,g+=38*ce,E+=38*$,m+=38*ne,B+=38*j,_+=38*oe,C+=38*_e,a=1,n=s+a+65535,a=Math.floor(n/65536),s=n-a*65536,n=l+a+65535,a=Math.floor(n/65536),l=n-a*65536,n=u+a+65535,a=Math.floor(n/65536),u=n-a*65536,n=c+a+65535,a=Math.floor(n/65536),c=n-a*65536,n=f+a+65535,a=Math.floor(n/65536),f=n-a*65536,n=h+a+65535,a=Math.floor(n/65536),h=n-a*65536,n=p+a+65535,a=Math.floor(n/65536),p=n-a*65536,n=v+a+65535,a=Math.floor(n/65536),v=n-a*65536,n=x+a+65535,a=Math.floor(n/65536),x=n-a*65536,n=g+a+65535,a=Math.floor(n/65536),g=n-a*65536,n=E+a+65535,a=Math.floor(n/65536),E=n-a*65536,n=m+a+65535,a=Math.floor(n/65536),m=n-a*65536,n=B+a+65535,a=Math.floor(n/65536),B=n-a*65536,n=_+a+65535,a=Math.floor(n/65536),_=n-a*65536,n=C+a+65535,a=Math.floor(n/65536),C=n-a*65536,n=S+a+65535,a=Math.floor(n/65536),S=n-a*65536,s+=a-1+37*(a-1),a=1,n=s+a+65535,a=Math.floor(n/65536),s=n-a*65536,n=l+a+65535,a=Math.floor(n/65536),l=n-a*65536,n=u+a+65535,a=Math.floor(n/65536),u=n-a*65536,n=c+a+65535,a=Math.floor(n/65536),c=n-a*65536,n=f+a+65535,a=Math.floor(n/65536),f=n-a*65536,n=h+a+65535,a=Math.floor(n/65536),h=n-a*65536,n=p+a+65535,a=Math.floor(n/65536),p=n-a*65536,n=v+a+65535,a=Math.floor(n/65536),v=n-a*65536,n=x+a+65535,a=Math.floor(n/65536),x=n-a*65536,n=g+a+65535,a=Math.floor(n/65536),g=n-a*65536,n=E+a+65535,a=Math.floor(n/65536),E=n-a*65536,n=m+a+65535,a=Math.floor(n/65536),m=n-a*65536,n=B+a+65535,a=Math.floor(n/65536),B=n-a*65536,n=_+a+65535,a=Math.floor(n/65536),_=n-a*65536,n=C+a+65535,a=Math.floor(n/65536),C=n-a*65536,n=S+a+65535,a=Math.floor(n/65536),S=n-a*65536,s+=a-1+37*(a-1),e[0]=s,e[1]=l,e[2]=u,e[3]=c,e[4]=f,e[5]=h,e[6]=p,e[7]=v,e[8]=x,e[9]=g,e[10]=E,e[11]=m,e[12]=B,e[13]=_,e[14]=C,e[15]=S}var fn=dt;fn.kem=fn.kem||{};var Ud=fn.jsbn.BigInteger;fn.kem.rsa={};fn.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||fn.random,n={};return n.encrypt=function(a,s){var l=Math.ceil(a.n.bitLength()/8),u;do u=new Ud(fn.util.bytesToHex(r.getBytesSync(l)),16).mod(a.n);while(u.compareTo(Ud.ONE)<=0);u=fn.util.hexToBytes(u.toString(16));var c=l-u.length;c>0&&(u=fn.util.fillString(String.fromCharCode(0),c)+u);var f=a.encrypt(u,"NONE"),h=e.generate(u,s);return{encapsulation:f,key:h}},n.decrypt=function(a,s,l){var u=a.decrypt(s,"NONE");return e.generate(u,l)},n};fn.kem.kdf1=function(e,t){n1(this,e,0,t||e.digestLength)};fn.kem.kdf2=function(e,t){n1(this,e,1,t||e.digestLength)};function n1(e,t,r,n){e.generate=function(a,s){for(var l=new fn.util.ByteBuffer,u=Math.ceil(s/n)+r,c=new fn.util.ByteBuffer,f=r;f<u;++f){c.putInt32(f),t.start(),t.update(a+c.getBytes());var h=t.digest();l.putBytes(h.getBytes(n))}return l.truncate(l.length()-s),l.getBytes()}}var Ct=dt;Ct.log=Ct.log||{};Ct.log.levels=["none","error","warning","info","debug","verbose","max"];var js={},Mu=[],I0=null;Ct.log.LEVEL_LOCKED=2;Ct.log.NO_LEVEL_CHECK=4;Ct.log.INTERPOLATE=8;for(var Mi=0;Mi<Ct.log.levels.length;++Mi){var Od=Ct.log.levels[Mi];js[Od]={index:Mi,name:Od.toUpperCase()}}Ct.log.logMessage=function(e){for(var t=js[e.level].index,r=0;r<Mu.length;++r){var n=Mu[r];if(n.flags&Ct.log.NO_LEVEL_CHECK)n.f(e);else{var a=js[n.level].index;t<=a&&n.f(n,e)}}};Ct.log.prepareStandard=function(e){"standard"in e||(e.standard=js[e.level].name+" ["+e.category+"] "+e.message)};Ct.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Ct.util.format.apply(this,t)}};Ct.log.prepareStandardFull=function(e){"standardFull"in e||(Ct.log.prepareStandard(e),e.standardFull=e.standard)};for(var Md=["error","warning","info","debug","verbose"],Mi=0;Mi<Md.length;++Mi)(function(t){Ct.log[t]=function(r,n){var a=Array.prototype.slice.call(arguments).slice(2),s={timestamp:new Date,level:t,category:r,message:n,arguments:a};Ct.log.logMessage(s)}})(Md[Mi]);Ct.log.makeLogger=function(e){var t={flags:0,f:e};return Ct.log.setLevel(t,"none"),t};Ct.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Ct.log.LEVEL_LOCKED))for(var n=0;n<Ct.log.levels.length;++n){var a=Ct.log.levels[n];if(t==a){e.level=t,r=!0;break}}return r};Ct.log.lock=function(e,t){typeof t>"u"||t?e.flags|=Ct.log.LEVEL_LOCKED:e.flags&=~Ct.log.LEVEL_LOCKED};Ct.log.addLogger=function(e){Mu.push(e)};if(typeof console<"u"&&"log"in console){var _0;if(console.error&&console.warn&&console.info&&console.debug){var k8={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},uf=function(e,t){Ct.log.prepareStandard(t);var r=k8[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)};_0=Ct.log.makeLogger(uf)}else{var uf=function(t,r){Ct.log.prepareStandardFull(r),console.log(r.standardFull)};_0=Ct.log.makeLogger(uf)}Ct.log.setLevel(_0,"debug"),Ct.log.addLogger(_0),I0=_0}else console={log:function(){}};if(I0!==null&&typeof window<"u"&&window.location){var Fs=new URL(window.location.href).searchParams;if(Fs.has("console.level")&&Ct.log.setLevel(I0,Fs.get("console.level").slice(-1)[0]),Fs.has("console.lock")){var F8=Fs.get("console.lock").slice(-1)[0];F8=="true"&&Ct.log.lock(I0)}}Ct.log.consoleLogger=I0;var Be=dt,Q=Be.asn1,Vr=Be.pkcs7=Be.pkcs7||{};Vr.messageFromPem=function(e){var t=Be.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=Q.fromDer(t.body);return Vr.messageFromAsn1(n)};Vr.messageToPem=function(e,t){var r={type:"PKCS7",body:Q.toDer(e.toAsn1()).getBytes()};return Be.pem.encode(r,{maxline:t})};Vr.messageFromAsn1=function(e){var t={},r=[];if(!Q.validate(e,Vr.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var a=Q.derToOid(t.contentType),s;switch(a){case Be.pki.oids.envelopedData:s=Vr.createEnvelopedData();break;case Be.pki.oids.encryptedData:s=Vr.createEncryptedData();break;case Be.pki.oids.signedData:s=Vr.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+a+" is not (yet) supported.")}return s.fromAsn1(t.content.value[0]),s};Vr.createSignedData=function(){var e=null;return e={type:Be.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(ff(e,n,Vr.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var a=e.rawCapture.certificates.value,s=0;s<a.length;++s)e.certificates.push(Be.pki.certificateFromAsn1(a[s]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],a=0;a<e.certificates.length;++a)n.push(Be.pki.certificateToAsn1(e.certificates[a]));var s=[],l=Q.create(Q.Class.CONTEXT_SPECIFIC,0,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.INTEGER,!1,Q.integerToDer(e.version).getBytes()),Q.create(Q.Class.UNIVERSAL,Q.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&l.value[0].value.push(Q.create(Q.Class.CONTEXT_SPECIFIC,0,!0,n)),s.length>0&&l.value[0].value.push(Q.create(Q.Class.CONTEXT_SPECIFIC,1,!0,s)),l.value[0].value.push(Q.create(Q.Class.UNIVERSAL,Q.Type.SET,!0,e.signerInfos)),Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OID,!1,Q.oidToDer(e.type).getBytes()),l])},addSigner:function(n){var a=n.issuer,s=n.serialNumber;if(n.certificate){var l=n.certificate;typeof l=="string"&&(l=Be.pki.certificateFromPem(l)),a=l.issuer.attributes,s=l.serialNumber}var u=n.key;if(!u)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof u=="string"&&(u=Be.pki.privateKeyFromPem(u));var c=n.digestAlgorithm||Be.pki.oids.sha1;switch(c){case Be.pki.oids.sha1:case Be.pki.oids.sha256:case Be.pki.oids.sha384:case Be.pki.oids.sha512:case Be.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var f=n.authenticatedAttributes||[];if(f.length>0){for(var h=!1,p=!1,v=0;v<f.length;++v){var x=f[v];if(!h&&x.type===Be.pki.oids.contentType){if(h=!0,p)break;continue}if(!p&&x.type===Be.pki.oids.messageDigest){if(p=!0,h)break;continue}}if(!h||!p)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:u,version:1,issuer:a,serialNumber:s,digestAlgorithm:c,signatureAlgorithm:Be.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:f,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OID,!1,Q.oidToDer(Be.pki.oids.data).getBytes())]),"content"in e)){var a;e.content instanceof Be.util.ByteBuffer?a=e.content.bytes():typeof e.content=="string"&&(a=Be.util.encodeUtf8(e.content)),n.detached?e.detachedContent=Q.create(Q.Class.UNIVERSAL,Q.Type.OCTETSTRING,!1,a):e.contentInfo.value.push(Q.create(Q.Class.CONTEXT_SPECIFIC,0,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OCTETSTRING,!1,a)]))}if(e.signers.length!==0){var s=t();r(s)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=Be.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},a=0;a<e.signers.length;++a){var s=e.signers[a],l=s.digestAlgorithm;l in n||(n[l]=Be.md[Be.pki.oids[l]].create()),s.authenticatedAttributes.length===0?s.md=n[l]:s.md=Be.md[Be.pki.oids[l]].create()}e.digestAlgorithmIdentifiers=[];for(var l in n)e.digestAlgorithmIdentifiers.push(Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OID,!1,Q.oidToDer(l).getBytes()),Q.create(Q.Class.UNIVERSAL,Q.Type.NULL,!1,"")]));return n}function r(n){var a;if(e.detachedContent?a=e.detachedContent:(a=e.contentInfo.value[1],a=a.value[0]),!a)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=Q.derToOid(e.contentInfo.value[0].value),l=Q.toDer(a);l.getByte(),Q.getBerValueLength(l),l=l.getBytes();for(var u in n)n[u].start().update(l);for(var c=new Date,f=0;f<e.signers.length;++f){var h=e.signers[f];if(h.authenticatedAttributes.length===0){if(s!==Be.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{h.authenticatedAttributesAsn1=Q.create(Q.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var p=Q.create(Q.Class.UNIVERSAL,Q.Type.SET,!0,[]),v=0;v<h.authenticatedAttributes.length;++v){var x=h.authenticatedAttributes[v];x.type===Be.pki.oids.messageDigest?x.value=n[h.digestAlgorithm].digest():x.type===Be.pki.oids.signingTime&&(x.value||(x.value=c)),p.value.push(Vu(x)),h.authenticatedAttributesAsn1.value.push(Vu(x))}l=Q.toDer(p).getBytes(),h.md.start().update(l)}h.signature=h.key.sign(h.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=V8(e.signers)}};Vr.createEncryptedData=function(){var e=null;return e={type:Be.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:Be.pki.oids["aes256-CBC"]},fromAsn1:function(t){ff(e,t,Vr.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),i1(e)}},e};Vr.createEnvelopedData=function(){var e=null;return e={type:Be.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:Be.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=ff(e,t,Vr.asn1.envelopedDataValidator);e.recipients=U8(r.recipientInfos.value)},toAsn1:function(){return Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OID,!1,Q.oidToDer(e.type).getBytes()),Q.create(Q.Class.CONTEXT_SPECIFIC,0,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.INTEGER,!1,Q.integerToDer(e.version).getBytes()),Q.create(Q.Class.UNIVERSAL,Q.Type.SET,!0,O8(e.recipients)),Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,K8(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var a=e.recipients[n],s=a.issuer;if(a.serialNumber===t.serialNumber&&s.length===r.length){for(var l=!0,u=0;u<r.length;++u)if(s[u].type!==r[u].type||s[u].value!==r[u].value){l=!1;break}if(l)return a}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case Be.pki.oids.rsaEncryption:case Be.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=Be.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}i1(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:Be.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,a,s;switch(r){case Be.pki.oids["aes128-CBC"]:n=16,a=16,s=Be.aes.createEncryptionCipher;break;case Be.pki.oids["aes192-CBC"]:n=24,a=16,s=Be.aes.createEncryptionCipher;break;case Be.pki.oids["aes256-CBC"]:n=32,a=16,s=Be.aes.createEncryptionCipher;break;case Be.pki.oids["des-EDE3-CBC"]:n=24,a=8,s=Be.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=Be.util.createBuffer(Be.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=Be.util.createBuffer(Be.random.getBytes(a));var l=s(t);if(l.start(e.encryptedContent.parameter.copy()),l.update(e.content),!l.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=l.output}for(var u=0;u<e.recipients.length;++u){var c=e.recipients[u];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case Be.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}},e};function L8(e){var t={},r=[];if(!Q.validate(e,Vr.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:Be.pki.RDNAttributesAsArray(t.issuer),serialNumber:Be.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:Q.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}function P8(e){return Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.INTEGER,!1,Q.integerToDer(e.version).getBytes()),Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Be.pki.distinguishedNameToAsn1({attributes:e.issuer}),Q.create(Q.Class.UNIVERSAL,Q.Type.INTEGER,!1,Be.util.hexToBytes(e.serialNumber))]),Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OID,!1,Q.oidToDer(e.encryptedContent.algorithm).getBytes()),Q.create(Q.Class.UNIVERSAL,Q.Type.NULL,!1,"")]),Q.create(Q.Class.UNIVERSAL,Q.Type.OCTETSTRING,!1,e.encryptedContent.content)])}function U8(e){for(var t=[],r=0;r<e.length;++r)t.push(L8(e[r]));return t}function O8(e){for(var t=[],r=0;r<e.length;++r)t.push(P8(e[r]));return t}function M8(e){var t=Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.INTEGER,!1,Q.integerToDer(e.version).getBytes()),Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Be.pki.distinguishedNameToAsn1({attributes:e.issuer}),Q.create(Q.Class.UNIVERSAL,Q.Type.INTEGER,!1,Be.util.hexToBytes(e.serialNumber))]),Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OID,!1,Q.oidToDer(e.digestAlgorithm).getBytes()),Q.create(Q.Class.UNIVERSAL,Q.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OID,!1,Q.oidToDer(e.signatureAlgorithm).getBytes()),Q.create(Q.Class.UNIVERSAL,Q.Type.NULL,!1,"")])),t.value.push(Q.create(Q.Class.UNIVERSAL,Q.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=Q.create(Q.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var a=e.unauthenticatedAttributes[n];r.values.push(Vu(a))}t.value.push(r)}return t}function V8(e){for(var t=[],r=0;r<e.length;++r)t.push(M8(e[r]));return t}function Vu(e){var t;if(e.type===Be.pki.oids.contentType)t=Q.create(Q.Class.UNIVERSAL,Q.Type.OID,!1,Q.oidToDer(e.value).getBytes());else if(e.type===Be.pki.oids.messageDigest)t=Q.create(Q.Class.UNIVERSAL,Q.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===Be.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),a=e.value;if(typeof a=="string"){var s=Date.parse(a);isNaN(s)?a.length===13?a=Q.utcTimeToDate(a):a=Q.generalizedTimeToDate(a):a=new Date(s)}a>=r&&a<n?t=Q.create(Q.Class.UNIVERSAL,Q.Type.UTCTIME,!1,Q.dateToUtcTime(a)):t=Q.create(Q.Class.UNIVERSAL,Q.Type.GENERALIZEDTIME,!1,Q.dateToGeneralizedTime(a))}return Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OID,!1,Q.oidToDer(e.type).getBytes()),Q.create(Q.Class.UNIVERSAL,Q.Type.SET,!0,[t])])}function K8(e){return[Q.create(Q.Class.UNIVERSAL,Q.Type.OID,!1,Q.oidToDer(Be.pki.oids.data).getBytes()),Q.create(Q.Class.UNIVERSAL,Q.Type.SEQUENCE,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OID,!1,Q.oidToDer(e.algorithm).getBytes()),e.parameter?Q.create(Q.Class.UNIVERSAL,Q.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),Q.create(Q.Class.CONTEXT_SPECIFIC,0,!0,[Q.create(Q.Class.UNIVERSAL,Q.Type.OCTETSTRING,!1,e.content.getBytes())])]}function ff(e,t,r){var n={},a=[];if(!Q.validate(t,r,n,a)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}var l=Q.derToOid(n.contentType);if(l!==Be.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var u="";if(Be.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==Q.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");u+=n.encryptedContent[c].value}else u=n.encryptedContent;e.encryptedContent={algorithm:Q.derToOid(n.encAlgorithm),parameter:Be.util.createBuffer(n.encParameter.value),content:Be.util.createBuffer(u)}}if(n.content){var u="";if(Be.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==Q.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");u+=n.content[c].value}else u=n.content;e.content=Be.util.createBuffer(u)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}function i1(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case Be.pki.oids["aes128-CBC"]:case Be.pki.oids["aes192-CBC"]:case Be.pki.oids["aes256-CBC"]:t=Be.aes.createDecryptionCipher(e.encryptedContent.key);break;case Be.pki.oids.desCBC:case Be.pki.oids["des-EDE3-CBC"]:t=Be.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}var ur=dt,ho=ur.ssh=ur.ssh||{};ho.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",a=t===""?"none":"aes256-cbc",s="PuTTY-User-Key-File-2: "+n+`\r
`;s+="Encryption: "+a+`\r
`,s+="Comment: "+r+`\r
`;var l=ur.util.createBuffer();Ga(l,n),Yn(l,e.e),Yn(l,e.n);var u=ur.util.encode64(l.bytes(),64),c=Math.floor(u.length/66)+1;s+="Public-Lines: "+c+`\r
`,s+=u;var f=ur.util.createBuffer();Yn(f,e.d),Yn(f,e.p),Yn(f,e.q),Yn(f,e.qInv);var h;if(!t)h=ur.util.encode64(f.bytes(),64);else{var p=f.length()+16-1;p-=p%16;var v=Ls(f.bytes());v.truncate(v.length()-p+f.length()),f.putBuffer(v);var x=ur.util.createBuffer();x.putBuffer(Ls("\0\0\0\0",t)),x.putBuffer(Ls("\0\0\0",t));var g=ur.aes.createEncryptionCipher(x.truncate(8),"CBC");g.start(ur.util.createBuffer().fillWithByte(0,16)),g.update(f.copy()),g.finish();var E=g.output;E.truncate(16),h=ur.util.encode64(E.bytes(),64)}c=Math.floor(h.length/66)+1,s+=`\r
Private-Lines: `+c+`\r
`,s+=h;var m=Ls("putty-private-key-file-mac-key",t),B=ur.util.createBuffer();Ga(B,n),Ga(B,a),Ga(B,r),B.putInt32(l.length()),B.putBuffer(l),B.putInt32(f.length()),B.putBuffer(f);var _=ur.hmac.create();return _.start("sha1",m),_.update(B.bytes()),s+=`\r
Private-MAC: `+_.digest().toHex()+`\r
`,s};ho.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=ur.util.createBuffer();return Ga(n,r),Yn(n,e.e),Yn(n,e.n),r+" "+ur.util.encode64(n.bytes())+" "+t};ho.privateKeyToOpenSSH=function(e,t){return t?ur.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):ur.pki.privateKeyToPem(e)};ho.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||ur.md.md5.create(),n="ssh-rsa",a=ur.util.createBuffer();Ga(a,n),Yn(a,e.e),Yn(a,e.n),r.start(),r.update(a.getBytes());var s=r.digest();if(t.encoding==="hex"){var l=s.toHex();return t.delimiter?l.match(/.{2}/g).join(t.delimiter):l}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};function Yn(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=ur.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}function Ga(e,t){e.putInt32(t.length),e.putString(t)}function Ls(){for(var e=ur.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}var H8=dt;const Ni=zu(H8);var Js={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Js.exports;(function(e,t){(function(){var r,n="4.17.21",a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",p=1,v=2,x=4,g=1,E=2,m=1,B=2,_=4,C=8,S=16,F=32,k=64,L=128,R=256,q=512,P=30,O="...",H=800,Y=16,ce=1,$=2,ne=3,j=1/0,oe=9007199254740991,_e=17976931348623157e292,ue=0/0,W=4294967295,ee=W-1,se=W>>>1,ie=[["ary",L],["bind",m],["bindKey",B],["curry",C],["curryRight",S],["flip",q],["partial",F],["partialRight",k],["rearg",R]],we="[object Arguments]",Se="[object Array]",Oe="[object AsyncFunction]",me="[object Boolean]",Me="[object Date]",st="[object DOMException]",Ze="[object Error]",je="[object Function]",$e="[object GeneratorFunction]",Ne="[object Map]",Ge="[object Number]",He="[object Null]",Ve="[object Object]",Et="[object Promise]",Vt="[object Proxy]",jt="[object RegExp]",ot="[object Set]",kt="[object String]",pt="[object Symbol]",dr="[object Undefined]",rr="[object WeakMap]",Rr="[object WeakSet]",ae="[object ArrayBuffer]",de="[object DataView]",ke="[object Float32Array]",Le="[object Float64Array]",It="[object Int8Array]",Kt="[object Int16Array]",mi="[object Int32Array]",en="[object Uint8Array]",ei="[object Uint8ClampedArray]",cn="[object Uint16Array]",wn="[object Uint32Array]",Wi=/\b__p \+= '';/g,_r=/\b(__p \+=) '' \+/g,Dn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Rn=/&(?:amp|lt|gt|quot|#39);/g,hn=/[&<>"']/g,ma=RegExp(Rn.source),Qi=RegExp(hn.source),ti=/<%-([\s\S]+?)%>/g,zr=/<%([\s\S]+?)%>/g,Yi=/<%=([\s\S]+?)%>/g,Nn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xi=/^\w*$/,ri=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qr=/[\\^$.*+?()[\]{}|]/g,ar=RegExp(qr.source),Ir=/^\s+/,ni=/\s/,Ca=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ci=/\{\n\/\* \[wrapped with (.+)\] \*/,Ea=/,? & /,t0=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,M0=/[()=,{}\[\]\/\s]/,Nr=/\\(\\)?/g,r0=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,n0=/\w*$/,V0=/^[-+]0x[0-9a-f]+$/i,_a=/^0b[01]+$/i,dn=/^\[object .+?Constructor\]$/,sr=/^0o[0-7]+$/i,po=/^(?:0|[1-9]\d*)$/,vo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Aa=/($^)/,or=/['\n\r\u2028\u2029\\]/g,Ba="\\ud800-\\udfff",xo="\\u0300-\\u036f",go="\\ufe20-\\ufe2f",yo="\\u20d0-\\u20ff",K0=xo+go+yo,H0="\\u2700-\\u27bf",i0="a-z\\xdf-\\xf6\\xf8-\\xff",mo="\\xac\\xb1\\xd7\\xf7",lr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Co="\\u2000-\\u206f",Eo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",z0="A-Z\\xc0-\\xd6\\xd8-\\xde",a0="\\ufe0e\\ufe0f",tn=mo+lr+Co+Eo,bt="['’]",q0="["+Ba+"]",cf="["+tn+"]",G0="["+K0+"]",hf="\\d+",o1="["+H0+"]",df="["+i0+"]",pf="[^"+Ba+tn+hf+H0+i0+z0+"]",_o="\\ud83c[\\udffb-\\udfff]",l1="(?:"+G0+"|"+_o+")",vf="[^"+Ba+"]",Ao="(?:\\ud83c[\\udde6-\\uddff]){2}",Bo="[\\ud800-\\udbff][\\udc00-\\udfff]",ba="["+z0+"]",xf="\\u200d",gf="(?:"+df+"|"+pf+")",u1="(?:"+ba+"|"+pf+")",yf="(?:"+bt+"(?:d|ll|m|re|s|t|ve))?",mf="(?:"+bt+"(?:D|LL|M|RE|S|T|VE))?",Cf=l1+"?",Ef="["+a0+"]?",f1="(?:"+xf+"(?:"+[vf,Ao,Bo].join("|")+")"+Ef+Cf+")*",c1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",h1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",_f=Ef+Cf+f1,d1="(?:"+[o1,Ao,Bo].join("|")+")"+_f,p1="(?:"+[vf+G0+"?",G0,Ao,Bo,q0].join("|")+")",v1=RegExp(bt,"g"),x1=RegExp(G0,"g"),bo=RegExp(_o+"(?="+_o+")|"+p1+_f,"g"),g1=RegExp([ba+"?"+df+"+"+yf+"(?="+[cf,ba,"$"].join("|")+")",u1+"+"+mf+"(?="+[cf,ba+gf,"$"].join("|")+")",ba+"?"+gf+"+"+yf,ba+"+"+mf,h1,c1,hf,d1].join("|"),"g"),y1=RegExp("["+xf+Ba+K0+a0+"]"),m1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,C1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],E1=-1,Ht={};Ht[ke]=Ht[Le]=Ht[It]=Ht[Kt]=Ht[mi]=Ht[en]=Ht[ei]=Ht[cn]=Ht[wn]=!0,Ht[we]=Ht[Se]=Ht[ae]=Ht[me]=Ht[de]=Ht[Me]=Ht[Ze]=Ht[je]=Ht[Ne]=Ht[Ge]=Ht[Ve]=Ht[jt]=Ht[ot]=Ht[kt]=Ht[rr]=!1;var Ut={};Ut[we]=Ut[Se]=Ut[ae]=Ut[de]=Ut[me]=Ut[Me]=Ut[ke]=Ut[Le]=Ut[It]=Ut[Kt]=Ut[mi]=Ut[Ne]=Ut[Ge]=Ut[Ve]=Ut[jt]=Ut[ot]=Ut[kt]=Ut[pt]=Ut[en]=Ut[ei]=Ut[cn]=Ut[wn]=!0,Ut[Ze]=Ut[je]=Ut[rr]=!1;var _1={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},A1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},B1={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},b1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},S1=parseFloat,T1=parseInt,Af=typeof et=="object"&&et&&et.Object===Object&&et,I1=typeof self=="object"&&self&&self.Object===Object&&self,Ar=Af||I1||Function("return this")(),So=t&&!t.nodeType&&t,Zi=So&&!0&&e&&!e.nodeType&&e,Bf=Zi&&Zi.exports===So,To=Bf&&Af.process,pn=function(){try{var Z=Zi&&Zi.require&&Zi.require("util").types;return Z||To&&To.binding&&To.binding("util")}catch{}}(),bf=pn&&pn.isArrayBuffer,Sf=pn&&pn.isDate,Tf=pn&&pn.isMap,If=pn&&pn.isRegExp,wf=pn&&pn.isSet,Df=pn&&pn.isTypedArray;function rn(Z,he,le){switch(le.length){case 0:return Z.call(he);case 1:return Z.call(he,le[0]);case 2:return Z.call(he,le[0],le[1]);case 3:return Z.call(he,le[0],le[1],le[2])}return Z.apply(he,le)}function w1(Z,he,le,Pe){for(var tt=-1,wt=Z==null?0:Z.length;++tt<wt;){var fr=Z[tt];he(Pe,fr,le(fr),Z)}return Pe}function vn(Z,he){for(var le=-1,Pe=Z==null?0:Z.length;++le<Pe&&he(Z[le],le,Z)!==!1;);return Z}function D1(Z,he){for(var le=Z==null?0:Z.length;le--&&he(Z[le],le,Z)!==!1;);return Z}function Rf(Z,he){for(var le=-1,Pe=Z==null?0:Z.length;++le<Pe;)if(!he(Z[le],le,Z))return!1;return!0}function Ei(Z,he){for(var le=-1,Pe=Z==null?0:Z.length,tt=0,wt=[];++le<Pe;){var fr=Z[le];he(fr,le,Z)&&(wt[tt++]=fr)}return wt}function W0(Z,he){var le=Z==null?0:Z.length;return!!le&&Sa(Z,he,0)>-1}function Io(Z,he,le){for(var Pe=-1,tt=Z==null?0:Z.length;++Pe<tt;)if(le(he,Z[Pe]))return!0;return!1}function Wt(Z,he){for(var le=-1,Pe=Z==null?0:Z.length,tt=Array(Pe);++le<Pe;)tt[le]=he(Z[le],le,Z);return tt}function _i(Z,he){for(var le=-1,Pe=he.length,tt=Z.length;++le<Pe;)Z[tt+le]=he[le];return Z}function wo(Z,he,le,Pe){var tt=-1,wt=Z==null?0:Z.length;for(Pe&&wt&&(le=Z[++tt]);++tt<wt;)le=he(le,Z[tt],tt,Z);return le}function R1(Z,he,le,Pe){var tt=Z==null?0:Z.length;for(Pe&&tt&&(le=Z[--tt]);tt--;)le=he(le,Z[tt],tt,Z);return le}function Do(Z,he){for(var le=-1,Pe=Z==null?0:Z.length;++le<Pe;)if(he(Z[le],le,Z))return!0;return!1}var N1=Ro("length");function k1(Z){return Z.split("")}function F1(Z){return Z.match(t0)||[]}function Nf(Z,he,le){var Pe;return le(Z,function(tt,wt,fr){if(he(tt,wt,fr))return Pe=wt,!1}),Pe}function Q0(Z,he,le,Pe){for(var tt=Z.length,wt=le+(Pe?1:-1);Pe?wt--:++wt<tt;)if(he(Z[wt],wt,Z))return wt;return-1}function Sa(Z,he,le){return he===he?W1(Z,he,le):Q0(Z,kf,le)}function L1(Z,he,le,Pe){for(var tt=le-1,wt=Z.length;++tt<wt;)if(Pe(Z[tt],he))return tt;return-1}function kf(Z){return Z!==Z}function Ff(Z,he){var le=Z==null?0:Z.length;return le?ko(Z,he)/le:ue}function Ro(Z){return function(he){return he==null?r:he[Z]}}function No(Z){return function(he){return Z==null?r:Z[he]}}function Lf(Z,he,le,Pe,tt){return tt(Z,function(wt,fr,Ft){le=Pe?(Pe=!1,wt):he(le,wt,fr,Ft)}),le}function P1(Z,he){var le=Z.length;for(Z.sort(he);le--;)Z[le]=Z[le].value;return Z}function ko(Z,he){for(var le,Pe=-1,tt=Z.length;++Pe<tt;){var wt=he(Z[Pe]);wt!==r&&(le=le===r?wt:le+wt)}return le}function Fo(Z,he){for(var le=-1,Pe=Array(Z);++le<Z;)Pe[le]=he(le);return Pe}function U1(Z,he){return Wt(he,function(le){return[le,Z[le]]})}function Pf(Z){return Z&&Z.slice(0,Vf(Z)+1).replace(Ir,"")}function nn(Z){return function(he){return Z(he)}}function Lo(Z,he){return Wt(he,function(le){return Z[le]})}function s0(Z,he){return Z.has(he)}function Uf(Z,he){for(var le=-1,Pe=Z.length;++le<Pe&&Sa(he,Z[le],0)>-1;);return le}function Of(Z,he){for(var le=Z.length;le--&&Sa(he,Z[le],0)>-1;);return le}function O1(Z,he){for(var le=Z.length,Pe=0;le--;)Z[le]===he&&++Pe;return Pe}var M1=No(_1),V1=No(A1);function K1(Z){return"\\"+b1[Z]}function H1(Z,he){return Z==null?r:Z[he]}function Ta(Z){return y1.test(Z)}function z1(Z){return m1.test(Z)}function q1(Z){for(var he,le=[];!(he=Z.next()).done;)le.push(he.value);return le}function Po(Z){var he=-1,le=Array(Z.size);return Z.forEach(function(Pe,tt){le[++he]=[tt,Pe]}),le}function Mf(Z,he){return function(le){return Z(he(le))}}function Ai(Z,he){for(var le=-1,Pe=Z.length,tt=0,wt=[];++le<Pe;){var fr=Z[le];(fr===he||fr===h)&&(Z[le]=h,wt[tt++]=le)}return wt}function Y0(Z){var he=-1,le=Array(Z.size);return Z.forEach(function(Pe){le[++he]=Pe}),le}function G1(Z){var he=-1,le=Array(Z.size);return Z.forEach(function(Pe){le[++he]=[Pe,Pe]}),le}function W1(Z,he,le){for(var Pe=le-1,tt=Z.length;++Pe<tt;)if(Z[Pe]===he)return Pe;return-1}function Q1(Z,he,le){for(var Pe=le+1;Pe--;)if(Z[Pe]===he)return Pe;return Pe}function Ia(Z){return Ta(Z)?X1(Z):N1(Z)}function kn(Z){return Ta(Z)?Z1(Z):k1(Z)}function Vf(Z){for(var he=Z.length;he--&&ni.test(Z.charAt(he)););return he}var Y1=No(B1);function X1(Z){for(var he=bo.lastIndex=0;bo.test(Z);)++he;return he}function Z1(Z){return Z.match(bo)||[]}function j1(Z){return Z.match(g1)||[]}var J1=function Z(he){he=he==null?Ar:wa.defaults(Ar.Object(),he,wa.pick(Ar,C1));var le=he.Array,Pe=he.Date,tt=he.Error,wt=he.Function,fr=he.Math,Ft=he.Object,Uo=he.RegExp,$1=he.String,xn=he.TypeError,X0=le.prototype,ev=wt.prototype,Da=Ft.prototype,Z0=he["__core-js_shared__"],j0=ev.toString,Nt=Da.hasOwnProperty,tv=0,Kf=function(){var i=/[^.]+$/.exec(Z0&&Z0.keys&&Z0.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),J0=Da.toString,rv=j0.call(Ft),nv=Ar._,iv=Uo("^"+j0.call(Nt).replace(qr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$0=Bf?he.Buffer:r,Bi=he.Symbol,es=he.Uint8Array,Hf=$0?$0.allocUnsafe:r,ts=Mf(Ft.getPrototypeOf,Ft),zf=Ft.create,qf=Da.propertyIsEnumerable,rs=X0.splice,Gf=Bi?Bi.isConcatSpreadable:r,o0=Bi?Bi.iterator:r,ji=Bi?Bi.toStringTag:r,ns=function(){try{var i=ra(Ft,"defineProperty");return i({},"",{}),i}catch{}}(),av=he.clearTimeout!==Ar.clearTimeout&&he.clearTimeout,sv=Pe&&Pe.now!==Ar.Date.now&&Pe.now,ov=he.setTimeout!==Ar.setTimeout&&he.setTimeout,is=fr.ceil,as=fr.floor,Oo=Ft.getOwnPropertySymbols,lv=$0?$0.isBuffer:r,Wf=he.isFinite,uv=X0.join,fv=Mf(Ft.keys,Ft),cr=fr.max,wr=fr.min,cv=Pe.now,hv=he.parseInt,Qf=fr.random,dv=X0.reverse,Mo=ra(he,"DataView"),l0=ra(he,"Map"),Vo=ra(he,"Promise"),Ra=ra(he,"Set"),u0=ra(he,"WeakMap"),f0=ra(Ft,"create"),ss=u0&&new u0,Na={},pv=na(Mo),vv=na(l0),xv=na(Vo),gv=na(Ra),yv=na(u0),os=Bi?Bi.prototype:r,c0=os?os.valueOf:r,Yf=os?os.toString:r;function D(i){if(er(i)&&!rt(i)&&!(i instanceof mt)){if(i instanceof gn)return i;if(Nt.call(i,"__wrapped__"))return Xc(i)}return new gn(i)}var ka=function(){function i(){}return function(o){if(!Jt(o))return{};if(zf)return zf(o);i.prototype=o;var d=new i;return i.prototype=r,d}}();function ls(){}function gn(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=r}D.templateSettings={escape:ti,evaluate:zr,interpolate:Yi,variable:"",imports:{_:D}},D.prototype=ls.prototype,D.prototype.constructor=D,gn.prototype=ka(ls.prototype),gn.prototype.constructor=gn;function mt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=W,this.__views__=[]}function mv(){var i=new mt(this.__wrapped__);return i.__actions__=Gr(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Gr(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Gr(this.__views__),i}function Cv(){if(this.__filtered__){var i=new mt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function Ev(){var i=this.__wrapped__.value(),o=this.__dir__,d=rt(i),y=o<0,b=d?i.length:0,N=kx(0,b,this.__views__),K=N.start,G=N.end,J=G-K,pe=y?G:K-1,ve=this.__iteratees__,ye=ve.length,Te=0,Ue=wr(J,this.__takeCount__);if(!d||!y&&b==J&&Ue==J)return yc(i,this.__actions__);var Qe=[];e:for(;J--&&Te<Ue;){pe+=o;for(var lt=-1,Ye=i[pe];++lt<ye;){var vt=ve[lt],_t=vt.iteratee,on=vt.type,Lr=_t(Ye);if(on==$)Ye=Lr;else if(!Lr){if(on==ce)continue e;break e}}Qe[Te++]=Ye}return Qe}mt.prototype=ka(ls.prototype),mt.prototype.constructor=mt;function Ji(i){var o=-1,d=i==null?0:i.length;for(this.clear();++o<d;){var y=i[o];this.set(y[0],y[1])}}function _v(){this.__data__=f0?f0(null):{},this.size=0}function Av(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function Bv(i){var o=this.__data__;if(f0){var d=o[i];return d===c?r:d}return Nt.call(o,i)?o[i]:r}function bv(i){var o=this.__data__;return f0?o[i]!==r:Nt.call(o,i)}function Sv(i,o){var d=this.__data__;return this.size+=this.has(i)?0:1,d[i]=f0&&o===r?c:o,this}Ji.prototype.clear=_v,Ji.prototype.delete=Av,Ji.prototype.get=Bv,Ji.prototype.has=bv,Ji.prototype.set=Sv;function ii(i){var o=-1,d=i==null?0:i.length;for(this.clear();++o<d;){var y=i[o];this.set(y[0],y[1])}}function Tv(){this.__data__=[],this.size=0}function Iv(i){var o=this.__data__,d=us(o,i);if(d<0)return!1;var y=o.length-1;return d==y?o.pop():rs.call(o,d,1),--this.size,!0}function wv(i){var o=this.__data__,d=us(o,i);return d<0?r:o[d][1]}function Dv(i){return us(this.__data__,i)>-1}function Rv(i,o){var d=this.__data__,y=us(d,i);return y<0?(++this.size,d.push([i,o])):d[y][1]=o,this}ii.prototype.clear=Tv,ii.prototype.delete=Iv,ii.prototype.get=wv,ii.prototype.has=Dv,ii.prototype.set=Rv;function ai(i){var o=-1,d=i==null?0:i.length;for(this.clear();++o<d;){var y=i[o];this.set(y[0],y[1])}}function Nv(){this.size=0,this.__data__={hash:new Ji,map:new(l0||ii),string:new Ji}}function kv(i){var o=Es(this,i).delete(i);return this.size-=o?1:0,o}function Fv(i){return Es(this,i).get(i)}function Lv(i){return Es(this,i).has(i)}function Pv(i,o){var d=Es(this,i),y=d.size;return d.set(i,o),this.size+=d.size==y?0:1,this}ai.prototype.clear=Nv,ai.prototype.delete=kv,ai.prototype.get=Fv,ai.prototype.has=Lv,ai.prototype.set=Pv;function $i(i){var o=-1,d=i==null?0:i.length;for(this.__data__=new ai;++o<d;)this.add(i[o])}function Uv(i){return this.__data__.set(i,c),this}function Ov(i){return this.__data__.has(i)}$i.prototype.add=$i.prototype.push=Uv,$i.prototype.has=Ov;function Fn(i){var o=this.__data__=new ii(i);this.size=o.size}function Mv(){this.__data__=new ii,this.size=0}function Vv(i){var o=this.__data__,d=o.delete(i);return this.size=o.size,d}function Kv(i){return this.__data__.get(i)}function Hv(i){return this.__data__.has(i)}function zv(i,o){var d=this.__data__;if(d instanceof ii){var y=d.__data__;if(!l0||y.length<a-1)return y.push([i,o]),this.size=++d.size,this;d=this.__data__=new ai(y)}return d.set(i,o),this.size=d.size,this}Fn.prototype.clear=Mv,Fn.prototype.delete=Vv,Fn.prototype.get=Kv,Fn.prototype.has=Hv,Fn.prototype.set=zv;function Xf(i,o){var d=rt(i),y=!d&&ia(i),b=!d&&!y&&wi(i),N=!d&&!y&&!b&&Ua(i),K=d||y||b||N,G=K?Fo(i.length,$1):[],J=G.length;for(var pe in i)(o||Nt.call(i,pe))&&!(K&&(pe=="length"||b&&(pe=="offset"||pe=="parent")||N&&(pe=="buffer"||pe=="byteLength"||pe=="byteOffset")||ui(pe,J)))&&G.push(pe);return G}function Zf(i){var o=i.length;return o?i[jo(0,o-1)]:r}function qv(i,o){return _s(Gr(i),ea(o,0,i.length))}function Gv(i){return _s(Gr(i))}function Ko(i,o,d){(d!==r&&!Ln(i[o],d)||d===r&&!(o in i))&&si(i,o,d)}function h0(i,o,d){var y=i[o];(!(Nt.call(i,o)&&Ln(y,d))||d===r&&!(o in i))&&si(i,o,d)}function us(i,o){for(var d=i.length;d--;)if(Ln(i[d][0],o))return d;return-1}function Wv(i,o,d,y){return bi(i,function(b,N,K){o(y,b,d(b),K)}),y}function jf(i,o){return i&&Hn(o,pr(o),i)}function Qv(i,o){return i&&Hn(o,Qr(o),i)}function si(i,o,d){o=="__proto__"&&ns?ns(i,o,{configurable:!0,enumerable:!0,value:d,writable:!0}):i[o]=d}function Ho(i,o){for(var d=-1,y=o.length,b=le(y),N=i==null;++d<y;)b[d]=N?r:_l(i,o[d]);return b}function ea(i,o,d){return i===i&&(d!==r&&(i=i<=d?i:d),o!==r&&(i=i>=o?i:o)),i}function yn(i,o,d,y,b,N){var K,G=o&p,J=o&v,pe=o&x;if(d&&(K=b?d(i,y,b,N):d(i)),K!==r)return K;if(!Jt(i))return i;var ve=rt(i);if(ve){if(K=Lx(i),!G)return Gr(i,K)}else{var ye=Dr(i),Te=ye==je||ye==$e;if(wi(i))return Ec(i,G);if(ye==Ve||ye==we||Te&&!b){if(K=J||Te?{}:Vc(i),!G)return J?Bx(i,Qv(K,i)):Ax(i,jf(K,i))}else{if(!Ut[ye])return b?i:{};K=Px(i,ye,G)}}N||(N=new Fn);var Ue=N.get(i);if(Ue)return Ue;N.set(i,K),vh(i)?i.forEach(function(Ye){K.add(yn(Ye,o,d,Ye,i,N))}):dh(i)&&i.forEach(function(Ye,vt){K.set(vt,yn(Ye,o,d,vt,i,N))});var Qe=pe?J?ll:ol:J?Qr:pr,lt=ve?r:Qe(i);return vn(lt||i,function(Ye,vt){lt&&(vt=Ye,Ye=i[vt]),h0(K,vt,yn(Ye,o,d,vt,i,N))}),K}function Yv(i){var o=pr(i);return function(d){return Jf(d,i,o)}}function Jf(i,o,d){var y=d.length;if(i==null)return!y;for(i=Ft(i);y--;){var b=d[y],N=o[b],K=i[b];if(K===r&&!(b in i)||!N(K))return!1}return!0}function $f(i,o,d){if(typeof i!="function")throw new xn(l);return m0(function(){i.apply(r,d)},o)}function d0(i,o,d,y){var b=-1,N=W0,K=!0,G=i.length,J=[],pe=o.length;if(!G)return J;d&&(o=Wt(o,nn(d))),y?(N=Io,K=!1):o.length>=a&&(N=s0,K=!1,o=new $i(o));e:for(;++b<G;){var ve=i[b],ye=d==null?ve:d(ve);if(ve=y||ve!==0?ve:0,K&&ye===ye){for(var Te=pe;Te--;)if(o[Te]===ye)continue e;J.push(ve)}else N(o,ye,y)||J.push(ve)}return J}var bi=Sc(Kn),ec=Sc(qo,!0);function Xv(i,o){var d=!0;return bi(i,function(y,b,N){return d=!!o(y,b,N),d}),d}function fs(i,o,d){for(var y=-1,b=i.length;++y<b;){var N=i[y],K=o(N);if(K!=null&&(G===r?K===K&&!sn(K):d(K,G)))var G=K,J=N}return J}function Zv(i,o,d,y){var b=i.length;for(d=it(d),d<0&&(d=-d>b?0:b+d),y=y===r||y>b?b:it(y),y<0&&(y+=b),y=d>y?0:gh(y);d<y;)i[d++]=o;return i}function tc(i,o){var d=[];return bi(i,function(y,b,N){o(y,b,N)&&d.push(y)}),d}function Br(i,o,d,y,b){var N=-1,K=i.length;for(d||(d=Ox),b||(b=[]);++N<K;){var G=i[N];o>0&&d(G)?o>1?Br(G,o-1,d,y,b):_i(b,G):y||(b[b.length]=G)}return b}var zo=Tc(),rc=Tc(!0);function Kn(i,o){return i&&zo(i,o,pr)}function qo(i,o){return i&&rc(i,o,pr)}function cs(i,o){return Ei(o,function(d){return fi(i[d])})}function ta(i,o){o=Ti(o,i);for(var d=0,y=o.length;i!=null&&d<y;)i=i[zn(o[d++])];return d&&d==y?i:r}function nc(i,o,d){var y=o(i);return rt(i)?y:_i(y,d(i))}function kr(i){return i==null?i===r?dr:He:ji&&ji in Ft(i)?Nx(i):Gx(i)}function Go(i,o){return i>o}function jv(i,o){return i!=null&&Nt.call(i,o)}function Jv(i,o){return i!=null&&o in Ft(i)}function $v(i,o,d){return i>=wr(o,d)&&i<cr(o,d)}function Wo(i,o,d){for(var y=d?Io:W0,b=i[0].length,N=i.length,K=N,G=le(N),J=1/0,pe=[];K--;){var ve=i[K];K&&o&&(ve=Wt(ve,nn(o))),J=wr(ve.length,J),G[K]=!d&&(o||b>=120&&ve.length>=120)?new $i(K&&ve):r}ve=i[0];var ye=-1,Te=G[0];e:for(;++ye<b&&pe.length<J;){var Ue=ve[ye],Qe=o?o(Ue):Ue;if(Ue=d||Ue!==0?Ue:0,!(Te?s0(Te,Qe):y(pe,Qe,d))){for(K=N;--K;){var lt=G[K];if(!(lt?s0(lt,Qe):y(i[K],Qe,d)))continue e}Te&&Te.push(Qe),pe.push(Ue)}}return pe}function ex(i,o,d,y){return Kn(i,function(b,N,K){o(y,d(b),N,K)}),y}function p0(i,o,d){o=Ti(o,i),i=qc(i,o);var y=i==null?i:i[zn(Cn(o))];return y==null?r:rn(y,i,d)}function ic(i){return er(i)&&kr(i)==we}function tx(i){return er(i)&&kr(i)==ae}function rx(i){return er(i)&&kr(i)==Me}function v0(i,o,d,y,b){return i===o?!0:i==null||o==null||!er(i)&&!er(o)?i!==i&&o!==o:nx(i,o,d,y,v0,b)}function nx(i,o,d,y,b,N){var K=rt(i),G=rt(o),J=K?Se:Dr(i),pe=G?Se:Dr(o);J=J==we?Ve:J,pe=pe==we?Ve:pe;var ve=J==Ve,ye=pe==Ve,Te=J==pe;if(Te&&wi(i)){if(!wi(o))return!1;K=!0,ve=!1}if(Te&&!ve)return N||(N=new Fn),K||Ua(i)?Uc(i,o,d,y,b,N):Dx(i,o,J,d,y,b,N);if(!(d&g)){var Ue=ve&&Nt.call(i,"__wrapped__"),Qe=ye&&Nt.call(o,"__wrapped__");if(Ue||Qe){var lt=Ue?i.value():i,Ye=Qe?o.value():o;return N||(N=new Fn),b(lt,Ye,d,y,N)}}return Te?(N||(N=new Fn),Rx(i,o,d,y,b,N)):!1}function ix(i){return er(i)&&Dr(i)==Ne}function Qo(i,o,d,y){var b=d.length,N=b,K=!y;if(i==null)return!N;for(i=Ft(i);b--;){var G=d[b];if(K&&G[2]?G[1]!==i[G[0]]:!(G[0]in i))return!1}for(;++b<N;){G=d[b];var J=G[0],pe=i[J],ve=G[1];if(K&&G[2]){if(pe===r&&!(J in i))return!1}else{var ye=new Fn;if(y)var Te=y(pe,ve,J,i,o,ye);if(!(Te===r?v0(ve,pe,g|E,y,ye):Te))return!1}}return!0}function ac(i){if(!Jt(i)||Vx(i))return!1;var o=fi(i)?iv:dn;return o.test(na(i))}function ax(i){return er(i)&&kr(i)==jt}function sx(i){return er(i)&&Dr(i)==ot}function ox(i){return er(i)&&Is(i.length)&&!!Ht[kr(i)]}function sc(i){return typeof i=="function"?i:i==null?Yr:typeof i=="object"?rt(i)?uc(i[0],i[1]):lc(i):Ih(i)}function Yo(i){if(!y0(i))return fv(i);var o=[];for(var d in Ft(i))Nt.call(i,d)&&d!="constructor"&&o.push(d);return o}function lx(i){if(!Jt(i))return qx(i);var o=y0(i),d=[];for(var y in i)y=="constructor"&&(o||!Nt.call(i,y))||d.push(y);return d}function Xo(i,o){return i<o}function oc(i,o){var d=-1,y=Wr(i)?le(i.length):[];return bi(i,function(b,N,K){y[++d]=o(b,N,K)}),y}function lc(i){var o=fl(i);return o.length==1&&o[0][2]?Hc(o[0][0],o[0][1]):function(d){return d===i||Qo(d,i,o)}}function uc(i,o){return hl(i)&&Kc(o)?Hc(zn(i),o):function(d){var y=_l(d,i);return y===r&&y===o?Al(d,i):v0(o,y,g|E)}}function hs(i,o,d,y,b){i!==o&&zo(o,function(N,K){if(b||(b=new Fn),Jt(N))ux(i,o,K,d,hs,y,b);else{var G=y?y(pl(i,K),N,K+"",i,o,b):r;G===r&&(G=N),Ko(i,K,G)}},Qr)}function ux(i,o,d,y,b,N,K){var G=pl(i,d),J=pl(o,d),pe=K.get(J);if(pe){Ko(i,d,pe);return}var ve=N?N(G,J,d+"",i,o,K):r,ye=ve===r;if(ye){var Te=rt(J),Ue=!Te&&wi(J),Qe=!Te&&!Ue&&Ua(J);ve=J,Te||Ue||Qe?rt(G)?ve=G:nr(G)?ve=Gr(G):Ue?(ye=!1,ve=Ec(J,!0)):Qe?(ye=!1,ve=_c(J,!0)):ve=[]:C0(J)||ia(J)?(ve=G,ia(G)?ve=yh(G):(!Jt(G)||fi(G))&&(ve=Vc(J))):ye=!1}ye&&(K.set(J,ve),b(ve,J,y,N,K),K.delete(J)),Ko(i,d,ve)}function fc(i,o){var d=i.length;if(d)return o+=o<0?d:0,ui(o,d)?i[o]:r}function cc(i,o,d){o.length?o=Wt(o,function(N){return rt(N)?function(K){return ta(K,N.length===1?N[0]:N)}:N}):o=[Yr];var y=-1;o=Wt(o,nn(We()));var b=oc(i,function(N,K,G){var J=Wt(o,function(pe){return pe(N)});return{criteria:J,index:++y,value:N}});return P1(b,function(N,K){return _x(N,K,d)})}function fx(i,o){return hc(i,o,function(d,y){return Al(i,y)})}function hc(i,o,d){for(var y=-1,b=o.length,N={};++y<b;){var K=o[y],G=ta(i,K);d(G,K)&&x0(N,Ti(K,i),G)}return N}function cx(i){return function(o){return ta(o,i)}}function Zo(i,o,d,y){var b=y?L1:Sa,N=-1,K=o.length,G=i;for(i===o&&(o=Gr(o)),d&&(G=Wt(i,nn(d)));++N<K;)for(var J=0,pe=o[N],ve=d?d(pe):pe;(J=b(G,ve,J,y))>-1;)G!==i&&rs.call(G,J,1),rs.call(i,J,1);return i}function dc(i,o){for(var d=i?o.length:0,y=d-1;d--;){var b=o[d];if(d==y||b!==N){var N=b;ui(b)?rs.call(i,b,1):el(i,b)}}return i}function jo(i,o){return i+as(Qf()*(o-i+1))}function hx(i,o,d,y){for(var b=-1,N=cr(is((o-i)/(d||1)),0),K=le(N);N--;)K[y?N:++b]=i,i+=d;return K}function Jo(i,o){var d="";if(!i||o<1||o>oe)return d;do o%2&&(d+=i),o=as(o/2),o&&(i+=i);while(o);return d}function ft(i,o){return vl(zc(i,o,Yr),i+"")}function dx(i){return Zf(Oa(i))}function px(i,o){var d=Oa(i);return _s(d,ea(o,0,d.length))}function x0(i,o,d,y){if(!Jt(i))return i;o=Ti(o,i);for(var b=-1,N=o.length,K=N-1,G=i;G!=null&&++b<N;){var J=zn(o[b]),pe=d;if(J==="__proto__"||J==="constructor"||J==="prototype")return i;if(b!=K){var ve=G[J];pe=y?y(ve,J,G):r,pe===r&&(pe=Jt(ve)?ve:ui(o[b+1])?[]:{})}h0(G,J,pe),G=G[J]}return i}var pc=ss?function(i,o){return ss.set(i,o),i}:Yr,vx=ns?function(i,o){return ns(i,"toString",{configurable:!0,enumerable:!1,value:bl(o),writable:!0})}:Yr;function xx(i){return _s(Oa(i))}function mn(i,o,d){var y=-1,b=i.length;o<0&&(o=-o>b?0:b+o),d=d>b?b:d,d<0&&(d+=b),b=o>d?0:d-o>>>0,o>>>=0;for(var N=le(b);++y<b;)N[y]=i[y+o];return N}function gx(i,o){var d;return bi(i,function(y,b,N){return d=o(y,b,N),!d}),!!d}function ds(i,o,d){var y=0,b=i==null?y:i.length;if(typeof o=="number"&&o===o&&b<=se){for(;y<b;){var N=y+b>>>1,K=i[N];K!==null&&!sn(K)&&(d?K<=o:K<o)?y=N+1:b=N}return b}return $o(i,o,Yr,d)}function $o(i,o,d,y){var b=0,N=i==null?0:i.length;if(N===0)return 0;o=d(o);for(var K=o!==o,G=o===null,J=sn(o),pe=o===r;b<N;){var ve=as((b+N)/2),ye=d(i[ve]),Te=ye!==r,Ue=ye===null,Qe=ye===ye,lt=sn(ye);if(K)var Ye=y||Qe;else pe?Ye=Qe&&(y||Te):G?Ye=Qe&&Te&&(y||!Ue):J?Ye=Qe&&Te&&!Ue&&(y||!lt):Ue||lt?Ye=!1:Ye=y?ye<=o:ye<o;Ye?b=ve+1:N=ve}return wr(N,ee)}function vc(i,o){for(var d=-1,y=i.length,b=0,N=[];++d<y;){var K=i[d],G=o?o(K):K;if(!d||!Ln(G,J)){var J=G;N[b++]=K===0?0:K}}return N}function xc(i){return typeof i=="number"?i:sn(i)?ue:+i}function an(i){if(typeof i=="string")return i;if(rt(i))return Wt(i,an)+"";if(sn(i))return Yf?Yf.call(i):"";var o=i+"";return o=="0"&&1/i==-j?"-0":o}function Si(i,o,d){var y=-1,b=W0,N=i.length,K=!0,G=[],J=G;if(d)K=!1,b=Io;else if(N>=a){var pe=o?null:Ix(i);if(pe)return Y0(pe);K=!1,b=s0,J=new $i}else J=o?[]:G;e:for(;++y<N;){var ve=i[y],ye=o?o(ve):ve;if(ve=d||ve!==0?ve:0,K&&ye===ye){for(var Te=J.length;Te--;)if(J[Te]===ye)continue e;o&&J.push(ye),G.push(ve)}else b(J,ye,d)||(J!==G&&J.push(ye),G.push(ve))}return G}function el(i,o){return o=Ti(o,i),i=qc(i,o),i==null||delete i[zn(Cn(o))]}function gc(i,o,d,y){return x0(i,o,d(ta(i,o)),y)}function ps(i,o,d,y){for(var b=i.length,N=y?b:-1;(y?N--:++N<b)&&o(i[N],N,i););return d?mn(i,y?0:N,y?N+1:b):mn(i,y?N+1:0,y?b:N)}function yc(i,o){var d=i;return d instanceof mt&&(d=d.value()),wo(o,function(y,b){return b.func.apply(b.thisArg,_i([y],b.args))},d)}function tl(i,o,d){var y=i.length;if(y<2)return y?Si(i[0]):[];for(var b=-1,N=le(y);++b<y;)for(var K=i[b],G=-1;++G<y;)G!=b&&(N[b]=d0(N[b]||K,i[G],o,d));return Si(Br(N,1),o,d)}function mc(i,o,d){for(var y=-1,b=i.length,N=o.length,K={};++y<b;){var G=y<N?o[y]:r;d(K,i[y],G)}return K}function rl(i){return nr(i)?i:[]}function nl(i){return typeof i=="function"?i:Yr}function Ti(i,o){return rt(i)?i:hl(i,o)?[i]:Yc(Dt(i))}var yx=ft;function Ii(i,o,d){var y=i.length;return d=d===r?y:d,!o&&d>=y?i:mn(i,o,d)}var Cc=av||function(i){return Ar.clearTimeout(i)};function Ec(i,o){if(o)return i.slice();var d=i.length,y=Hf?Hf(d):new i.constructor(d);return i.copy(y),y}function il(i){var o=new i.constructor(i.byteLength);return new es(o).set(new es(i)),o}function mx(i,o){var d=o?il(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.byteLength)}function Cx(i){var o=new i.constructor(i.source,n0.exec(i));return o.lastIndex=i.lastIndex,o}function Ex(i){return c0?Ft(c0.call(i)):{}}function _c(i,o){var d=o?il(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.length)}function Ac(i,o){if(i!==o){var d=i!==r,y=i===null,b=i===i,N=sn(i),K=o!==r,G=o===null,J=o===o,pe=sn(o);if(!G&&!pe&&!N&&i>o||N&&K&&J&&!G&&!pe||y&&K&&J||!d&&J||!b)return 1;if(!y&&!N&&!pe&&i<o||pe&&d&&b&&!y&&!N||G&&d&&b||!K&&b||!J)return-1}return 0}function _x(i,o,d){for(var y=-1,b=i.criteria,N=o.criteria,K=b.length,G=d.length;++y<K;){var J=Ac(b[y],N[y]);if(J){if(y>=G)return J;var pe=d[y];return J*(pe=="desc"?-1:1)}}return i.index-o.index}function Bc(i,o,d,y){for(var b=-1,N=i.length,K=d.length,G=-1,J=o.length,pe=cr(N-K,0),ve=le(J+pe),ye=!y;++G<J;)ve[G]=o[G];for(;++b<K;)(ye||b<N)&&(ve[d[b]]=i[b]);for(;pe--;)ve[G++]=i[b++];return ve}function bc(i,o,d,y){for(var b=-1,N=i.length,K=-1,G=d.length,J=-1,pe=o.length,ve=cr(N-G,0),ye=le(ve+pe),Te=!y;++b<ve;)ye[b]=i[b];for(var Ue=b;++J<pe;)ye[Ue+J]=o[J];for(;++K<G;)(Te||b<N)&&(ye[Ue+d[K]]=i[b++]);return ye}function Gr(i,o){var d=-1,y=i.length;for(o||(o=le(y));++d<y;)o[d]=i[d];return o}function Hn(i,o,d,y){var b=!d;d||(d={});for(var N=-1,K=o.length;++N<K;){var G=o[N],J=y?y(d[G],i[G],G,d,i):r;J===r&&(J=i[G]),b?si(d,G,J):h0(d,G,J)}return d}function Ax(i,o){return Hn(i,cl(i),o)}function Bx(i,o){return Hn(i,Oc(i),o)}function vs(i,o){return function(d,y){var b=rt(d)?w1:Wv,N=o?o():{};return b(d,i,We(y,2),N)}}function Fa(i){return ft(function(o,d){var y=-1,b=d.length,N=b>1?d[b-1]:r,K=b>2?d[2]:r;for(N=i.length>3&&typeof N=="function"?(b--,N):r,K&&Fr(d[0],d[1],K)&&(N=b<3?r:N,b=1),o=Ft(o);++y<b;){var G=d[y];G&&i(o,G,y,N)}return o})}function Sc(i,o){return function(d,y){if(d==null)return d;if(!Wr(d))return i(d,y);for(var b=d.length,N=o?b:-1,K=Ft(d);(o?N--:++N<b)&&y(K[N],N,K)!==!1;);return d}}function Tc(i){return function(o,d,y){for(var b=-1,N=Ft(o),K=y(o),G=K.length;G--;){var J=K[i?G:++b];if(d(N[J],J,N)===!1)break}return o}}function bx(i,o,d){var y=o&m,b=g0(i);function N(){var K=this&&this!==Ar&&this instanceof N?b:i;return K.apply(y?d:this,arguments)}return N}function Ic(i){return function(o){o=Dt(o);var d=Ta(o)?kn(o):r,y=d?d[0]:o.charAt(0),b=d?Ii(d,1).join(""):o.slice(1);return y[i]()+b}}function La(i){return function(o){return wo(Sh(bh(o).replace(v1,"")),i,"")}}function g0(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var d=ka(i.prototype),y=i.apply(d,o);return Jt(y)?y:d}}function Sx(i,o,d){var y=g0(i);function b(){for(var N=arguments.length,K=le(N),G=N,J=Pa(b);G--;)K[G]=arguments[G];var pe=N<3&&K[0]!==J&&K[N-1]!==J?[]:Ai(K,J);if(N-=pe.length,N<d)return kc(i,o,xs,b.placeholder,r,K,pe,r,r,d-N);var ve=this&&this!==Ar&&this instanceof b?y:i;return rn(ve,this,K)}return b}function wc(i){return function(o,d,y){var b=Ft(o);if(!Wr(o)){var N=We(d,3);o=pr(o),d=function(G){return N(b[G],G,b)}}var K=i(o,d,y);return K>-1?b[N?o[K]:K]:r}}function Dc(i){return li(function(o){var d=o.length,y=d,b=gn.prototype.thru;for(i&&o.reverse();y--;){var N=o[y];if(typeof N!="function")throw new xn(l);if(b&&!K&&Cs(N)=="wrapper")var K=new gn([],!0)}for(y=K?y:d;++y<d;){N=o[y];var G=Cs(N),J=G=="wrapper"?ul(N):r;J&&dl(J[0])&&J[1]==(L|C|F|R)&&!J[4].length&&J[9]==1?K=K[Cs(J[0])].apply(K,J[3]):K=N.length==1&&dl(N)?K[G]():K.thru(N)}return function(){var pe=arguments,ve=pe[0];if(K&&pe.length==1&&rt(ve))return K.plant(ve).value();for(var ye=0,Te=d?o[ye].apply(this,pe):ve;++ye<d;)Te=o[ye].call(this,Te);return Te}})}function xs(i,o,d,y,b,N,K,G,J,pe){var ve=o&L,ye=o&m,Te=o&B,Ue=o&(C|S),Qe=o&q,lt=Te?r:g0(i);function Ye(){for(var vt=arguments.length,_t=le(vt),on=vt;on--;)_t[on]=arguments[on];if(Ue)var Lr=Pa(Ye),ln=O1(_t,Lr);if(y&&(_t=Bc(_t,y,b,Ue)),N&&(_t=bc(_t,N,K,Ue)),vt-=ln,Ue&&vt<pe){var ir=Ai(_t,Lr);return kc(i,o,xs,Ye.placeholder,d,_t,ir,G,J,pe-vt)}var Pn=ye?d:this,hi=Te?Pn[i]:i;return vt=_t.length,G?_t=Wx(_t,G):Qe&&vt>1&&_t.reverse(),ve&&J<vt&&(_t.length=J),this&&this!==Ar&&this instanceof Ye&&(hi=lt||g0(hi)),hi.apply(Pn,_t)}return Ye}function Rc(i,o){return function(d,y){return ex(d,i,o(y),{})}}function gs(i,o){return function(d,y){var b;if(d===r&&y===r)return o;if(d!==r&&(b=d),y!==r){if(b===r)return y;typeof d=="string"||typeof y=="string"?(d=an(d),y=an(y)):(d=xc(d),y=xc(y)),b=i(d,y)}return b}}function al(i){return li(function(o){return o=Wt(o,nn(We())),ft(function(d){var y=this;return i(o,function(b){return rn(b,y,d)})})})}function ys(i,o){o=o===r?" ":an(o);var d=o.length;if(d<2)return d?Jo(o,i):o;var y=Jo(o,is(i/Ia(o)));return Ta(o)?Ii(kn(y),0,i).join(""):y.slice(0,i)}function Tx(i,o,d,y){var b=o&m,N=g0(i);function K(){for(var G=-1,J=arguments.length,pe=-1,ve=y.length,ye=le(ve+J),Te=this&&this!==Ar&&this instanceof K?N:i;++pe<ve;)ye[pe]=y[pe];for(;J--;)ye[pe++]=arguments[++G];return rn(Te,b?d:this,ye)}return K}function Nc(i){return function(o,d,y){return y&&typeof y!="number"&&Fr(o,d,y)&&(d=y=r),o=ci(o),d===r?(d=o,o=0):d=ci(d),y=y===r?o<d?1:-1:ci(y),hx(o,d,y,i)}}function ms(i){return function(o,d){return typeof o=="string"&&typeof d=="string"||(o=En(o),d=En(d)),i(o,d)}}function kc(i,o,d,y,b,N,K,G,J,pe){var ve=o&C,ye=ve?K:r,Te=ve?r:K,Ue=ve?N:r,Qe=ve?r:N;o|=ve?F:k,o&=~(ve?k:F),o&_||(o&=~(m|B));var lt=[i,o,b,Ue,ye,Qe,Te,G,J,pe],Ye=d.apply(r,lt);return dl(i)&&Gc(Ye,lt),Ye.placeholder=y,Wc(Ye,i,o)}function sl(i){var o=fr[i];return function(d,y){if(d=En(d),y=y==null?0:wr(it(y),292),y&&Wf(d)){var b=(Dt(d)+"e").split("e"),N=o(b[0]+"e"+(+b[1]+y));return b=(Dt(N)+"e").split("e"),+(b[0]+"e"+(+b[1]-y))}return o(d)}}var Ix=Ra&&1/Y0(new Ra([,-0]))[1]==j?function(i){return new Ra(i)}:Il;function Fc(i){return function(o){var d=Dr(o);return d==Ne?Po(o):d==ot?G1(o):U1(o,i(o))}}function oi(i,o,d,y,b,N,K,G){var J=o&B;if(!J&&typeof i!="function")throw new xn(l);var pe=y?y.length:0;if(pe||(o&=~(F|k),y=b=r),K=K===r?K:cr(it(K),0),G=G===r?G:it(G),pe-=b?b.length:0,o&k){var ve=y,ye=b;y=b=r}var Te=J?r:ul(i),Ue=[i,o,d,y,b,ve,ye,N,K,G];if(Te&&zx(Ue,Te),i=Ue[0],o=Ue[1],d=Ue[2],y=Ue[3],b=Ue[4],G=Ue[9]=Ue[9]===r?J?0:i.length:cr(Ue[9]-pe,0),!G&&o&(C|S)&&(o&=~(C|S)),!o||o==m)var Qe=bx(i,o,d);else o==C||o==S?Qe=Sx(i,o,G):(o==F||o==(m|F))&&!b.length?Qe=Tx(i,o,d,y):Qe=xs.apply(r,Ue);var lt=Te?pc:Gc;return Wc(lt(Qe,Ue),i,o)}function Lc(i,o,d,y){return i===r||Ln(i,Da[d])&&!Nt.call(y,d)?o:i}function Pc(i,o,d,y,b,N){return Jt(i)&&Jt(o)&&(N.set(o,i),hs(i,o,r,Pc,N),N.delete(o)),i}function wx(i){return C0(i)?r:i}function Uc(i,o,d,y,b,N){var K=d&g,G=i.length,J=o.length;if(G!=J&&!(K&&J>G))return!1;var pe=N.get(i),ve=N.get(o);if(pe&&ve)return pe==o&&ve==i;var ye=-1,Te=!0,Ue=d&E?new $i:r;for(N.set(i,o),N.set(o,i);++ye<G;){var Qe=i[ye],lt=o[ye];if(y)var Ye=K?y(lt,Qe,ye,o,i,N):y(Qe,lt,ye,i,o,N);if(Ye!==r){if(Ye)continue;Te=!1;break}if(Ue){if(!Do(o,function(vt,_t){if(!s0(Ue,_t)&&(Qe===vt||b(Qe,vt,d,y,N)))return Ue.push(_t)})){Te=!1;break}}else if(!(Qe===lt||b(Qe,lt,d,y,N))){Te=!1;break}}return N.delete(i),N.delete(o),Te}function Dx(i,o,d,y,b,N,K){switch(d){case de:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case ae:return!(i.byteLength!=o.byteLength||!N(new es(i),new es(o)));case me:case Me:case Ge:return Ln(+i,+o);case Ze:return i.name==o.name&&i.message==o.message;case jt:case kt:return i==o+"";case Ne:var G=Po;case ot:var J=y&g;if(G||(G=Y0),i.size!=o.size&&!J)return!1;var pe=K.get(i);if(pe)return pe==o;y|=E,K.set(i,o);var ve=Uc(G(i),G(o),y,b,N,K);return K.delete(i),ve;case pt:if(c0)return c0.call(i)==c0.call(o)}return!1}function Rx(i,o,d,y,b,N){var K=d&g,G=ol(i),J=G.length,pe=ol(o),ve=pe.length;if(J!=ve&&!K)return!1;for(var ye=J;ye--;){var Te=G[ye];if(!(K?Te in o:Nt.call(o,Te)))return!1}var Ue=N.get(i),Qe=N.get(o);if(Ue&&Qe)return Ue==o&&Qe==i;var lt=!0;N.set(i,o),N.set(o,i);for(var Ye=K;++ye<J;){Te=G[ye];var vt=i[Te],_t=o[Te];if(y)var on=K?y(_t,vt,Te,o,i,N):y(vt,_t,Te,i,o,N);if(!(on===r?vt===_t||b(vt,_t,d,y,N):on)){lt=!1;break}Ye||(Ye=Te=="constructor")}if(lt&&!Ye){var Lr=i.constructor,ln=o.constructor;Lr!=ln&&"constructor"in i&&"constructor"in o&&!(typeof Lr=="function"&&Lr instanceof Lr&&typeof ln=="function"&&ln instanceof ln)&&(lt=!1)}return N.delete(i),N.delete(o),lt}function li(i){return vl(zc(i,r,Jc),i+"")}function ol(i){return nc(i,pr,cl)}function ll(i){return nc(i,Qr,Oc)}var ul=ss?function(i){return ss.get(i)}:Il;function Cs(i){for(var o=i.name+"",d=Na[o],y=Nt.call(Na,o)?d.length:0;y--;){var b=d[y],N=b.func;if(N==null||N==i)return b.name}return o}function Pa(i){var o=Nt.call(D,"placeholder")?D:i;return o.placeholder}function We(){var i=D.iteratee||Sl;return i=i===Sl?sc:i,arguments.length?i(arguments[0],arguments[1]):i}function Es(i,o){var d=i.__data__;return Mx(o)?d[typeof o=="string"?"string":"hash"]:d.map}function fl(i){for(var o=pr(i),d=o.length;d--;){var y=o[d],b=i[y];o[d]=[y,b,Kc(b)]}return o}function ra(i,o){var d=H1(i,o);return ac(d)?d:r}function Nx(i){var o=Nt.call(i,ji),d=i[ji];try{i[ji]=r;var y=!0}catch{}var b=J0.call(i);return y&&(o?i[ji]=d:delete i[ji]),b}var cl=Oo?function(i){return i==null?[]:(i=Ft(i),Ei(Oo(i),function(o){return qf.call(i,o)}))}:wl,Oc=Oo?function(i){for(var o=[];i;)_i(o,cl(i)),i=ts(i);return o}:wl,Dr=kr;(Mo&&Dr(new Mo(new ArrayBuffer(1)))!=de||l0&&Dr(new l0)!=Ne||Vo&&Dr(Vo.resolve())!=Et||Ra&&Dr(new Ra)!=ot||u0&&Dr(new u0)!=rr)&&(Dr=function(i){var o=kr(i),d=o==Ve?i.constructor:r,y=d?na(d):"";if(y)switch(y){case pv:return de;case vv:return Ne;case xv:return Et;case gv:return ot;case yv:return rr}return o});function kx(i,o,d){for(var y=-1,b=d.length;++y<b;){var N=d[y],K=N.size;switch(N.type){case"drop":i+=K;break;case"dropRight":o-=K;break;case"take":o=wr(o,i+K);break;case"takeRight":i=cr(i,o-K);break}}return{start:i,end:o}}function Fx(i){var o=i.match(Ci);return o?o[1].split(Ea):[]}function Mc(i,o,d){o=Ti(o,i);for(var y=-1,b=o.length,N=!1;++y<b;){var K=zn(o[y]);if(!(N=i!=null&&d(i,K)))break;i=i[K]}return N||++y!=b?N:(b=i==null?0:i.length,!!b&&Is(b)&&ui(K,b)&&(rt(i)||ia(i)))}function Lx(i){var o=i.length,d=new i.constructor(o);return o&&typeof i[0]=="string"&&Nt.call(i,"index")&&(d.index=i.index,d.input=i.input),d}function Vc(i){return typeof i.constructor=="function"&&!y0(i)?ka(ts(i)):{}}function Px(i,o,d){var y=i.constructor;switch(o){case ae:return il(i);case me:case Me:return new y(+i);case de:return mx(i,d);case ke:case Le:case It:case Kt:case mi:case en:case ei:case cn:case wn:return _c(i,d);case Ne:return new y;case Ge:case kt:return new y(i);case jt:return Cx(i);case ot:return new y;case pt:return Ex(i)}}function Ux(i,o){var d=o.length;if(!d)return i;var y=d-1;return o[y]=(d>1?"& ":"")+o[y],o=o.join(d>2?", ":" "),i.replace(Ca,`{
/* [wrapped with `+o+`] */
`)}function Ox(i){return rt(i)||ia(i)||!!(Gf&&i&&i[Gf])}function ui(i,o){var d=typeof i;return o=o??oe,!!o&&(d=="number"||d!="symbol"&&po.test(i))&&i>-1&&i%1==0&&i<o}function Fr(i,o,d){if(!Jt(d))return!1;var y=typeof o;return(y=="number"?Wr(d)&&ui(o,d.length):y=="string"&&o in d)?Ln(d[o],i):!1}function hl(i,o){if(rt(i))return!1;var d=typeof i;return d=="number"||d=="symbol"||d=="boolean"||i==null||sn(i)?!0:Xi.test(i)||!Nn.test(i)||o!=null&&i in Ft(o)}function Mx(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function dl(i){var o=Cs(i),d=D[o];if(typeof d!="function"||!(o in mt.prototype))return!1;if(i===d)return!0;var y=ul(d);return!!y&&i===y[0]}function Vx(i){return!!Kf&&Kf in i}var Kx=Z0?fi:Dl;function y0(i){var o=i&&i.constructor,d=typeof o=="function"&&o.prototype||Da;return i===d}function Kc(i){return i===i&&!Jt(i)}function Hc(i,o){return function(d){return d==null?!1:d[i]===o&&(o!==r||i in Ft(d))}}function Hx(i){var o=Ss(i,function(y){return d.size===f&&d.clear(),y}),d=o.cache;return o}function zx(i,o){var d=i[1],y=o[1],b=d|y,N=b<(m|B|L),K=y==L&&d==C||y==L&&d==R&&i[7].length<=o[8]||y==(L|R)&&o[7].length<=o[8]&&d==C;if(!(N||K))return i;y&m&&(i[2]=o[2],b|=d&m?0:_);var G=o[3];if(G){var J=i[3];i[3]=J?Bc(J,G,o[4]):G,i[4]=J?Ai(i[3],h):o[4]}return G=o[5],G&&(J=i[5],i[5]=J?bc(J,G,o[6]):G,i[6]=J?Ai(i[5],h):o[6]),G=o[7],G&&(i[7]=G),y&L&&(i[8]=i[8]==null?o[8]:wr(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=b,i}function qx(i){var o=[];if(i!=null)for(var d in Ft(i))o.push(d);return o}function Gx(i){return J0.call(i)}function zc(i,o,d){return o=cr(o===r?i.length-1:o,0),function(){for(var y=arguments,b=-1,N=cr(y.length-o,0),K=le(N);++b<N;)K[b]=y[o+b];b=-1;for(var G=le(o+1);++b<o;)G[b]=y[b];return G[o]=d(K),rn(i,this,G)}}function qc(i,o){return o.length<2?i:ta(i,mn(o,0,-1))}function Wx(i,o){for(var d=i.length,y=wr(o.length,d),b=Gr(i);y--;){var N=o[y];i[y]=ui(N,d)?b[N]:r}return i}function pl(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var Gc=Qc(pc),m0=ov||function(i,o){return Ar.setTimeout(i,o)},vl=Qc(vx);function Wc(i,o,d){var y=o+"";return vl(i,Ux(y,Qx(Fx(y),d)))}function Qc(i){var o=0,d=0;return function(){var y=cv(),b=Y-(y-d);if(d=y,b>0){if(++o>=H)return arguments[0]}else o=0;return i.apply(r,arguments)}}function _s(i,o){var d=-1,y=i.length,b=y-1;for(o=o===r?y:o;++d<o;){var N=jo(d,b),K=i[N];i[N]=i[d],i[d]=K}return i.length=o,i}var Yc=Hx(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(ri,function(d,y,b,N){o.push(b?N.replace(Nr,"$1"):y||d)}),o});function zn(i){if(typeof i=="string"||sn(i))return i;var o=i+"";return o=="0"&&1/i==-j?"-0":o}function na(i){if(i!=null){try{return j0.call(i)}catch{}try{return i+""}catch{}}return""}function Qx(i,o){return vn(ie,function(d){var y="_."+d[0];o&d[1]&&!W0(i,y)&&i.push(y)}),i.sort()}function Xc(i){if(i instanceof mt)return i.clone();var o=new gn(i.__wrapped__,i.__chain__);return o.__actions__=Gr(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function Yx(i,o,d){(d?Fr(i,o,d):o===r)?o=1:o=cr(it(o),0);var y=i==null?0:i.length;if(!y||o<1)return[];for(var b=0,N=0,K=le(is(y/o));b<y;)K[N++]=mn(i,b,b+=o);return K}function Xx(i){for(var o=-1,d=i==null?0:i.length,y=0,b=[];++o<d;){var N=i[o];N&&(b[y++]=N)}return b}function Zx(){var i=arguments.length;if(!i)return[];for(var o=le(i-1),d=arguments[0],y=i;y--;)o[y-1]=arguments[y];return _i(rt(d)?Gr(d):[d],Br(o,1))}var jx=ft(function(i,o){return nr(i)?d0(i,Br(o,1,nr,!0)):[]}),Jx=ft(function(i,o){var d=Cn(o);return nr(d)&&(d=r),nr(i)?d0(i,Br(o,1,nr,!0),We(d,2)):[]}),$x=ft(function(i,o){var d=Cn(o);return nr(d)&&(d=r),nr(i)?d0(i,Br(o,1,nr,!0),r,d):[]});function eg(i,o,d){var y=i==null?0:i.length;return y?(o=d||o===r?1:it(o),mn(i,o<0?0:o,y)):[]}function tg(i,o,d){var y=i==null?0:i.length;return y?(o=d||o===r?1:it(o),o=y-o,mn(i,0,o<0?0:o)):[]}function rg(i,o){return i&&i.length?ps(i,We(o,3),!0,!0):[]}function ng(i,o){return i&&i.length?ps(i,We(o,3),!0):[]}function ig(i,o,d,y){var b=i==null?0:i.length;return b?(d&&typeof d!="number"&&Fr(i,o,d)&&(d=0,y=b),Zv(i,o,d,y)):[]}function Zc(i,o,d){var y=i==null?0:i.length;if(!y)return-1;var b=d==null?0:it(d);return b<0&&(b=cr(y+b,0)),Q0(i,We(o,3),b)}function jc(i,o,d){var y=i==null?0:i.length;if(!y)return-1;var b=y-1;return d!==r&&(b=it(d),b=d<0?cr(y+b,0):wr(b,y-1)),Q0(i,We(o,3),b,!0)}function Jc(i){var o=i==null?0:i.length;return o?Br(i,1):[]}function ag(i){var o=i==null?0:i.length;return o?Br(i,j):[]}function sg(i,o){var d=i==null?0:i.length;return d?(o=o===r?1:it(o),Br(i,o)):[]}function og(i){for(var o=-1,d=i==null?0:i.length,y={};++o<d;){var b=i[o];y[b[0]]=b[1]}return y}function $c(i){return i&&i.length?i[0]:r}function lg(i,o,d){var y=i==null?0:i.length;if(!y)return-1;var b=d==null?0:it(d);return b<0&&(b=cr(y+b,0)),Sa(i,o,b)}function ug(i){var o=i==null?0:i.length;return o?mn(i,0,-1):[]}var fg=ft(function(i){var o=Wt(i,rl);return o.length&&o[0]===i[0]?Wo(o):[]}),cg=ft(function(i){var o=Cn(i),d=Wt(i,rl);return o===Cn(d)?o=r:d.pop(),d.length&&d[0]===i[0]?Wo(d,We(o,2)):[]}),hg=ft(function(i){var o=Cn(i),d=Wt(i,rl);return o=typeof o=="function"?o:r,o&&d.pop(),d.length&&d[0]===i[0]?Wo(d,r,o):[]});function dg(i,o){return i==null?"":uv.call(i,o)}function Cn(i){var o=i==null?0:i.length;return o?i[o-1]:r}function pg(i,o,d){var y=i==null?0:i.length;if(!y)return-1;var b=y;return d!==r&&(b=it(d),b=b<0?cr(y+b,0):wr(b,y-1)),o===o?Q1(i,o,b):Q0(i,kf,b,!0)}function vg(i,o){return i&&i.length?fc(i,it(o)):r}var xg=ft(eh);function eh(i,o){return i&&i.length&&o&&o.length?Zo(i,o):i}function gg(i,o,d){return i&&i.length&&o&&o.length?Zo(i,o,We(d,2)):i}function yg(i,o,d){return i&&i.length&&o&&o.length?Zo(i,o,r,d):i}var mg=li(function(i,o){var d=i==null?0:i.length,y=Ho(i,o);return dc(i,Wt(o,function(b){return ui(b,d)?+b:b}).sort(Ac)),y});function Cg(i,o){var d=[];if(!(i&&i.length))return d;var y=-1,b=[],N=i.length;for(o=We(o,3);++y<N;){var K=i[y];o(K,y,i)&&(d.push(K),b.push(y))}return dc(i,b),d}function xl(i){return i==null?i:dv.call(i)}function Eg(i,o,d){var y=i==null?0:i.length;return y?(d&&typeof d!="number"&&Fr(i,o,d)?(o=0,d=y):(o=o==null?0:it(o),d=d===r?y:it(d)),mn(i,o,d)):[]}function _g(i,o){return ds(i,o)}function Ag(i,o,d){return $o(i,o,We(d,2))}function Bg(i,o){var d=i==null?0:i.length;if(d){var y=ds(i,o);if(y<d&&Ln(i[y],o))return y}return-1}function bg(i,o){return ds(i,o,!0)}function Sg(i,o,d){return $o(i,o,We(d,2),!0)}function Tg(i,o){var d=i==null?0:i.length;if(d){var y=ds(i,o,!0)-1;if(Ln(i[y],o))return y}return-1}function Ig(i){return i&&i.length?vc(i):[]}function wg(i,o){return i&&i.length?vc(i,We(o,2)):[]}function Dg(i){var o=i==null?0:i.length;return o?mn(i,1,o):[]}function Rg(i,o,d){return i&&i.length?(o=d||o===r?1:it(o),mn(i,0,o<0?0:o)):[]}function Ng(i,o,d){var y=i==null?0:i.length;return y?(o=d||o===r?1:it(o),o=y-o,mn(i,o<0?0:o,y)):[]}function kg(i,o){return i&&i.length?ps(i,We(o,3),!1,!0):[]}function Fg(i,o){return i&&i.length?ps(i,We(o,3)):[]}var Lg=ft(function(i){return Si(Br(i,1,nr,!0))}),Pg=ft(function(i){var o=Cn(i);return nr(o)&&(o=r),Si(Br(i,1,nr,!0),We(o,2))}),Ug=ft(function(i){var o=Cn(i);return o=typeof o=="function"?o:r,Si(Br(i,1,nr,!0),r,o)});function Og(i){return i&&i.length?Si(i):[]}function Mg(i,o){return i&&i.length?Si(i,We(o,2)):[]}function Vg(i,o){return o=typeof o=="function"?o:r,i&&i.length?Si(i,r,o):[]}function gl(i){if(!(i&&i.length))return[];var o=0;return i=Ei(i,function(d){if(nr(d))return o=cr(d.length,o),!0}),Fo(o,function(d){return Wt(i,Ro(d))})}function th(i,o){if(!(i&&i.length))return[];var d=gl(i);return o==null?d:Wt(d,function(y){return rn(o,r,y)})}var Kg=ft(function(i,o){return nr(i)?d0(i,o):[]}),Hg=ft(function(i){return tl(Ei(i,nr))}),zg=ft(function(i){var o=Cn(i);return nr(o)&&(o=r),tl(Ei(i,nr),We(o,2))}),qg=ft(function(i){var o=Cn(i);return o=typeof o=="function"?o:r,tl(Ei(i,nr),r,o)}),Gg=ft(gl);function Wg(i,o){return mc(i||[],o||[],h0)}function Qg(i,o){return mc(i||[],o||[],x0)}var Yg=ft(function(i){var o=i.length,d=o>1?i[o-1]:r;return d=typeof d=="function"?(i.pop(),d):r,th(i,d)});function rh(i){var o=D(i);return o.__chain__=!0,o}function Xg(i,o){return o(i),i}function As(i,o){return o(i)}var Zg=li(function(i){var o=i.length,d=o?i[0]:0,y=this.__wrapped__,b=function(N){return Ho(N,i)};return o>1||this.__actions__.length||!(y instanceof mt)||!ui(d)?this.thru(b):(y=y.slice(d,+d+(o?1:0)),y.__actions__.push({func:As,args:[b],thisArg:r}),new gn(y,this.__chain__).thru(function(N){return o&&!N.length&&N.push(r),N}))});function jg(){return rh(this)}function Jg(){return new gn(this.value(),this.__chain__)}function $g(){this.__values__===r&&(this.__values__=xh(this.value()));var i=this.__index__>=this.__values__.length,o=i?r:this.__values__[this.__index__++];return{done:i,value:o}}function e2(){return this}function t2(i){for(var o,d=this;d instanceof ls;){var y=Xc(d);y.__index__=0,y.__values__=r,o?b.__wrapped__=y:o=y;var b=y;d=d.__wrapped__}return b.__wrapped__=i,o}function r2(){var i=this.__wrapped__;if(i instanceof mt){var o=i;return this.__actions__.length&&(o=new mt(this)),o=o.reverse(),o.__actions__.push({func:As,args:[xl],thisArg:r}),new gn(o,this.__chain__)}return this.thru(xl)}function n2(){return yc(this.__wrapped__,this.__actions__)}var i2=vs(function(i,o,d){Nt.call(i,d)?++i[d]:si(i,d,1)});function a2(i,o,d){var y=rt(i)?Rf:Xv;return d&&Fr(i,o,d)&&(o=r),y(i,We(o,3))}function s2(i,o){var d=rt(i)?Ei:tc;return d(i,We(o,3))}var o2=wc(Zc),l2=wc(jc);function u2(i,o){return Br(Bs(i,o),1)}function f2(i,o){return Br(Bs(i,o),j)}function c2(i,o,d){return d=d===r?1:it(d),Br(Bs(i,o),d)}function nh(i,o){var d=rt(i)?vn:bi;return d(i,We(o,3))}function ih(i,o){var d=rt(i)?D1:ec;return d(i,We(o,3))}var h2=vs(function(i,o,d){Nt.call(i,d)?i[d].push(o):si(i,d,[o])});function d2(i,o,d,y){i=Wr(i)?i:Oa(i),d=d&&!y?it(d):0;var b=i.length;return d<0&&(d=cr(b+d,0)),ws(i)?d<=b&&i.indexOf(o,d)>-1:!!b&&Sa(i,o,d)>-1}var p2=ft(function(i,o,d){var y=-1,b=typeof o=="function",N=Wr(i)?le(i.length):[];return bi(i,function(K){N[++y]=b?rn(o,K,d):p0(K,o,d)}),N}),v2=vs(function(i,o,d){si(i,d,o)});function Bs(i,o){var d=rt(i)?Wt:oc;return d(i,We(o,3))}function x2(i,o,d,y){return i==null?[]:(rt(o)||(o=o==null?[]:[o]),d=y?r:d,rt(d)||(d=d==null?[]:[d]),cc(i,o,d))}var g2=vs(function(i,o,d){i[d?0:1].push(o)},function(){return[[],[]]});function y2(i,o,d){var y=rt(i)?wo:Lf,b=arguments.length<3;return y(i,We(o,4),d,b,bi)}function m2(i,o,d){var y=rt(i)?R1:Lf,b=arguments.length<3;return y(i,We(o,4),d,b,ec)}function C2(i,o){var d=rt(i)?Ei:tc;return d(i,Ts(We(o,3)))}function E2(i){var o=rt(i)?Zf:dx;return o(i)}function _2(i,o,d){(d?Fr(i,o,d):o===r)?o=1:o=it(o);var y=rt(i)?qv:px;return y(i,o)}function A2(i){var o=rt(i)?Gv:xx;return o(i)}function B2(i){if(i==null)return 0;if(Wr(i))return ws(i)?Ia(i):i.length;var o=Dr(i);return o==Ne||o==ot?i.size:Yo(i).length}function b2(i,o,d){var y=rt(i)?Do:gx;return d&&Fr(i,o,d)&&(o=r),y(i,We(o,3))}var S2=ft(function(i,o){if(i==null)return[];var d=o.length;return d>1&&Fr(i,o[0],o[1])?o=[]:d>2&&Fr(o[0],o[1],o[2])&&(o=[o[0]]),cc(i,Br(o,1),[])}),bs=sv||function(){return Ar.Date.now()};function T2(i,o){if(typeof o!="function")throw new xn(l);return i=it(i),function(){if(--i<1)return o.apply(this,arguments)}}function ah(i,o,d){return o=d?r:o,o=i&&o==null?i.length:o,oi(i,L,r,r,r,r,o)}function sh(i,o){var d;if(typeof o!="function")throw new xn(l);return i=it(i),function(){return--i>0&&(d=o.apply(this,arguments)),i<=1&&(o=r),d}}var yl=ft(function(i,o,d){var y=m;if(d.length){var b=Ai(d,Pa(yl));y|=F}return oi(i,y,o,d,b)}),oh=ft(function(i,o,d){var y=m|B;if(d.length){var b=Ai(d,Pa(oh));y|=F}return oi(o,y,i,d,b)});function lh(i,o,d){o=d?r:o;var y=oi(i,C,r,r,r,r,r,o);return y.placeholder=lh.placeholder,y}function uh(i,o,d){o=d?r:o;var y=oi(i,S,r,r,r,r,r,o);return y.placeholder=uh.placeholder,y}function fh(i,o,d){var y,b,N,K,G,J,pe=0,ve=!1,ye=!1,Te=!0;if(typeof i!="function")throw new xn(l);o=En(o)||0,Jt(d)&&(ve=!!d.leading,ye="maxWait"in d,N=ye?cr(En(d.maxWait)||0,o):N,Te="trailing"in d?!!d.trailing:Te);function Ue(ir){var Pn=y,hi=b;return y=b=r,pe=ir,K=i.apply(hi,Pn),K}function Qe(ir){return pe=ir,G=m0(vt,o),ve?Ue(ir):K}function lt(ir){var Pn=ir-J,hi=ir-pe,wh=o-Pn;return ye?wr(wh,N-hi):wh}function Ye(ir){var Pn=ir-J,hi=ir-pe;return J===r||Pn>=o||Pn<0||ye&&hi>=N}function vt(){var ir=bs();if(Ye(ir))return _t(ir);G=m0(vt,lt(ir))}function _t(ir){return G=r,Te&&y?Ue(ir):(y=b=r,K)}function on(){G!==r&&Cc(G),pe=0,y=J=b=G=r}function Lr(){return G===r?K:_t(bs())}function ln(){var ir=bs(),Pn=Ye(ir);if(y=arguments,b=this,J=ir,Pn){if(G===r)return Qe(J);if(ye)return Cc(G),G=m0(vt,o),Ue(J)}return G===r&&(G=m0(vt,o)),K}return ln.cancel=on,ln.flush=Lr,ln}var I2=ft(function(i,o){return $f(i,1,o)}),w2=ft(function(i,o,d){return $f(i,En(o)||0,d)});function D2(i){return oi(i,q)}function Ss(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new xn(l);var d=function(){var y=arguments,b=o?o.apply(this,y):y[0],N=d.cache;if(N.has(b))return N.get(b);var K=i.apply(this,y);return d.cache=N.set(b,K)||N,K};return d.cache=new(Ss.Cache||ai),d}Ss.Cache=ai;function Ts(i){if(typeof i!="function")throw new xn(l);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function R2(i){return sh(2,i)}var N2=yx(function(i,o){o=o.length==1&&rt(o[0])?Wt(o[0],nn(We())):Wt(Br(o,1),nn(We()));var d=o.length;return ft(function(y){for(var b=-1,N=wr(y.length,d);++b<N;)y[b]=o[b].call(this,y[b]);return rn(i,this,y)})}),ml=ft(function(i,o){var d=Ai(o,Pa(ml));return oi(i,F,r,o,d)}),ch=ft(function(i,o){var d=Ai(o,Pa(ch));return oi(i,k,r,o,d)}),k2=li(function(i,o){return oi(i,R,r,r,r,o)});function F2(i,o){if(typeof i!="function")throw new xn(l);return o=o===r?o:it(o),ft(i,o)}function L2(i,o){if(typeof i!="function")throw new xn(l);return o=o==null?0:cr(it(o),0),ft(function(d){var y=d[o],b=Ii(d,0,o);return y&&_i(b,y),rn(i,this,b)})}function P2(i,o,d){var y=!0,b=!0;if(typeof i!="function")throw new xn(l);return Jt(d)&&(y="leading"in d?!!d.leading:y,b="trailing"in d?!!d.trailing:b),fh(i,o,{leading:y,maxWait:o,trailing:b})}function U2(i){return ah(i,1)}function O2(i,o){return ml(nl(o),i)}function M2(){if(!arguments.length)return[];var i=arguments[0];return rt(i)?i:[i]}function V2(i){return yn(i,x)}function K2(i,o){return o=typeof o=="function"?o:r,yn(i,x,o)}function H2(i){return yn(i,p|x)}function z2(i,o){return o=typeof o=="function"?o:r,yn(i,p|x,o)}function q2(i,o){return o==null||Jf(i,o,pr(o))}function Ln(i,o){return i===o||i!==i&&o!==o}var G2=ms(Go),W2=ms(function(i,o){return i>=o}),ia=ic(function(){return arguments}())?ic:function(i){return er(i)&&Nt.call(i,"callee")&&!qf.call(i,"callee")},rt=le.isArray,Q2=bf?nn(bf):tx;function Wr(i){return i!=null&&Is(i.length)&&!fi(i)}function nr(i){return er(i)&&Wr(i)}function Y2(i){return i===!0||i===!1||er(i)&&kr(i)==me}var wi=lv||Dl,X2=Sf?nn(Sf):rx;function Z2(i){return er(i)&&i.nodeType===1&&!C0(i)}function j2(i){if(i==null)return!0;if(Wr(i)&&(rt(i)||typeof i=="string"||typeof i.splice=="function"||wi(i)||Ua(i)||ia(i)))return!i.length;var o=Dr(i);if(o==Ne||o==ot)return!i.size;if(y0(i))return!Yo(i).length;for(var d in i)if(Nt.call(i,d))return!1;return!0}function J2(i,o){return v0(i,o)}function $2(i,o,d){d=typeof d=="function"?d:r;var y=d?d(i,o):r;return y===r?v0(i,o,r,d):!!y}function Cl(i){if(!er(i))return!1;var o=kr(i);return o==Ze||o==st||typeof i.message=="string"&&typeof i.name=="string"&&!C0(i)}function ey(i){return typeof i=="number"&&Wf(i)}function fi(i){if(!Jt(i))return!1;var o=kr(i);return o==je||o==$e||o==Oe||o==Vt}function hh(i){return typeof i=="number"&&i==it(i)}function Is(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=oe}function Jt(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function er(i){return i!=null&&typeof i=="object"}var dh=Tf?nn(Tf):ix;function ty(i,o){return i===o||Qo(i,o,fl(o))}function ry(i,o,d){return d=typeof d=="function"?d:r,Qo(i,o,fl(o),d)}function ny(i){return ph(i)&&i!=+i}function iy(i){if(Kx(i))throw new tt(s);return ac(i)}function ay(i){return i===null}function sy(i){return i==null}function ph(i){return typeof i=="number"||er(i)&&kr(i)==Ge}function C0(i){if(!er(i)||kr(i)!=Ve)return!1;var o=ts(i);if(o===null)return!0;var d=Nt.call(o,"constructor")&&o.constructor;return typeof d=="function"&&d instanceof d&&j0.call(d)==rv}var El=If?nn(If):ax;function oy(i){return hh(i)&&i>=-oe&&i<=oe}var vh=wf?nn(wf):sx;function ws(i){return typeof i=="string"||!rt(i)&&er(i)&&kr(i)==kt}function sn(i){return typeof i=="symbol"||er(i)&&kr(i)==pt}var Ua=Df?nn(Df):ox;function ly(i){return i===r}function uy(i){return er(i)&&Dr(i)==rr}function fy(i){return er(i)&&kr(i)==Rr}var cy=ms(Xo),hy=ms(function(i,o){return i<=o});function xh(i){if(!i)return[];if(Wr(i))return ws(i)?kn(i):Gr(i);if(o0&&i[o0])return q1(i[o0]());var o=Dr(i),d=o==Ne?Po:o==ot?Y0:Oa;return d(i)}function ci(i){if(!i)return i===0?i:0;if(i=En(i),i===j||i===-j){var o=i<0?-1:1;return o*_e}return i===i?i:0}function it(i){var o=ci(i),d=o%1;return o===o?d?o-d:o:0}function gh(i){return i?ea(it(i),0,W):0}function En(i){if(typeof i=="number")return i;if(sn(i))return ue;if(Jt(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=Jt(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=Pf(i);var d=_a.test(i);return d||sr.test(i)?T1(i.slice(2),d?2:8):V0.test(i)?ue:+i}function yh(i){return Hn(i,Qr(i))}function dy(i){return i?ea(it(i),-oe,oe):i===0?i:0}function Dt(i){return i==null?"":an(i)}var py=Fa(function(i,o){if(y0(o)||Wr(o)){Hn(o,pr(o),i);return}for(var d in o)Nt.call(o,d)&&h0(i,d,o[d])}),mh=Fa(function(i,o){Hn(o,Qr(o),i)}),Ds=Fa(function(i,o,d,y){Hn(o,Qr(o),i,y)}),vy=Fa(function(i,o,d,y){Hn(o,pr(o),i,y)}),xy=li(Ho);function gy(i,o){var d=ka(i);return o==null?d:jf(d,o)}var yy=ft(function(i,o){i=Ft(i);var d=-1,y=o.length,b=y>2?o[2]:r;for(b&&Fr(o[0],o[1],b)&&(y=1);++d<y;)for(var N=o[d],K=Qr(N),G=-1,J=K.length;++G<J;){var pe=K[G],ve=i[pe];(ve===r||Ln(ve,Da[pe])&&!Nt.call(i,pe))&&(i[pe]=N[pe])}return i}),my=ft(function(i){return i.push(r,Pc),rn(Ch,r,i)});function Cy(i,o){return Nf(i,We(o,3),Kn)}function Ey(i,o){return Nf(i,We(o,3),qo)}function _y(i,o){return i==null?i:zo(i,We(o,3),Qr)}function Ay(i,o){return i==null?i:rc(i,We(o,3),Qr)}function By(i,o){return i&&Kn(i,We(o,3))}function by(i,o){return i&&qo(i,We(o,3))}function Sy(i){return i==null?[]:cs(i,pr(i))}function Ty(i){return i==null?[]:cs(i,Qr(i))}function _l(i,o,d){var y=i==null?r:ta(i,o);return y===r?d:y}function Iy(i,o){return i!=null&&Mc(i,o,jv)}function Al(i,o){return i!=null&&Mc(i,o,Jv)}var wy=Rc(function(i,o,d){o!=null&&typeof o.toString!="function"&&(o=J0.call(o)),i[o]=d},bl(Yr)),Dy=Rc(function(i,o,d){o!=null&&typeof o.toString!="function"&&(o=J0.call(o)),Nt.call(i,o)?i[o].push(d):i[o]=[d]},We),Ry=ft(p0);function pr(i){return Wr(i)?Xf(i):Yo(i)}function Qr(i){return Wr(i)?Xf(i,!0):lx(i)}function Ny(i,o){var d={};return o=We(o,3),Kn(i,function(y,b,N){si(d,o(y,b,N),y)}),d}function ky(i,o){var d={};return o=We(o,3),Kn(i,function(y,b,N){si(d,b,o(y,b,N))}),d}var Fy=Fa(function(i,o,d){hs(i,o,d)}),Ch=Fa(function(i,o,d,y){hs(i,o,d,y)}),Ly=li(function(i,o){var d={};if(i==null)return d;var y=!1;o=Wt(o,function(N){return N=Ti(N,i),y||(y=N.length>1),N}),Hn(i,ll(i),d),y&&(d=yn(d,p|v|x,wx));for(var b=o.length;b--;)el(d,o[b]);return d});function Py(i,o){return Eh(i,Ts(We(o)))}var Uy=li(function(i,o){return i==null?{}:fx(i,o)});function Eh(i,o){if(i==null)return{};var d=Wt(ll(i),function(y){return[y]});return o=We(o),hc(i,d,function(y,b){return o(y,b[0])})}function Oy(i,o,d){o=Ti(o,i);var y=-1,b=o.length;for(b||(b=1,i=r);++y<b;){var N=i==null?r:i[zn(o[y])];N===r&&(y=b,N=d),i=fi(N)?N.call(i):N}return i}function My(i,o,d){return i==null?i:x0(i,o,d)}function Vy(i,o,d,y){return y=typeof y=="function"?y:r,i==null?i:x0(i,o,d,y)}var _h=Fc(pr),Ah=Fc(Qr);function Ky(i,o,d){var y=rt(i),b=y||wi(i)||Ua(i);if(o=We(o,4),d==null){var N=i&&i.constructor;b?d=y?new N:[]:Jt(i)?d=fi(N)?ka(ts(i)):{}:d={}}return(b?vn:Kn)(i,function(K,G,J){return o(d,K,G,J)}),d}function Hy(i,o){return i==null?!0:el(i,o)}function zy(i,o,d){return i==null?i:gc(i,o,nl(d))}function qy(i,o,d,y){return y=typeof y=="function"?y:r,i==null?i:gc(i,o,nl(d),y)}function Oa(i){return i==null?[]:Lo(i,pr(i))}function Gy(i){return i==null?[]:Lo(i,Qr(i))}function Wy(i,o,d){return d===r&&(d=o,o=r),d!==r&&(d=En(d),d=d===d?d:0),o!==r&&(o=En(o),o=o===o?o:0),ea(En(i),o,d)}function Qy(i,o,d){return o=ci(o),d===r?(d=o,o=0):d=ci(d),i=En(i),$v(i,o,d)}function Yy(i,o,d){if(d&&typeof d!="boolean"&&Fr(i,o,d)&&(o=d=r),d===r&&(typeof o=="boolean"?(d=o,o=r):typeof i=="boolean"&&(d=i,i=r)),i===r&&o===r?(i=0,o=1):(i=ci(i),o===r?(o=i,i=0):o=ci(o)),i>o){var y=i;i=o,o=y}if(d||i%1||o%1){var b=Qf();return wr(i+b*(o-i+S1("1e-"+((b+"").length-1))),o)}return jo(i,o)}var Xy=La(function(i,o,d){return o=o.toLowerCase(),i+(d?Bh(o):o)});function Bh(i){return Bl(Dt(i).toLowerCase())}function bh(i){return i=Dt(i),i&&i.replace(vo,M1).replace(x1,"")}function Zy(i,o,d){i=Dt(i),o=an(o);var y=i.length;d=d===r?y:ea(it(d),0,y);var b=d;return d-=o.length,d>=0&&i.slice(d,b)==o}function jy(i){return i=Dt(i),i&&Qi.test(i)?i.replace(hn,V1):i}function Jy(i){return i=Dt(i),i&&ar.test(i)?i.replace(qr,"\\$&"):i}var $y=La(function(i,o,d){return i+(d?"-":"")+o.toLowerCase()}),em=La(function(i,o,d){return i+(d?" ":"")+o.toLowerCase()}),tm=Ic("toLowerCase");function rm(i,o,d){i=Dt(i),o=it(o);var y=o?Ia(i):0;if(!o||y>=o)return i;var b=(o-y)/2;return ys(as(b),d)+i+ys(is(b),d)}function nm(i,o,d){i=Dt(i),o=it(o);var y=o?Ia(i):0;return o&&y<o?i+ys(o-y,d):i}function im(i,o,d){i=Dt(i),o=it(o);var y=o?Ia(i):0;return o&&y<o?ys(o-y,d)+i:i}function am(i,o,d){return d||o==null?o=0:o&&(o=+o),hv(Dt(i).replace(Ir,""),o||0)}function sm(i,o,d){return(d?Fr(i,o,d):o===r)?o=1:o=it(o),Jo(Dt(i),o)}function om(){var i=arguments,o=Dt(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var lm=La(function(i,o,d){return i+(d?"_":"")+o.toLowerCase()});function um(i,o,d){return d&&typeof d!="number"&&Fr(i,o,d)&&(o=d=r),d=d===r?W:d>>>0,d?(i=Dt(i),i&&(typeof o=="string"||o!=null&&!El(o))&&(o=an(o),!o&&Ta(i))?Ii(kn(i),0,d):i.split(o,d)):[]}var fm=La(function(i,o,d){return i+(d?" ":"")+Bl(o)});function cm(i,o,d){return i=Dt(i),d=d==null?0:ea(it(d),0,i.length),o=an(o),i.slice(d,d+o.length)==o}function hm(i,o,d){var y=D.templateSettings;d&&Fr(i,o,d)&&(o=r),i=Dt(i),o=Ds({},o,y,Lc);var b=Ds({},o.imports,y.imports,Lc),N=pr(b),K=Lo(b,N),G,J,pe=0,ve=o.interpolate||Aa,ye="__p += '",Te=Uo((o.escape||Aa).source+"|"+ve.source+"|"+(ve===Yi?r0:Aa).source+"|"+(o.evaluate||Aa).source+"|$","g"),Ue="//# sourceURL="+(Nt.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++E1+"]")+`
`;i.replace(Te,function(Ye,vt,_t,on,Lr,ln){return _t||(_t=on),ye+=i.slice(pe,ln).replace(or,K1),vt&&(G=!0,ye+=`' +
__e(`+vt+`) +
'`),Lr&&(J=!0,ye+=`';
`+Lr+`;
__p += '`),_t&&(ye+=`' +
((__t = (`+_t+`)) == null ? '' : __t) +
'`),pe=ln+Ye.length,Ye}),ye+=`';
`;var Qe=Nt.call(o,"variable")&&o.variable;if(!Qe)ye=`with (obj) {
`+ye+`
}
`;else if(M0.test(Qe))throw new tt(u);ye=(J?ye.replace(Wi,""):ye).replace(_r,"$1").replace(Dn,"$1;"),ye="function("+(Qe||"obj")+`) {
`+(Qe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(G?", __e = _.escape":"")+(J?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ye+`return __p
}`;var lt=Th(function(){return wt(N,Ue+"return "+ye).apply(r,K)});if(lt.source=ye,Cl(lt))throw lt;return lt}function dm(i){return Dt(i).toLowerCase()}function pm(i){return Dt(i).toUpperCase()}function vm(i,o,d){if(i=Dt(i),i&&(d||o===r))return Pf(i);if(!i||!(o=an(o)))return i;var y=kn(i),b=kn(o),N=Uf(y,b),K=Of(y,b)+1;return Ii(y,N,K).join("")}function xm(i,o,d){if(i=Dt(i),i&&(d||o===r))return i.slice(0,Vf(i)+1);if(!i||!(o=an(o)))return i;var y=kn(i),b=Of(y,kn(o))+1;return Ii(y,0,b).join("")}function gm(i,o,d){if(i=Dt(i),i&&(d||o===r))return i.replace(Ir,"");if(!i||!(o=an(o)))return i;var y=kn(i),b=Uf(y,kn(o));return Ii(y,b).join("")}function ym(i,o){var d=P,y=O;if(Jt(o)){var b="separator"in o?o.separator:b;d="length"in o?it(o.length):d,y="omission"in o?an(o.omission):y}i=Dt(i);var N=i.length;if(Ta(i)){var K=kn(i);N=K.length}if(d>=N)return i;var G=d-Ia(y);if(G<1)return y;var J=K?Ii(K,0,G).join(""):i.slice(0,G);if(b===r)return J+y;if(K&&(G+=J.length-G),El(b)){if(i.slice(G).search(b)){var pe,ve=J;for(b.global||(b=Uo(b.source,Dt(n0.exec(b))+"g")),b.lastIndex=0;pe=b.exec(ve);)var ye=pe.index;J=J.slice(0,ye===r?G:ye)}}else if(i.indexOf(an(b),G)!=G){var Te=J.lastIndexOf(b);Te>-1&&(J=J.slice(0,Te))}return J+y}function mm(i){return i=Dt(i),i&&ma.test(i)?i.replace(Rn,Y1):i}var Cm=La(function(i,o,d){return i+(d?" ":"")+o.toUpperCase()}),Bl=Ic("toUpperCase");function Sh(i,o,d){return i=Dt(i),o=d?r:o,o===r?z1(i)?j1(i):F1(i):i.match(o)||[]}var Th=ft(function(i,o){try{return rn(i,r,o)}catch(d){return Cl(d)?d:new tt(d)}}),Em=li(function(i,o){return vn(o,function(d){d=zn(d),si(i,d,yl(i[d],i))}),i});function _m(i){var o=i==null?0:i.length,d=We();return i=o?Wt(i,function(y){if(typeof y[1]!="function")throw new xn(l);return[d(y[0]),y[1]]}):[],ft(function(y){for(var b=-1;++b<o;){var N=i[b];if(rn(N[0],this,y))return rn(N[1],this,y)}})}function Am(i){return Yv(yn(i,p))}function bl(i){return function(){return i}}function Bm(i,o){return i==null||i!==i?o:i}var bm=Dc(),Sm=Dc(!0);function Yr(i){return i}function Sl(i){return sc(typeof i=="function"?i:yn(i,p))}function Tm(i){return lc(yn(i,p))}function Im(i,o){return uc(i,yn(o,p))}var wm=ft(function(i,o){return function(d){return p0(d,i,o)}}),Dm=ft(function(i,o){return function(d){return p0(i,d,o)}});function Tl(i,o,d){var y=pr(o),b=cs(o,y);d==null&&!(Jt(o)&&(b.length||!y.length))&&(d=o,o=i,i=this,b=cs(o,pr(o)));var N=!(Jt(d)&&"chain"in d)||!!d.chain,K=fi(i);return vn(b,function(G){var J=o[G];i[G]=J,K&&(i.prototype[G]=function(){var pe=this.__chain__;if(N||pe){var ve=i(this.__wrapped__),ye=ve.__actions__=Gr(this.__actions__);return ye.push({func:J,args:arguments,thisArg:i}),ve.__chain__=pe,ve}return J.apply(i,_i([this.value()],arguments))})}),i}function Rm(){return Ar._===this&&(Ar._=nv),this}function Il(){}function Nm(i){return i=it(i),ft(function(o){return fc(o,i)})}var km=al(Wt),Fm=al(Rf),Lm=al(Do);function Ih(i){return hl(i)?Ro(zn(i)):cx(i)}function Pm(i){return function(o){return i==null?r:ta(i,o)}}var Um=Nc(),Om=Nc(!0);function wl(){return[]}function Dl(){return!1}function Mm(){return{}}function Vm(){return""}function Km(){return!0}function Hm(i,o){if(i=it(i),i<1||i>oe)return[];var d=W,y=wr(i,W);o=We(o),i-=W;for(var b=Fo(y,o);++d<i;)o(d);return b}function zm(i){return rt(i)?Wt(i,zn):sn(i)?[i]:Gr(Yc(Dt(i)))}function qm(i){var o=++tv;return Dt(i)+o}var Gm=gs(function(i,o){return i+o},0),Wm=sl("ceil"),Qm=gs(function(i,o){return i/o},1),Ym=sl("floor");function Xm(i){return i&&i.length?fs(i,Yr,Go):r}function Zm(i,o){return i&&i.length?fs(i,We(o,2),Go):r}function jm(i){return Ff(i,Yr)}function Jm(i,o){return Ff(i,We(o,2))}function $m(i){return i&&i.length?fs(i,Yr,Xo):r}function eC(i,o){return i&&i.length?fs(i,We(o,2),Xo):r}var tC=gs(function(i,o){return i*o},1),rC=sl("round"),nC=gs(function(i,o){return i-o},0);function iC(i){return i&&i.length?ko(i,Yr):0}function aC(i,o){return i&&i.length?ko(i,We(o,2)):0}return D.after=T2,D.ary=ah,D.assign=py,D.assignIn=mh,D.assignInWith=Ds,D.assignWith=vy,D.at=xy,D.before=sh,D.bind=yl,D.bindAll=Em,D.bindKey=oh,D.castArray=M2,D.chain=rh,D.chunk=Yx,D.compact=Xx,D.concat=Zx,D.cond=_m,D.conforms=Am,D.constant=bl,D.countBy=i2,D.create=gy,D.curry=lh,D.curryRight=uh,D.debounce=fh,D.defaults=yy,D.defaultsDeep=my,D.defer=I2,D.delay=w2,D.difference=jx,D.differenceBy=Jx,D.differenceWith=$x,D.drop=eg,D.dropRight=tg,D.dropRightWhile=rg,D.dropWhile=ng,D.fill=ig,D.filter=s2,D.flatMap=u2,D.flatMapDeep=f2,D.flatMapDepth=c2,D.flatten=Jc,D.flattenDeep=ag,D.flattenDepth=sg,D.flip=D2,D.flow=bm,D.flowRight=Sm,D.fromPairs=og,D.functions=Sy,D.functionsIn=Ty,D.groupBy=h2,D.initial=ug,D.intersection=fg,D.intersectionBy=cg,D.intersectionWith=hg,D.invert=wy,D.invertBy=Dy,D.invokeMap=p2,D.iteratee=Sl,D.keyBy=v2,D.keys=pr,D.keysIn=Qr,D.map=Bs,D.mapKeys=Ny,D.mapValues=ky,D.matches=Tm,D.matchesProperty=Im,D.memoize=Ss,D.merge=Fy,D.mergeWith=Ch,D.method=wm,D.methodOf=Dm,D.mixin=Tl,D.negate=Ts,D.nthArg=Nm,D.omit=Ly,D.omitBy=Py,D.once=R2,D.orderBy=x2,D.over=km,D.overArgs=N2,D.overEvery=Fm,D.overSome=Lm,D.partial=ml,D.partialRight=ch,D.partition=g2,D.pick=Uy,D.pickBy=Eh,D.property=Ih,D.propertyOf=Pm,D.pull=xg,D.pullAll=eh,D.pullAllBy=gg,D.pullAllWith=yg,D.pullAt=mg,D.range=Um,D.rangeRight=Om,D.rearg=k2,D.reject=C2,D.remove=Cg,D.rest=F2,D.reverse=xl,D.sampleSize=_2,D.set=My,D.setWith=Vy,D.shuffle=A2,D.slice=Eg,D.sortBy=S2,D.sortedUniq=Ig,D.sortedUniqBy=wg,D.split=um,D.spread=L2,D.tail=Dg,D.take=Rg,D.takeRight=Ng,D.takeRightWhile=kg,D.takeWhile=Fg,D.tap=Xg,D.throttle=P2,D.thru=As,D.toArray=xh,D.toPairs=_h,D.toPairsIn=Ah,D.toPath=zm,D.toPlainObject=yh,D.transform=Ky,D.unary=U2,D.union=Lg,D.unionBy=Pg,D.unionWith=Ug,D.uniq=Og,D.uniqBy=Mg,D.uniqWith=Vg,D.unset=Hy,D.unzip=gl,D.unzipWith=th,D.update=zy,D.updateWith=qy,D.values=Oa,D.valuesIn=Gy,D.without=Kg,D.words=Sh,D.wrap=O2,D.xor=Hg,D.xorBy=zg,D.xorWith=qg,D.zip=Gg,D.zipObject=Wg,D.zipObjectDeep=Qg,D.zipWith=Yg,D.entries=_h,D.entriesIn=Ah,D.extend=mh,D.extendWith=Ds,Tl(D,D),D.add=Gm,D.attempt=Th,D.camelCase=Xy,D.capitalize=Bh,D.ceil=Wm,D.clamp=Wy,D.clone=V2,D.cloneDeep=H2,D.cloneDeepWith=z2,D.cloneWith=K2,D.conformsTo=q2,D.deburr=bh,D.defaultTo=Bm,D.divide=Qm,D.endsWith=Zy,D.eq=Ln,D.escape=jy,D.escapeRegExp=Jy,D.every=a2,D.find=o2,D.findIndex=Zc,D.findKey=Cy,D.findLast=l2,D.findLastIndex=jc,D.findLastKey=Ey,D.floor=Ym,D.forEach=nh,D.forEachRight=ih,D.forIn=_y,D.forInRight=Ay,D.forOwn=By,D.forOwnRight=by,D.get=_l,D.gt=G2,D.gte=W2,D.has=Iy,D.hasIn=Al,D.head=$c,D.identity=Yr,D.includes=d2,D.indexOf=lg,D.inRange=Qy,D.invoke=Ry,D.isArguments=ia,D.isArray=rt,D.isArrayBuffer=Q2,D.isArrayLike=Wr,D.isArrayLikeObject=nr,D.isBoolean=Y2,D.isBuffer=wi,D.isDate=X2,D.isElement=Z2,D.isEmpty=j2,D.isEqual=J2,D.isEqualWith=$2,D.isError=Cl,D.isFinite=ey,D.isFunction=fi,D.isInteger=hh,D.isLength=Is,D.isMap=dh,D.isMatch=ty,D.isMatchWith=ry,D.isNaN=ny,D.isNative=iy,D.isNil=sy,D.isNull=ay,D.isNumber=ph,D.isObject=Jt,D.isObjectLike=er,D.isPlainObject=C0,D.isRegExp=El,D.isSafeInteger=oy,D.isSet=vh,D.isString=ws,D.isSymbol=sn,D.isTypedArray=Ua,D.isUndefined=ly,D.isWeakMap=uy,D.isWeakSet=fy,D.join=dg,D.kebabCase=$y,D.last=Cn,D.lastIndexOf=pg,D.lowerCase=em,D.lowerFirst=tm,D.lt=cy,D.lte=hy,D.max=Xm,D.maxBy=Zm,D.mean=jm,D.meanBy=Jm,D.min=$m,D.minBy=eC,D.stubArray=wl,D.stubFalse=Dl,D.stubObject=Mm,D.stubString=Vm,D.stubTrue=Km,D.multiply=tC,D.nth=vg,D.noConflict=Rm,D.noop=Il,D.now=bs,D.pad=rm,D.padEnd=nm,D.padStart=im,D.parseInt=am,D.random=Yy,D.reduce=y2,D.reduceRight=m2,D.repeat=sm,D.replace=om,D.result=Oy,D.round=rC,D.runInContext=Z,D.sample=E2,D.size=B2,D.snakeCase=lm,D.some=b2,D.sortedIndex=_g,D.sortedIndexBy=Ag,D.sortedIndexOf=Bg,D.sortedLastIndex=bg,D.sortedLastIndexBy=Sg,D.sortedLastIndexOf=Tg,D.startCase=fm,D.startsWith=cm,D.subtract=nC,D.sum=iC,D.sumBy=aC,D.template=hm,D.times=Hm,D.toFinite=ci,D.toInteger=it,D.toLength=gh,D.toLower=dm,D.toNumber=En,D.toSafeInteger=dy,D.toString=Dt,D.toUpper=pm,D.trim=vm,D.trimEnd=xm,D.trimStart=gm,D.truncate=ym,D.unescape=mm,D.uniqueId=qm,D.upperCase=Cm,D.upperFirst=Bl,D.each=nh,D.eachRight=ih,D.first=$c,Tl(D,function(){var i={};return Kn(D,function(o,d){Nt.call(D.prototype,d)||(i[d]=o)}),i}(),{chain:!1}),D.VERSION=n,vn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){D[i].placeholder=D}),vn(["drop","take"],function(i,o){mt.prototype[i]=function(d){d=d===r?1:cr(it(d),0);var y=this.__filtered__&&!o?new mt(this):this.clone();return y.__filtered__?y.__takeCount__=wr(d,y.__takeCount__):y.__views__.push({size:wr(d,W),type:i+(y.__dir__<0?"Right":"")}),y},mt.prototype[i+"Right"]=function(d){return this.reverse()[i](d).reverse()}}),vn(["filter","map","takeWhile"],function(i,o){var d=o+1,y=d==ce||d==ne;mt.prototype[i]=function(b){var N=this.clone();return N.__iteratees__.push({iteratee:We(b,3),type:d}),N.__filtered__=N.__filtered__||y,N}}),vn(["head","last"],function(i,o){var d="take"+(o?"Right":"");mt.prototype[i]=function(){return this[d](1).value()[0]}}),vn(["initial","tail"],function(i,o){var d="drop"+(o?"":"Right");mt.prototype[i]=function(){return this.__filtered__?new mt(this):this[d](1)}}),mt.prototype.compact=function(){return this.filter(Yr)},mt.prototype.find=function(i){return this.filter(i).head()},mt.prototype.findLast=function(i){return this.reverse().find(i)},mt.prototype.invokeMap=ft(function(i,o){return typeof i=="function"?new mt(this):this.map(function(d){return p0(d,i,o)})}),mt.prototype.reject=function(i){return this.filter(Ts(We(i)))},mt.prototype.slice=function(i,o){i=it(i);var d=this;return d.__filtered__&&(i>0||o<0)?new mt(d):(i<0?d=d.takeRight(-i):i&&(d=d.drop(i)),o!==r&&(o=it(o),d=o<0?d.dropRight(-o):d.take(o-i)),d)},mt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},mt.prototype.toArray=function(){return this.take(W)},Kn(mt.prototype,function(i,o){var d=/^(?:filter|find|map|reject)|While$/.test(o),y=/^(?:head|last)$/.test(o),b=D[y?"take"+(o=="last"?"Right":""):o],N=y||/^find/.test(o);b&&(D.prototype[o]=function(){var K=this.__wrapped__,G=y?[1]:arguments,J=K instanceof mt,pe=G[0],ve=J||rt(K),ye=function(vt){var _t=b.apply(D,_i([vt],G));return y&&Te?_t[0]:_t};ve&&d&&typeof pe=="function"&&pe.length!=1&&(J=ve=!1);var Te=this.__chain__,Ue=!!this.__actions__.length,Qe=N&&!Te,lt=J&&!Ue;if(!N&&ve){K=lt?K:new mt(this);var Ye=i.apply(K,G);return Ye.__actions__.push({func:As,args:[ye],thisArg:r}),new gn(Ye,Te)}return Qe&&lt?i.apply(this,G):(Ye=this.thru(ye),Qe?y?Ye.value()[0]:Ye.value():Ye)})}),vn(["pop","push","shift","sort","splice","unshift"],function(i){var o=X0[i],d=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",y=/^(?:pop|shift)$/.test(i);D.prototype[i]=function(){var b=arguments;if(y&&!this.__chain__){var N=this.value();return o.apply(rt(N)?N:[],b)}return this[d](function(K){return o.apply(rt(K)?K:[],b)})}}),Kn(mt.prototype,function(i,o){var d=D[o];if(d){var y=d.name+"";Nt.call(Na,y)||(Na[y]=[]),Na[y].push({name:o,func:d})}}),Na[xs(r,B).name]=[{name:"wrapper",func:r}],mt.prototype.clone=mv,mt.prototype.reverse=Cv,mt.prototype.value=Ev,D.prototype.at=Zg,D.prototype.chain=jg,D.prototype.commit=Jg,D.prototype.next=$g,D.prototype.plant=t2,D.prototype.reverse=r2,D.prototype.toJSON=D.prototype.valueOf=D.prototype.value=n2,D.prototype.first=D.prototype.head,o0&&(D.prototype[o0]=e2),D},wa=J1();Zi?((Zi.exports=wa)._=wa,So._=wa):Ar._=wa}).call(et)})(Js,Js.exports);var z8=Js.exports;const hr=zu(z8);class On{static findUpdates(t,r){let n=Object.keys(t),a=Object.keys(r),s={};for(const l of a)if(!n.includes(l))s[l]=r[l];else{let u=t[l],c=r[l];if(typeof u=="object"){let f=On.findUpdates(u,c);Object.keys(f).length>0&&(s[l]=f)}else u!=c&&(s[l]=c)}return s}static cloneValue(t){if(t!==null){if(t===void 0)return;if(t instanceof Array){let r=[];for(let n of t)r.push(On.cloneValue(n));return r}else if(t instanceof Map){let r=new Map;return r.forEach((n,a)=>{r.set(a,On.cloneValue(n))}),r}else if(t instanceof Set){let r=new Set;return r.forEach(n=>{r.add(On.cloneValue(n))}),r}else return t instanceof Date?new Date(t.getDate()):typeof t=="object"?hr.cloneDeep(t):t}}static equalsDeep(t,r){if(t==null&&r==null)return!0;if(t==null||r==null)return!1;let n=Object.keys(t),a=Object.keys(r);if(n.length!=a.length)return!1;for(let s of n){let l=t[s],u=r[s];if(typeof l=="object"){if(!On.equalsDeep(l,u))return!1}else if(l!=u)return!1}return!0}}function q8(e){let t,r,n,a,s,l,u,c,f,h,p,v,x;const g=e[6].default,E=fC(g,e,e[5],null);return{c(){t=U("main"),r=U("div"),n=re(),a=U("div"),s=U("div"),l=U("div"),E&&E.c(),u=re(),c=U("div"),f=U("button"),h=Ie(e[3]),M(r,"class","background svelte-95myax"),V(l,"color","#333"),M(s,"class","content-box svelte-95myax"),V(f,"width","150px"),V(c,"width","100%"),V(c,"display","flex"),V(c,"justify-content","center"),V(c,"align-items","center"),M(a,"class","popup-box svelte-95myax"),V(a,"height",e[2]+"px"),V(a,"width",e[1]+"px"),V(t,"display",e[0]?"flex":"none"),M(t,"class","svelte-95myax")},m(m,B){be(m,t,B),A(t,r),A(t,n),A(t,a),A(a,s),A(s,l),E&&E.m(l,null),A(a,u),A(a,c),A(c,f),A(f,h),p=!0,v||(x=Ke(f,"click",e[4]),v=!0)},p(m,[B]){E&&E.p&&(!p||B&32)&&hC(E,g,m,m[5],p?cC(g,m[5],B,null):dC(m[5]),null),(!p||B&8)&&ht(h,m[3]),(!p||B&4)&&V(a,"height",m[2]+"px"),(!p||B&2)&&V(a,"width",m[1]+"px"),(!p||B&1)&&V(t,"display",m[0]?"flex":"none")},i(m){p||(Je(E,m),p=!0)},o(m){ut(E,m),p=!1},d(m){m&&Ae(t),E&&E.d(m),v=!1,x()}}}function G8(e,t,r){let{$$slots:n={},$$scope:a}=t,{width:s=320}=t,{height:l=150}=t,{show:u=!1}=t,{button:c="Ok"}=t;const f=F0();let h=()=>{f("close"),setTimeout(()=>{r(0,u=!1)},0)};return e.$$set=p=>{"width"in p&&r(1,s=p.width),"height"in p&&r(2,l=p.height),"show"in p&&r(0,u=p.show),"button"in p&&r(3,c=p.button),"$$scope"in p&&r(5,a=p.$$scope)},[u,s,l,c,h,a,n]}class O0 extends $r{constructor(t){super(),Jr(this,t,G8,q8,jr,{width:1,height:2,show:0,button:3})}}function Vd(e){let t;return{c(){t=U("ul"),t.innerHTML='<li class="svelte-1dinodq">If you do not upload a cert, a random key will be used.</li> <li class="svelte-1dinodq">If an incorrect cert is uploaded, it will work with HTTP.</li>',M(t,"class","svelte-1dinodq")},m(r,n){be(r,t,n)},d(r){r&&Ae(t)}}}function W8(e){let t;return{c(){t=Ie(e[6])},m(r,n){be(r,t,n)},p(r,n){n[0]&64&&ht(t,r[6])},d(r){r&&Ae(t)}}}function Q8(e){let t,r,n,a,s,l,u,c,f,h,p,v,x,g,E,m,B,_,C,S,F,k,L,R,q,P,O,H,Y=e[0]===!1&&Vd();function ce(ne){e[17](ne)}let $={$$slots:{default:[W8]},$$scope:{ctx:e}};return e[5]!==void 0&&($.show=e[5]),R=new O0({props:$}),Gt.push(()=>Hr(R,"show",ce)),{c(){t=U("main"),r=U("div"),n=U("div"),a=re(),s=U("div"),l=U("div"),l.innerHTML='Key<span style="font-weight: bold;color: saddlebrown; font-size: 9pt">*</span>',u=re(),c=U("input"),f=re(),h=U("div"),p=U("div"),p.innerHTML='Cert<span style="font-weight: bold;color: saddlebrown; font-size: 9pt">*</span>',v=re(),x=U("input"),g=re(),E=U("div"),m=U("div"),m.textContent="CA",B=re(),_=U("input"),C=re(),S=U("div"),F=U("button"),F.textContent="X",k=re(),Y&&Y.c(),L=re(),$t(R.$$.fragment),M(n,"class","cert-select-box-vertical-line svelte-1dinodq"),M(l,"class","form-label file-label svelte-1dinodq"),V(l,"display","inline-block"),M(c,"type","file"),M(c,"class","form-control"),M(c,"accept",".pem, *.crt, *.cer"),V(c,"width",e[1]+"px"),M(s,"class","input-box file-input-box svelte-1dinodq"),M(p,"class","form-label file-label svelte-1dinodq"),V(p,"display","inline"),M(x,"type","file"),M(x,"class","form-control"),M(x,"accept",".pem, *.crt, *.cer"),V(x,"width",e[1]+"px"),M(h,"class","input-box file-input-box svelte-1dinodq"),M(m,"class","form-label file-label svelte-1dinodq"),V(m,"display","inline-block"),M(_,"type","file"),M(_,"class","form-control"),M(_,"accept",".pem, *.crt, *.cer"),V(_,"width",e[1]+"px"),M(F,"class","text-button-x svelte-1dinodq"),M(F,"aria-pressed","true"),V(S,"display","inline"),V(S,"position","relative"),M(E,"class","input-box file-input-box svelte-1dinodq"),M(r,"class","cert-select-box svelte-1dinodq")},m(ne,j){be(ne,t,j),A(t,r),A(r,n),A(r,a),A(r,s),A(s,l),A(s,u),A(s,c),e[12](c),A(r,f),A(r,h),A(h,p),A(h,v),A(h,x),e[14](x),A(r,g),A(r,E),A(E,m),A(E,B),A(E,_),e[16](_),A(E,C),A(E,S),A(S,F),A(r,k),Y&&Y.m(r,null),A(t,L),Qt(R,t,null),P=!0,O||(H=[Ke(c,"keyup",e[7]),Ke(c,"input",e[11]),Ke(x,"keyup",e[7]),Ke(x,"input",e[13]),Ke(_,"keyup",e[7]),Ke(_,"input",e[15]),Ke(F,"click",e[9])],O=!0)},p(ne,j){(!P||j[0]&2)&&V(c,"width",ne[1]+"px"),(!P||j[0]&2)&&V(x,"width",ne[1]+"px"),(!P||j[0]&2)&&V(_,"width",ne[1]+"px"),ne[0]===!1?Y||(Y=Vd(),Y.c(),Y.m(r,null)):Y&&(Y.d(1),Y=null);const oe={};j[0]&64|j[1]&4&&(oe.$$scope={dirty:j,ctx:ne}),!q&&j[0]&32&&(q=!0,oe.show=ne[5],Kr(()=>q=!1)),R.$set(oe)},i(ne){P||(Je(R.$$.fragment,ne),P=!0)},o(ne){ut(R.$$.fragment,ne),P=!1},d(ne){ne&&Ae(t),e[12](null),e[14](null),e[16](null),Y&&Y.d(),Yt(R),O=!1,In(H)}}}function Y8(e,t,r){let n,a,s,l=!1,u=F0(),c=!1,f="",{hideMessage:h=!1}=t,{width:p=250}=t,{certInfo:v}=t;v||(v={key:{name:"",value:""},cert:{name:"",value:""},ca:{name:"",value:""}});let x=hr.cloneDeep(v),g=()=>{On.equalsDeep(v,x)||u("update",hr.cloneDeep(x)),r(10,v=hr.cloneDeep(x))};yi(async()=>{!l&&a&&(m(),l=!0)}),mC(async()=>{x=hr.cloneDeep(v),m()});let E=ue=>{r(6,f=ue),r(5,c=!0)},m=()=>{x=hr.cloneDeep(v),a&&x.cert.name!=""&&x.cert.value!=""?r(3,a.files=_(x.cert).files,a):a&&r(3,a.value="",a),n&&x.key.name!=""&&x.key.value!=""?r(2,n.files=_(x.key).files,n):n&&r(2,n.value="",n),s&&x.ca.name!=""&&x.ca.value!=""?r(4,s.files=_(x.ca).files,s):s&&r(4,s.value="",s)},B=()=>{r(10,v.key.name="",v),r(10,v.key.value="",v),r(10,v.cert.name="",v),r(10,v.cert.value="",v),r(10,v.ca.name="",v),r(10,v.ca.value="",v),x.key.name="",x.key.value="",x.cert.name="",x.cert.value="",r(2,n.value="",n),r(3,a.value="",a)},_=ue=>{let W=new DataTransfer,ee=new File([C(ue.value)],ue.name);return W.items.add(ee),W},C=ue=>new Blob([ue],{type:"text/plain"}),S=ue=>{let W=ue.target;W.value!=""&&(parseInt(W.value)<parseInt(W.min)&&(W.value=W.min),parseInt(W.value)>parseInt(W.max)&&(W.value=W.max))},F=(ue,W)=>{try{const ee=Ni.pki.certificateFromPem(W),se=Ni.pki.privateKeyFromPem(ue),ie=pp.SHA512(Date.now()+"@").toString();let we=ee.publicKey.encrypt(ie,"RSA-OAEP",{md:Ni.md.sha256.create(),mgf1:{md:Ni.md.sha256.create()}});return se.decrypt(we,"RSA-OAEP",{md:Ni.md.sha256.create(),mgf1:{md:Ni.md.sha256.create()}})==ie}catch(ee){return console.error(ee),!1}},k=ue=>{if(ue=ue.trim(),!ue.startsWith("-----BEGIN CERTIFICATE")||!ue.endsWith("END CERTIFICATE-----"))return!1;try{if(Ni.pki.certificateFromPem(ue).publicKey.n.bitLength()<2048)return!1}catch(W){return console.error(W),!1}return!0},L=ue=>{if(ue=ue.trim(),(!ue.startsWith("-----BEGIN PRIVATE KEY")||!ue.endsWith("END PRIVATE KEY-----"))&&(!ue.startsWith("-----BEGIN RSA PRIVATE KEY")||!ue.endsWith("END RSA PRIVATE KEY-----")))return!1;try{if(Ni.pki.privateKeyFromPem(ue).n.bitLength()<2048)return!1}catch(W){return console.error(W),!1}return!0},R=async(ue,W,ee,se)=>{var me;let ie=(me=W.files)==null?void 0:me.item(0);if(!ie)return;let we=await O(ie),Se=ee.name!=""&&ee.value!=""?_(ee):null;if(!se(we)){E(`Invalid ${ue=="private"?"private key":"certificate"}`),Se?r(2,n.files=Se.files,n):W.value="";return}ee.name=ie.name,ee.value=we;let Oe=P();Oe=="Success"?g():Oe=="Fail"&&B()},q=async(ue,W)=>{var ie;let ee=ue.target,se=(ie=ee.files)==null?void 0:ie.item(0);se&&(await O(se),W=="private"?await R(W,ee,x.key,L):W=="cert"?await R(W,ee,x.cert,k):W=="ca"&&await R(W,ee,x.ca,k))},P=()=>x.cert.value==""||x.key.value==""?"NoCondition":F(x.key.value,x.cert.value)?"Success":(E("Invalid Key Pair"),"Fail"),O=ue=>{let W=new FileReader;W.readAsText(ue);let ee="";return new Promise((se,ie)=>{W.onload=we=>{var Se;ee=(Se=we.target)==null?void 0:Se.result,se(ee)}})},H=()=>{x.ca.name="",x.ca.value="",P()=="Success"&&g(),r(4,s.value="",s),r(10,v.ca.name="",v),r(10,v.ca.value="",v)};const Y=ue=>q(ue,"private");function ce(ue){Gt[ue?"unshift":"push"](()=>{n=ue,r(2,n)})}const $=ue=>q(ue,"cert");function ne(ue){Gt[ue?"unshift":"push"](()=>{a=ue,r(3,a)})}const j=ue=>q(ue,"ca");function oe(ue){Gt[ue?"unshift":"push"](()=>{s=ue,r(4,s)})}function _e(ue){c=ue,r(5,c)}return e.$$set=ue=>{"hideMessage"in ue&&r(0,h=ue.hideMessage),"width"in ue&&r(1,p=ue.width),"certInfo"in ue&&r(10,v=ue.certInfo)},[h,p,n,a,s,c,f,S,q,H,v,Y,ce,$,ne,j,oe,_e]}class a1 extends $r{constructor(t){super(),Jr(this,t,Y8,Q8,jr,{hideMessage:0,width:1,certInfo:10},null,[-1,-1])}}const X8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC6ElEQVR4nO3c32oTQRTH8R+VJg8Re12w7bNY+vclbJ5DbZWKRR9AESqFPoB/Lq1eKVRJ/fcGKiZ6WamsTGAR3d3ZnWHPTr4fGAhpOps9J52zmZNGAgAAAAAAAOzpSxpKeinppxvZ7R33M0Q0kPRG0sV/xmv3GETQLwl+Pgn8JUQwrBD86bgW4wnMulceCTjxmJeaUtEPjwRMKs5JTWkxAX1qSrtL0HAWasqCpCP3iszGsaTFmnPtBA5YrJpiKvhf/3Ey39zPfPXdJWaVy9BeSzXFlKOCE3pcc85BSRJ83ogln4BJwQmNG8zbc0vMiQtiNl64+6q88mdmCSpKwPe2n5zC1xRzjgtO6LDtJ6fwNcWcRVdw/z6hL5Iuy4ZBwJpi0oIruGM3Dg0FP3RNAQAAAABEQg+5RfSQW0QPuWUme8ghe77WmWvghO75WmeuhRmj52uZuQTE6vlaZW4Jst7zTb6HbL3nm3wPuQs93+R7yF3o+YZGDxkAAAAAIlmRdEfS29x3UmS39yUtxzoo9GfP556kXwVbDueSDvj0dJzgP/fY9XxGEsK67xH86bgrw7rUM14pWXaKlqMlGdS1nvF+jeBPx20Z1LWe8bsGCTiVQV3rGU8aJMDkP3LH6Bn3JG1LeiTpLHd9fubu22pwVZJcAkL3jNclfa4QjE+S1mrMn9wSFKpnfEnSXo2g7Eqam+UiHKpnvNcgMDc9jrPsLil9j5H9zhUlar1B8Kdj1eN4BzXmz/aLktSruOaXjY8ehTl73FOPuZ9ImleitgMEfzo2PY7bc9sLRcvRuXvlJxt8ucvKUAl4KH9Lrrie5r5DIrt9K+U1P+9DwARk7xMQ8ePgFyUjmwstJmBM9P29D5iAEQlotwg/IAH+tgImYIME+Jt3b6KaBj97M8dXj9W0FiABV3n1N7PbIPjXCX5zc25X0zf4Nzy3o1FitWJNyB7DshOxMG+6vZ1Rbo9m5O7bSH2DDAAAAAAAAOq836+c4pabVYFmAAAAAElFTkSuQmCC";function Z8(e){let t,r,n,a,s,l,u,c;return{c(){t=U("main"),r=U("div"),a=re(),s=U("div"),l=U("img"),M(r,"class","background svelte-9r5b10"),M(r,"style",n=e[1]?"opacity: 0.0 !important;":""),Hu(l.src,u=X8)||M(l,"src",u),M(s,"class","progress"),M(s,"style",c=e[1]?"opacity: 0.0 !important;":""),V(t,"display",e[0]?"flex":"none"),M(t,"class","svelte-9r5b10")},m(f,h){be(f,t,h),A(t,r),A(t,a),A(t,s),A(s,l),e[3](l)},p(f,[h]){h&2&&n!==(n=f[1]?"opacity: 0.0 !important;":"")&&M(r,"style",n),h&2&&c!==(c=f[1]?"opacity: 0.0 !important;":"")&&M(s,"style",c),h&1&&V(t,"display",f[0]?"flex":"none")},i:Xt,o:Xt,d(f){f&&Ae(t),e[3](null)}}}function j8(e,t,r){let{show:n=!1}=t,{transition:a=!1}=t,s,l=0;yi(()=>{s&&r(2,s.onload=()=>{setInterval(u,200)},s)});let u=()=>{l+=45,s&&r(2,s.style.transform=`rotate(${l}deg)`,s)};function c(f){Gt[f?"unshift":"push"](()=>{s=f,r(2,s)})}return e.$$set=f=>{"show"in f&&r(0,n=f.show),"transition"in f&&r(1,a=f.transition)},[n,a,s,c]}class s1 extends $r{constructor(t){super(),Jr(this,t,j8,Z8,jr,{show:0,transition:1})}}function Kd(e){let t,r;return t=new a1({props:{certInfo:e[1]}}),t.$on("update",e[9]),{c(){$t(t.$$.fragment)},m(n,a){Qt(t,n,a),r=!0},p(n,a){const s={};a&2&&(s.certInfo=n[1]),t.$set(s)},i(n){r||(Je(t.$$.fragment,n),r=!0)},o(n){ut(t.$$.fragment,n),r=!1},d(n){Yt(t,n)}}}function J8(e){let t,r;return{c(){t=new $s(!1),r=k0(),t.a=r},m(n,a){t.m(e[6],n,a),be(n,r,a)},p(n,a){a&64&&t.p(n[6])},d(n){n&&(Ae(r),t.d())}}}function $8(e){let t,r,n,a,s,l,u,c,f,h,p,v,x,g,E,m,B,_,C,S,F,k,L,R,q,P,O,H,Y,ce,$,ne,j,oe,_e,ue,W,ee,se,ie,we,Se,Oe,me,Me,st,Ze,je,$e,Ne,Ge,He,Ve,Et,Vt,jt,ot,kt,pt=e[0].adminTls&&Kd(e);function dr(ke){e[21](ke)}let rr={};e[2]!==void 0&&(rr.show=e[2]),Ne=new s1({props:rr}),Gt.push(()=>Hr(Ne,"show",dr));function Rr(ke){e[22](ke)}function ae(ke){e[23](ke)}let de={$$slots:{default:[J8]},$$scope:{ctx:e}};return e[3]!==void 0&&(de.show=e[3]),e[4]!==void 0&&(de.button=e[4]),Ve=new O0({props:de}),Gt.push(()=>Hr(Ve,"show",Rr)),Gt.push(()=>Hr(Ve,"button",ae)),Ve.$on("close",function(){N0(e[5])&&e[5].apply(this,arguments)}),{c(){t=U("main"),r=U("h2"),r.textContent="Server settings",n=re(),a=U("div"),s=U("div"),l=U("label"),l.textContent="Tunnel server-client authentication key",u=re(),c=U("input"),f=re(),h=U("div"),p=U("label"),p.textContent="Admin service port number",v=re(),x=U("input"),g=re(),E=U("div"),m=U("input"),B=re(),_=U("div"),_.textContent="Secure tunneling Server/Client",C=re(),pt&&pt.c(),S=re(),F=U("div"),k=U("label"),k.textContent="Tunnel server port number",L=re(),R=U("input"),q=re(),P=U("div"),O=U("input"),H=re(),Y=U("div"),Y.textContent="Enable secure Tunnel server",ce=re(),$=U("div"),ne=U("label"),ne.textContent="Total buffer size limit (MiB)",j=re(),oe=U("input"),_e=re(),ue=U("div"),W=U("label"),W.textContent="Keep Alive (ms. If <= 0, it is disabled)",ee=re(),se=U("input"),ie=re(),we=U("div"),Se=U("div"),Oe=U("button"),me=Ie("Apply"),st=re(),Ze=U("div"),je=U("button"),je.textContent="Reset",$e=re(),$t(Ne.$$.fragment),He=re(),$t(Ve.$$.fragment),M(r,"class","title"),M(l,"for","input-key"),M(l,"class","form-label"),M(c,"type","text"),M(c,"id","input-key"),M(c,"class","form-control svelte-oaz9w8"),M(c,"aria-describedby","passwordHelpBlock"),M(s,"class","input-box"),M(p,"for","input-admin-port"),M(p,"class","form-label"),M(x,"type","number"),M(x,"min","0"),M(x,"max","65535"),M(x,"id","input-admin-port"),M(x,"class","form-control svelte-oaz9w8"),M(x,"aria-describedby","passwordHelpBlock"),M(h,"class","input-box"),V(h,"margin-bottom","5px"),M(m,"type","checkbox"),V(m,"width","14px"),M(m,"class","svelte-oaz9w8"),V(_,"display","inline-block"),V(_,"position","relative"),V(_,"top","-7px"),V(_,"font-size","10pt"),M(E,"class","check-box"),V(E,"margin-bottom",(e[0].adminTls?10:20)+"px"),M(k,"for","input-tunnel-port"),M(k,"class","form-label"),M(R,"type","number"),M(R,"min","0"),M(R,"max","65535"),M(R,"id","input-tunnel-port"),M(R,"class","form-control svelte-oaz9w8"),M(F,"class","input-box"),V(F,"margin-bottom","5px"),V(F,"margin-top","20px"),M(O,"type","checkbox"),V(O,"width","14px"),M(O,"class","svelte-oaz9w8"),V(Y,"display","inline-block"),V(Y,"position","relative"),V(Y,"top","-7px"),V(Y,"font-size","10pt"),M(P,"class","check-box"),V(P,"margin-bottom","25px"),M(ne,"for","input-global-cache-limit"),M(ne,"class","form-label"),M(oe,"type","number"),M(oe,"min","1"),M(oe,"max","99999"),M(oe,"class","svelte-oaz9w8"),M($,"class","input-box"),M(W,"for","input-global-cache-limit"),M(W,"class","form-label"),M(se,"type","number"),M(se,"min","1"),M(se,"max","99999"),M(se,"class","svelte-oaz9w8"),M(ue,"class","input-box"),V(Oe,"width","100px"),Oe.disabled=Me=!e[7],V(Se,"display","inline-block"),V(je,"width","100px"),V(Ze,"display","inline-block"),V(we,"width","100%"),V(we,"margin-top","40px"),M(a,"class","round-box"),M(t,"class","svelte-oaz9w8")},m(ke,Le){be(ke,t,Le),A(t,r),A(t,n),A(t,a),A(a,s),A(s,l),A(s,u),A(s,c),ct(c,e[0].key),A(a,f),A(a,h),A(h,p),A(h,v),A(h,x),ct(x,e[0].adminPort),A(a,g),A(a,E),A(E,m),m.checked=e[0].adminTls,A(E,B),A(E,_),A(a,C),pt&&pt.m(a,null),A(a,S),A(a,F),A(F,k),A(F,L),A(F,R),ct(R,e[0].port),A(a,q),A(a,P),A(P,O),O.checked=e[0].tls,A(P,H),A(P,Y),A(a,ce),A(a,$),A($,ne),A($,j),A($,oe),ct(oe,e[0].globalMemCacheLimit),A(a,_e),A(a,ue),A(ue,W),A(ue,ee),A(ue,se),ct(se,e[0].keepAlive),A(a,ie),A(a,we),A(we,Se),A(Se,Oe),A(Oe,me),A(we,st),A(we,Ze),A(Ze,je),A(t,$e),Qt(Ne,t,null),A(t,He),Qt(Ve,t,null),jt=!0,ot||(kt=[Ke(c,"input",e[14]),Ke(x,"keyup",e[8]),Ke(x,"input",e[15]),Ke(m,"change",e[16]),Ke(R,"keyup",e[8]),Ke(R,"input",e[17]),Ke(O,"change",e[18]),Ke(oe,"keyup",e[8]),Ke(oe,"input",e[19]),Ke(se,"keyup",e[8]),Ke(se,"input",e[20]),Ke(Oe,"click",e[10]),Ke(je,"click",e[11])],ot=!0)},p(ke,[Le]){e=ke,Le&1&&c.value!==e[0].key&&ct(c,e[0].key),Le&1&&yr(x.value)!==e[0].adminPort&&ct(x,e[0].adminPort),Le&1&&(m.checked=e[0].adminTls),(!jt||Le&1)&&V(E,"margin-bottom",(e[0].adminTls?10:20)+"px"),e[0].adminTls?pt?(pt.p(e,Le),Le&1&&Je(pt,1)):(pt=Kd(e),pt.c(),Je(pt,1),pt.m(a,S)):pt&&(Vi(),ut(pt,1,1,()=>{pt=null}),Ki()),Le&1&&yr(R.value)!==e[0].port&&ct(R,e[0].port),Le&1&&(O.checked=e[0].tls),Le&1&&yr(oe.value)!==e[0].globalMemCacheLimit&&ct(oe,e[0].globalMemCacheLimit),Le&1&&yr(se.value)!==e[0].keepAlive&&ct(se,e[0].keepAlive),(!jt||Le&128&&Me!==(Me=!e[7]))&&(Oe.disabled=Me);const It={};!Ge&&Le&4&&(Ge=!0,It.show=e[2],Kr(()=>Ge=!1)),Ne.$set(It);const Kt={};Le&1073741888&&(Kt.$$scope={dirty:Le,ctx:e}),!Et&&Le&8&&(Et=!0,Kt.show=e[3],Kr(()=>Et=!1)),!Vt&&Le&16&&(Vt=!0,Kt.button=e[4],Kr(()=>Vt=!1)),Ve.$set(Kt)},i(ke){jt||(Je(pt),Je(Ne.$$.fragment,ke),Je(Ve.$$.fragment,ke),jt=!0)},o(ke){ut(pt),ut(Ne.$$.fragment,ke),ut(Ve.$$.fragment,ke),jt=!1},d(ke){ke&&Ae(t),pt&&pt.d(),Yt(Ne),Yt(Ve),ot=!1,In(kt)}}}function eA(e,t,r){let n=Mr.instance.getCachedServerOption(),a=Mr.instance.getCachedServerOption(),s=null,l=null,u=null,c=!1,f=!1,h=!1,p="OK",v=()=>{},x="",g=!1;yi(async()=>{if(!c)try{r(2,f=!0),r(0,n=await Mr.instance.getServerOption()),await Mr.instance.getServerOptionHash(),r(12,a=hr.cloneDeep(n)),r(1,s=await Fi.instance.loadAdminCert()),r(13,u=hr.cloneDeep(s)),l=hr.cloneDeep(s),c=!0,r(2,f=!1)}catch(j){if(console.error(j),j instanceof Pt){k();return}_("Unable to connect to the server.","OK",()=>{location.href="/"})}});let E=j=>{let oe=j.target;oe.value!=""&&(parseInt(oe.value)<parseInt(oe.min)&&(oe.value=oe.min),parseInt(oe.value)>parseInt(oe.max)&&(oe.value=oe.max))},m=j=>{B(j.detail)},B=async j=>{r(2,f=!0);try{let oe=await Fi.instance.updateAdminCert(j);oe.success?(r(13,u=s),r(1,s=j)):_(oe.message),r(2,f=!1)}catch(oe){console.error(oe),oe instanceof Pt?(r(2,f=!1),k()):_("Unable to connect to the server.","Retry",async()=>{await B(j)})}},_=(j,oe,_e)=>{oe==null?oe="OK":r(4,p=oe),_e==null?r(5,v=()=>{}):r(5,v=_e),r(6,x=j),r(3,h=!0)},C=async()=>{try{r(2,f=!0);let j=await Mr.instance.updateServerOption(n);r(2,f=!1),j.success?await S():_(j.message)}catch(j){console.error(j),r(2,f=!1),j instanceof Pt?k():_("Unable to connect to the server.","Retry",async()=>{await C()})}},S=async()=>{r(2,f=!0);let j=!1;try{j=await Mr.instance.checkChangeServerOption(a,n)}catch{_(`Error: Server status could not be determined.${n.adminTls?"(It could be a TSL certificate error.)":""}`,"OK",()=>{console.log((n.adminTls?"https://":"http://")+location.hostname+":"+n.adminPort+"/"),location.href=(n.adminTls?"https://":"http://")+location.hostname+":"+n.adminPort+"/"});return}r(2,f=!1),j?_("Server settings have been changed.<br/>The server has been restarted.","OK",()=>{r(12,a=hr.cloneDeep(n)),r(13,u=hr.cloneDeep(s)),l=hr.cloneDeep(s),console.log((n.adminTls?"https://":"http://")+location.hostname+":"+n.adminPort+"/"),location.href=(n.adminTls?"https://":"http://")+location.hostname+":"+n.adminPort+"/"}):_("New server options cannot be applied.","OK",()=>{r(0,n=hr.cloneDeep(a)),r(1,s=hr.cloneDeep(l)),r(13,u=hr.cloneDeep(s)),location.href="/"})},F=()=>{let j=!On.equalsDeep(s,l);r(0,n=hr.cloneDeep(a)),r(1,s=hr.cloneDeep(l)),j&&B(s)},k=()=>{_("Session is expired.<br/>Please login again.","OK",()=>{location.href="/"})};function L(){n.key=this.value,r(0,n)}function R(){n.adminPort=yr(this.value),r(0,n)}function q(){n.adminTls=this.checked,r(0,n)}function P(){n.port=yr(this.value),r(0,n)}function O(){n.tls=this.checked,r(0,n)}function H(){n.globalMemCacheLimit=yr(this.value),r(0,n)}function Y(){n.keepAlive=yr(this.value),r(0,n)}function ce(j){f=j,r(2,f)}function $(j){h=j,r(3,h)}function ne(j){p=j,r(4,p)}return e.$$.update=()=>{e.$$.dirty&12291&&r(7,g=!On.equalsDeep(n,a)||s==null||u==null||!On.equalsDeep(s,u))},[n,s,f,h,p,v,x,g,E,m,C,F,a,u,L,R,q,P,O,H,Y,ce,$,ne]}class tA extends $r{constructor(t){super(),Jr(this,t,eA,$8,jr,{})}}function Hd(e,t,r){const n=e.slice();return n[10]=t[r],n[11]=t,n[12]=r,n}function rA(e){let t,r,n;function a(){return e[7](e[12])}return{c(){t=U("button"),t.textContent="-",V(t,"width","28px"),V(t,"font-weight","bold")},m(s,l){be(s,t,l),r||(n=Ke(t,"click",a),r=!0)},p(s,l){e=s},d(s){s&&Ae(t),r=!1,n()}}}function nA(e){let t,r,n;return{c(){t=U("button"),t.textContent="+",V(t,"width","28px")},m(a,s){be(a,t,s),r||(n=Ke(t,"click",e[2]),r=!0)},p:Xt,d(a){a&&Ae(t),r=!1,n()}}}function zd(e){let t,r,n,a,s,l,u,c,f,h,p,v,x,g,E;function m(){e[5].call(r,e[11],e[12])}function B(){e[6].call(l,e[11],e[12])}function _(k,L){return k[12]===k[0].length-1?nA:rA}let C=_(e),S=C(e);function F(){e[8].call(h,e[11],e[12])}return{c(){t=U("div"),r=U("input"),n=re(),a=U("div"),a.textContent=":",s=re(),l=U("input"),u=re(),S.c(),c=re(),f=U("div"),h=U("input"),p=re(),v=U("div"),v.textContent="Replace header",x=re(),M(r,"type","text"),V(r,"width",e[1]/2-40+"px"),V(a,"width","10px"),V(a,"display","inline-block"),V(a,"text-align","center"),V(a,"font-weight","bold"),V(a,"color","#333"),M(l,"type","text"),V(l,"width",e[1]/2-40+"px"),M(h,"type","checkbox"),V(h,"width","14px"),V(v,"display","inline-block"),V(v,"position","relative"),V(v,"top","-7px"),V(v,"font-size","10pt"),V(f,"position","relative"),V(f,"height","15px"),V(f,"margin-top","5px"),V(f,"margin-bottom","5px"),V(t,"border-radius","5px"),V(t,"padding","10px"),V(t,"background-color",e[4]),V(t,"margin-bottom","6px")},m(k,L){be(k,t,L),A(t,r),ct(r,e[10].name),A(t,n),A(t,a),A(t,s),A(t,l),ct(l,e[10].value),A(t,u),S.m(t,null),A(t,c),A(t,f),A(f,h),h.checked=e[10].replace,A(f,p),A(f,v),A(t,x),g||(E=[Ke(r,"input",m),Ke(l,"input",B),Ke(h,"change",F)],g=!0)},p(k,L){e=k,L&2&&V(r,"width",e[1]/2-40+"px"),L&1&&r.value!==e[10].name&&ct(r,e[10].name),L&2&&V(l,"width",e[1]/2-40+"px"),L&1&&l.value!==e[10].value&&ct(l,e[10].value),C===(C=_(e))&&S?S.p(e,L):(S.d(1),S=C(e),S&&(S.c(),S.m(t,c))),L&1&&(h.checked=e[10].replace)},d(k){k&&Ae(t),S.d(),g=!1,In(E)}}}function iA(e){let t,r,n,a,s=Tn(e[0]),l=[];for(let u=0;u<s.length;u+=1)l[u]=zd(Hd(e,s,u));return{c(){t=U("div"),r=U("div"),n=re(),a=U("div");for(let u=0;u<l.length;u+=1)l[u].c();M(r,"class","horizontal-line svelte-1idq8y4"),V(r,"margin-bottom","10px"),V(r,"max-width",e[1]+"px")},m(u,c){be(u,t,c),A(t,r),A(t,n),A(t,a);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(a,null)},p(u,[c]){if(c&2&&V(r,"max-width",u[1]+"px"),c&31){s=Tn(u[0]);let f;for(f=0;f<s.length;f+=1){const h=Hd(u,s,f);l[f]?l[f].p(h,c):(l[f]=zd(h),l[f].c(),l[f].m(a,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=s.length}},i:Xt,o:Xt,d(u){u&&Ae(t),Za(l,u)}}}function aA(e,t,r){let{maxWidth:n=280}=t,{options:a=[{name:"",value:"",replace:!1}]}=t,s=x=>{r(0,a=[...a,{name:"",value:"",replace:!1}])},l=x=>{r(0,a=a.filter((g,E)=>E!==x))},c=(()=>{const x=Math.floor(Math.random()*360),g=50+Math.floor(Math.random()*50),E=90+Math.floor(Math.random()*6);return`hsl(${x}, ${g}%, ${E}%)`})();function f(x,g){x[g].name=this.value,r(0,a)}function h(x,g){x[g].value=this.value,r(0,a)}const p=x=>l(x);function v(x,g){x[g].replace=this.checked,r(0,a)}return e.$$set=x=>{"maxWidth"in x&&r(1,n=x.maxWidth),"options"in x&&r(0,a=x.options)},e.$$.update=()=>{e.$$.dirty&1&&a.length==0&&r(0,a=[{name:"",value:"",replace:!1}])},[a,n,s,l,c,f,h,p,v]}class qd extends $r{constructor(t){super(),Jr(this,t,aA,iA,jr,{maxWidth:1,options:0})}}function Gd(e,t,r){const n=e.slice();return n[9]=t[r],n[10]=t,n[11]=r,n}function sA(e){let t,r,n;function a(){return e[7](e[11])}return{c(){t=U("button"),t.textContent="Remove",V(t,"position","absolute"),V(t,"right","0px"),V(t,"top","0")},m(s,l){be(s,t,l),r||(n=Ke(t,"click",a),r=!0)},p(s,l){e=s},d(s){s&&Ae(t),r=!1,n()}}}function oA(e){let t,r,n;return{c(){t=U("button"),t.textContent="Add",V(t,"position","absolute"),V(t,"right","0px"),V(t,"top","0")},m(a,s){be(a,t,s),r||(n=Ke(t,"click",e[2]),r=!0)},p:Xt,d(a){a&&Ae(t),r=!1,n()}}}function Wd(e){let t,r,n,a,s,l,u,c,f,h,p,v;function x(){e[5].call(a,e[10],e[11])}function g(){e[6].call(c,e[10],e[11])}function E(_,C){return _[11]===_[0].length-1?oA:sA}let m=E(e),B=m(e);return{c(){t=U("div"),r=U("div"),r.textContent="From",n=re(),a=U("input"),s=re(),l=U("div"),l.textContent="To",u=re(),c=U("input"),f=re(),h=U("div"),B.c(),M(r,"class","form-label"),M(a,"type","text"),V(a,"width",e[1]-25+"px"),M(l,"class","form-label"),M(c,"type","text"),V(c,"width",e[1]-25+"px"),V(h,"margin-top","10px"),V(h,"margin-bottom","38px"),V(h,"position","relative "),V(t,"background",e[4]),V(t,"padding","10px"),V(t,"border-radius","5px"),V(t,"margin-bottom","10px")},m(_,C){be(_,t,C),A(t,r),A(t,n),A(t,a),ct(a,e[9].from),A(t,s),A(t,l),A(t,u),A(t,c),ct(c,e[9].to),A(t,f),A(t,h),B.m(h,null),p||(v=[Ke(a,"input",x),Ke(c,"input",g)],p=!0)},p(_,C){e=_,C&2&&V(a,"width",e[1]-25+"px"),C&1&&a.value!==e[9].from&&ct(a,e[9].from),C&2&&V(c,"width",e[1]-25+"px"),C&1&&c.value!==e[9].to&&ct(c,e[9].to),m===(m=E(e))&&B?B.p(e,C):(B.d(1),B=m(e),B&&(B.c(),B.m(h,null)))},d(_){_&&Ae(t),B.d(),p=!1,In(v)}}}function lA(e){let t,r,n,a,s,l,u=Tn(e[0]),c=[];for(let f=0;f<u.length;f+=1)c[f]=Wd(Gd(e,u,f));return{c(){t=U("div"),r=U("div"),n=re(),a=U("div");for(let f=0;f<c.length;f+=1)c[f].c();s=re(),l=U("div"),l.textContent="You can use a JavaScript-formatted regular expression in the 'From' input box.",M(r,"class","horizontal-line svelte-149ufur"),V(r,"margin-bottom","10px"),V(r,"max-width",e[1]+"px"),V(l,"font-size","10pt"),V(l,"line-height","11pt"),V(l,"color","#555 "),V(a,"margin-bottom","10px"),V(a,"width",e[1]+"px")},m(f,h){be(f,t,h),A(t,r),A(t,n),A(t,a);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(a,null);A(a,s),A(a,l)},p(f,[h]){if(h&2&&V(r,"max-width",f[1]+"px"),h&31){u=Tn(f[0]);let p;for(p=0;p<u.length;p+=1){const v=Gd(f,u,p);c[p]?c[p].p(v,h):(c[p]=Wd(v),c[p].c(),c[p].m(a,s))}for(;p<c.length;p+=1)c[p].d(1);c.length=u.length}h&2&&V(a,"width",f[1]+"px")},i:Xt,o:Xt,d(f){f&&Ae(t),Za(c,f)}}}function uA(e,t,r){let{maxWidth:n=280}=t,{options:a=[{from:"",to:""}]}=t,s=v=>{r(0,a=[...a,{from:"",to:""}])},l=v=>{r(0,a=a.filter((x,g)=>g!==v))},c=(()=>{const v=Math.floor(Math.random()*360),x=50+Math.floor(Math.random()*50),g=90+Math.floor(Math.random()*6);return`hsl(${v}, ${x}%, ${g}%)`})();function f(v,x){v[x].from=this.value,r(0,a)}function h(v,x){v[x].to=this.value,r(0,a)}const p=v=>l(v);return e.$$set=v=>{"maxWidth"in v&&r(1,n=v.maxWidth),"options"in v&&r(0,a=v.options)},e.$$.update=()=>{e.$$.dirty&1&&a.length==0&&r(0,a=[{from:"",to:""}])},[a,n,s,l,c,f,h,p]}class fA extends $r{constructor(t){super(),Jr(this,t,uA,lA,jr,{maxWidth:1,options:0})}}function cA(e){let t;return{c(){t=U("div"),M(t,"class","center-box svelte-8lzpzo"),V(t,"border-radius","10px"),V(t,"width","10px"),V(t,"height","10px"),V(t,"top","calc(50% - 5px)"),V(t,"left","calc(50% - 5px)"),V(t,"border","1px solid #444")},m(r,n){be(r,t,n)},d(r){r&&Ae(t)}}}function hA(e){let t;return{c(){t=U("div"),M(t,"class","center-box svelte-8lzpzo"),V(t,"font-weight","bold"),V(t,"width","1px"),V(t,"height","12px"),V(t,"border","1px solid #20c997"),V(t,"top","calc(50% - 6px)"),V(t,"left","calc(50% - 1px)")},m(r,n){be(r,t,n)},d(r){r&&Ae(t)}}}function dA(e){let t,r,n,a,s,l,u,c,f,h;function p(g,E){return g[0]?hA:cA}let v=p(e),x=v(e);return{c(){t=U("div"),r=U("div"),a=re(),s=U("div"),x.c(),u=re(),c=U("button"),M(r,"class",n="switch-background "+(e[0]?"switch-background-on":"switch-background-off")+" svelte-8lzpzo"),M(s,"class",l="switch-button "+(e[0]?"switch-button-on":"switch-button-off")+" svelte-8lzpzo"),M(c,"class","translate-button svelte-8lzpzo"),M(t,"class","switch-box  svelte-8lzpzo"),M(t,"style",e[1])},m(g,E){be(g,t,E),A(t,r),A(t,a),A(t,s),x.m(s,null),A(t,u),A(t,c),f||(h=Ke(c,"click",e[2]),f=!0)},p(g,[E]){E&1&&n!==(n="switch-background "+(g[0]?"switch-background-on":"switch-background-off")+" svelte-8lzpzo")&&M(r,"class",n),v!==(v=p(g))&&(x.d(1),x=v(g),x&&(x.c(),x.m(s,null))),E&1&&l!==(l="switch-button "+(g[0]?"switch-button-on":"switch-button-off")+" svelte-8lzpzo")&&M(s,"class",l),E&2&&M(t,"style",g[1])},i:Xt,o:Xt,d(g){g&&Ae(t),x.d(),f=!1,h()}}}function pA(e,t,r){let{on:n=!1}=t,{style:a=""}=t,s=n,l=F0(),u=()=>{r(0,n=!n)};return e.$$set=c=>{"on"in c&&r(0,n=c.on),"style"in c&&r(1,a=c.style)},e.$$.update=()=>{e.$$.dirty&9&&n!=s&&(console.log(`change: new: ${n}, old: ${s}`),l("change",{on:n}),r(3,s=n))},[n,a,u,s]}class vA extends $r{constructor(t){super(),Jr(this,t,pA,dA,jr,{on:0,style:1})}}const xA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADZElEQVR4nO2YWYiPURTAfzO2MfahsQ0llLJEFA+WKQ+ilBJJ4ckDikxMeZhQHpAH82Br4kEoKdsUhuxLmWKsM3kZiRCyZBvbjM50/vU57vf/f8vUvNxffc10v3PP+d9z7j3n3A88Ho/H4/F4PO3JMGAlcBp4DLwFfgCNwCVgDdA/hf5+QBlwDngOfAc+AQ3AeWAdMCrNAiYAx4FmoCXH0wRUAJ1j6O8EbAa+RNDfAlwAJsdZQEdgW8QF2Oe2ejgXfYFbCfS3ALuiOKwncC2hgcwj2684i43ewMMs8z8DX3PYuAkUhRkoAC6HTJTFrQbGqsfFIyN0b790yF8P8Vq+ngUrXw8sAfoEZHsAs4A9em7snCthkalyCD8BSnNEsSjkx1U6ZFc45KoibJXBQLVj7l4rOM1xJuRw9SIaXTTDBOf/AaYHZAYCH4zMQSAvoo18dY61MSkoVGsE7mto4yCReeqIaMbbOx3bqWtMG/laBoJ65Di0Ms68kMhMJBkzHJFdq++mmnGRTcJQc2aatdax3Rg4QTr2GX3vAxnmlI6dSWmjytgol8GLZnBxSiOSej8anbKthNHA77iFzcFso18cxGszKKFLS7nR+RMYqe8WtYH+YqNf6tJ/5yNOm5EtizUa3dLutBV52hZldEubw7fAgPzfVix05P1gOk7rqGYTgNYuM2hM+qC03irQvzeM7toYdSMbw43eZ2gGCQ7OJB3ztBNGD7VNx8tIz3KjU6o+m8yg9DZJEW/X6Z6VtkI4bPS/y9FURuGq0VmRSYnBQfkRJSRjvmk/0Cz4zeFBqdJJmONoU1oLonDHvDyZwFB33auuDqHMcfA3JljEQOCF0VMTFJjpMFQZczFHzPw3gcSRr629tSHX2KgMAu6a+b/0avEPxxyGzgJDchjoAOx2zF1q5ETPK4fcgQhd9ly9z9u5W8O2Rp1DWD407Fdl9uKzALgX4gBXmp0SckmS6O3QOlOilzdpZlfpbdDKZ9oScaITyTQPQiZmnsxXjrD3DWbBllJHLxb3qQEKc0SRbsChhAYkOgNyGQDG610lrv4/wJZskQjzXNQPEU26NaSix2kzNurHhig2qnW7JWYMsF7v5fV6v2jSNChXgA2aUZJSqB3x0YB+KZqPtOso0w8dHo/H4/F4PB7ah7/2x/s1CzUbPgAAAABJRU5ErkJggg==",ca=class ca{static incrementAndGet(){return++ca._counter}static getAndIncrement(){return ca._counter++}static get counter(){return ca._counter}static set counter(t){ca._counter=t}};vr(ca,"_counter",0);let Ku=ca;function gA(e){let t,r,n,a;return{c(){t=U("img"),n=re(),a=U("div"),Hu(t.src,r=xA)||M(t,"src",r),V(t,"width","20px"),V(t,"height","20px"),V(t,"margin-right","0px"),V(t,"vertical-align","middle"),V(a,"width","20px"),V(a,"height","1px"),V(a,"background","1px"),V(a,"background","#333"),V(a,"position","absolute"),V(a,"left","10px"),V(a,"margin-top","-3px")},m(s,l){be(s,t,l),be(s,n,l),be(s,a,l)},p:Xt,d(s){s&&(Ae(t),Ae(n),Ae(a))}}}function yA(e){let t,r=e[8](e[1]>0?e[4]/Gn:0)+"",n;return{c(){t=new $s(!1),n=k0(),t.a=n},m(a,s){t.m(r,a,s),be(a,n,s)},p(a,s){s&18&&r!==(r=a[8](a[1]>0?a[4]/Gn:0)+"")&&t.p(r)},d(a){a&&(Ae(n),t.d())}}}function mA(e){let t,r,n,a,s,l,u,c,f,h,p,v,x,g,E;return{c(){t=U("div"),t.textContent="Tunneling activity restriction time",r=re(),n=U("div"),a=U("div"),s=U("input"),u=Ie(`d 
            `),c=U("input"),h=Ie(`h 
            `),p=U("input"),x=Ie("m "),V(t,"display","block"),V(t,"font-size","12pt"),V(t,"margin-bottom","15px"),V(t,"font-weight","bold"),M(s,"id","input-timeout-day-"+e[7]),M(s,"type","number"),M(s,"min","0"),M(s,"max","99999"),V(s,"width","40px"),V(s,"text-align","right"),s.value=l=Math.floor(e[2]/60/60/24),M(c,"id","input-timeout-hour-"+e[7]),M(c,"type","number"),M(c,"min","0"),M(c,"max","23"),V(c,"width","40px"),V(c,"text-align","right"),c.value=f=Math.floor(e[2]/60/60)%24,M(p,"id","input-timeout-min-"+e[7]),M(p,"type","number"),M(p,"min","0"),M(p,"max","59"),V(p,"width","40px"),V(p,"text-align","right"),p.value=v=Math.floor(e[2]/60)%60,V(a,"display","block"),V(a,"font-size","12pt"),V(n,"width","100%"),V(n,"text-align","center")},m(m,B){be(m,t,B),be(m,r,B),be(m,n,B),A(n,a),A(a,s),A(a,u),A(a,c),A(a,h),A(a,p),A(a,x),g||(E=[Ke(s,"keyup",e[10]),Ke(c,"keyup",e[10]),Ke(p,"keyup",e[10])],g=!0)},p(m,B){B&4&&l!==(l=Math.floor(m[2]/60/60/24))&&s.value!==l&&(s.value=l),B&4&&f!==(f=Math.floor(m[2]/60/60)%24)&&c.value!==f&&(c.value=f),B&4&&v!==(v=Math.floor(m[2]/60)%60)&&p.value!==v&&(p.value=v)},d(m){m&&(Ae(t),Ae(r),Ae(n)),g=!1,In(E)}}}function CA(e){let t,r,n,a,s,l,u,c,f,h,p,v,x,g,E,m,B,_,C,S,F,k,L,R,q;function P($,ne){if($[1]>=0&&$[2]>0)return yA;if($[2]===0)return gA}let O=P(e),H=O&&O(e);function Y($){e[15]($)}let ce={$$slots:{default:[mA]},$$scope:{ctx:e}};return e[6]!==void 0&&(ce.show=e[6]),C=new O0({props:ce}),Gt.push(()=>Hr(C,"show",Y)),C.$on("close",e[11]),{c(){t=U("div"),r=U("div"),H&&H.c(),a=re(),s=U("div"),l=U("div"),u=re(),c=U("div"),f=re(),h=U("div"),p=re(),v=U("div"),x=re(),g=U("div"),E=re(),m=U("div"),_=re(),$t(C.$$.fragment),F=re(),k=U("div"),M(r,"class","time-text svelte-pnvd21"),M(r,"style",n=e[2]<=0?"min-width: 30px":""),M(l,"class","T-L svelte-pnvd21"),M(c,"class","T-I svelte-pnvd21"),M(h,"class","circle svelte-pnvd21"),M(v,"class","end-point svelte-pnvd21"),M(g,"class","axis svelte-pnvd21"),M(m,"class",B="second-hand "+(e[3]?"second-hand-animation":"")+" svelte-pnvd21"),M(s,"class","clock svelte-pnvd21"),V(s,"display",e[1]<0?"none":""),M(k,"role","button"),V(k,"cursor","pointer"),V(k,"position","absolute"),V(k,"top","-5px"),V(k,"left","0"),V(k,"width","100%"),V(k,"height","100%"),M(t,"class","main svelte-pnvd21"),M(t,"style",e[0])},m($,ne){be($,t,ne),A(t,r),H&&H.m(r,null),A(t,a),A(t,s),A(s,l),A(s,u),A(s,c),A(s,f),A(s,h),A(s,p),A(s,v),A(s,x),A(s,g),A(s,E),A(s,m),e[14](m),A(t,_),Qt(C,t,null),A(t,F),A(t,k),L=!0,R||(q=Ke(k,"click",e[9]),R=!0)},p($,[ne]){O===(O=P($))&&H?H.p($,ne):(H&&H.d(1),H=O&&O($),H&&(H.c(),H.m(r,null))),(!L||ne&4&&n!==(n=$[2]<=0?"min-width: 30px":""))&&M(r,"style",n),(!L||ne&8&&B!==(B="second-hand "+($[3]?"second-hand-animation":"")+" svelte-pnvd21"))&&M(m,"class",B),(!L||ne&2)&&V(s,"display",$[1]<0?"none":"");const j={};ne&1048580&&(j.$$scope={dirty:ne,ctx:$}),!S&&ne&64&&(S=!0,j.show=$[6],Kr(()=>S=!1)),C.$set(j),(!L||ne&1)&&M(t,"style",$[0])},i($){L||(Je(C.$$.fragment,$),L=!0)},o($){ut(C.$$.fragment,$),L=!1},d($){$&&Ae(t),H&&H.d(),e[14](null),Yt(C),R=!1,q()}}}const Gn=20,mu=100,Qd=95,EA=440;function _A(e,t,r){let{style:n=""}=t,a=0,s=-1,l=!1,u=a*Gn,c=a*Gn,f,h=!1,p=Ku.incrementAndGet(),v=F0();const x=L=>{if(r(1,a=L??0),r(2,s=L??0),s<=0){r(3,l=!0);return}r(3,l=!1),u=s*Gn,r(4,c=s*Gn)};let g=(L,R,q,P,O)=>(L-R)*(O-P)/(q-R)+P,E=()=>{if(f){let L=Math.floor(g(u-c,0,u,Qd,EA));r(5,f.style.rotate=`${L}deg`,f),r(4,c--,c),c<=0&&s<=0?(u=mu,r(4,c=u)):c<=0&&r(4,c=0)}};const m=(L,R)=>{if(R!=null)if(r(2,s=R),R<=0){r(3,l=!0);return}else R>0&&(r(3,l=!1),u=s*Gn);s<=0||(r(1,a=L),r(4,c=a*Gn),E())};yi(async()=>{f&&r(5,f.style.rotate=`${Qd}deg`,f)});let B=L=>{let R='<span style="font-size: 12px">';if(L<=0)return`0${R}m</span> 0${R}s</span>`;let q=Math.floor(L/60)%60,P=Math.floor(L/60/60)%24,O=Math.floor(L%60),H=Math.floor(L/60/60/24);return H>0?`${H}${R}d</span> ${P}${R}h</span> ${R}${q}m</span>`:P>0?`${P}${R}h</span> ${q}${R}m</span> ${R}${O}s</span>`:`${q}${R}m</span> ${O}${R}s</span>`},_=()=>{r(6,h=!0)},C=L=>{let R=L.target;R.value!=""&&(parseInt(R.value)<parseInt(R.min)&&(R.value=R.min),parseInt(R.value)>parseInt(R.max)&&(R.value=R.max))},S=()=>{let L=parseInt(document.getElementById(`input-timeout-day-${p}`).value),R=parseInt(document.getElementById(`input-timeout-hour-${p}`).value),q=parseInt(document.getElementById(`input-timeout-min-${p}`).value);L=isNaN(L)?0:L,R=isNaN(R)?0:R,q=isNaN(q)?0:q;let P=s;r(2,s=L*24*60*60+R*60*60+q*60),s!=0?(u=s*Gn,r(4,c=s*Gn)):(u=mu,r(4,c=mu)),P!=s&&v("change",{time:s})};function F(L){Gt[L?"unshift":"push"](()=>{f=L,r(5,f)})}function k(L){h=L,r(6,h)}return e.$$set=L=>{"style"in L&&r(0,n=L.style)},[n,a,s,l,c,f,h,p,B,_,C,S,x,m,F,k]}class AA extends $r{constructor(t){super(),Jr(this,t,_A,CA,jr,{style:0,reset:12,update:13})}get style(){return this.$$.ctx[0]}set style(t){this.$$set({style:t}),Wn()}get reset(){return this.$$.ctx[12]}get update(){return this.$$.ctx[13]}}function Yd(e,t,r){const n=e.slice();return n[60]=t[r],n[61]=t,n[62]=r,n}function BA(e){let t;return{c(){t=U("span"),t.textContent="Offline",V(t,"color","gray")},m(r,n){be(r,t,n)},p:Xt,d(r){r&&Ae(t)}}}function bA(e){let t,r,n,a=e[14](e[1][e[60].forwardPort].uptime)+"",s,l,u=e[1][e[60].forwardPort].sessions+"",c,f,h=e[15](e[1][e[60].forwardPort].rx)+"",p,v,x=e[15](e[1][e[60].forwardPort].tx)+"",g,E;function m(C,S){return C[1][C[60].forwardPort].online?TA:SA}let B=m(e),_=B(e);return{c(){_.c(),t=re(),r=U("span"),n=Ie("Uptime: "),s=Ie(a),l=Ie(`,\r
                                 \r
                                Sessions: `),c=Ie(u),f=Ie(`,\r
                                 \r
                                RX: `),p=Ie(h),v=Ie(`,\r
                                 \r
                                TX: `),g=Ie(x),E=Ie(`\r
                                 `),M(r,"class","sub-status svelte-9x5gaz")},m(C,S){_.m(C,S),be(C,t,S),be(C,r,S),A(r,n),A(r,s),A(r,l),A(r,c),A(r,f),A(r,p),A(r,v),A(r,g),A(r,E)},p(C,S){B!==(B=m(C))&&(_.d(1),_=B(C),_&&(_.c(),_.m(t.parentNode,t))),S[0]&3&&a!==(a=C[14](C[1][C[60].forwardPort].uptime)+"")&&ht(s,a),S[0]&3&&u!==(u=C[1][C[60].forwardPort].sessions+"")&&ht(c,u),S[0]&3&&h!==(h=C[15](C[1][C[60].forwardPort].rx)+"")&&ht(p,h),S[0]&3&&x!==(x=C[15](C[1][C[60].forwardPort].tx)+"")&&ht(g,x)},d(C){C&&(Ae(t),Ae(r)),_.d(C)}}}function SA(e){let t;return{c(){t=U("span"),t.textContent="Error",V(t,"color","darkred")},m(r,n){be(r,t,n)},d(r){r&&Ae(t)}}}function TA(e){let t;return{c(){t=U("span"),t.textContent="Online",V(t,"color","darkgreen")},m(r,n){be(r,t,n)},d(r){r&&Ae(t)}}}function Xd(e){var h;let t,r,n,a,s,l,u;function c(...p){return e[18](e[60],...p)}s=new vA({props:{on:(h=e[1][e[60].forwardPort])==null?void 0:h.active,style:"position: absolute; margin-left: 5px; margin-top: 3px"}}),s.$on("change",c);let f=e[1][e[60].forwardPort]&&e[1][e[60].forwardPort].active&&Zd(e);return{c(){t=U("div"),r=U("span"),r.textContent="Activation:",n=re(),a=U("div"),$t(s.$$.fragment),l=re(),f&&f.c(),M(r,"class","status-label svelte-9x5gaz"),V(a,"display","inline"),V(a,"position","relative"),V(t,"display","block"),V(t,"position","relative"),V(t,"height","34px"),V(t,"min-width","370px")},m(p,v){be(p,t,v),A(t,r),A(t,n),A(t,a),Qt(s,a,null),A(t,l),f&&f.m(t,null),u=!0},p(p,v){var g;e=p;const x={};v[0]&3&&(x.on=(g=e[1][e[60].forwardPort])==null?void 0:g.active),s.$set(x),e[1][e[60].forwardPort]&&e[1][e[60].forwardPort].active?f?(f.p(e,v),v[0]&3&&Je(f,1)):(f=Zd(e),f.c(),Je(f,1),f.m(t,null)):f&&(Vi(),ut(f,1,1,()=>{f=null}),Ki())},i(p){u||(Je(s.$$.fragment,p),Je(f),u=!0)},o(p){ut(s.$$.fragment,p),ut(f),u=!1},d(p){p&&Ae(t),Yt(s),f&&f.d()}}}function Zd(e){let t,r,n,a,s=e[60],l;const u=()=>e[19](a,s),c=()=>e[19](null,s);function f(...p){return e[20](e[60],...p)}let h={style:"position: absolute; margin-left: 5px; margin-top: 3px"};return a=new AA({props:h}),u(),a.$on("change",f),{c(){t=U("div"),t.textContent="Timeout:",r=re(),n=U("div"),$t(a.$$.fragment),M(t,"class","status-label svelte-9x5gaz"),V(t,"display","inline-block"),V(t,"margin-left","65px"),V(n,"display","inline")},m(p,v){be(p,t,v),be(p,r,v),be(p,n,v),Qt(a,n,null),l=!0},p(p,v){e=p,s!==e[60]&&(c(),s=e[60],u());const x={};a.$set(x)},i(p){l||(Je(a.$$.fragment,p),l=!0)},o(p){ut(a.$$.fragment,p),l=!1},d(p){p&&(Ae(t),Ae(r),Ae(n)),c(),Yt(a)}}}function jd(e){let t,r;function n(...a){return e[24](e[60],e[61],e[62],...a)}return t=new a1({props:{certInfo:e[60].certInfo,hideMessage:!0}}),t.$on("update",n),{c(){$t(t.$$.fragment)},m(a,s){Qt(t,a,s),r=!0},p(a,s){e=a;const l={};s[0]&1&&(l.certInfo=e[60].certInfo),t.$set(l)},i(a){r||(Je(t.$$.fragment,a),r=!0)},o(a){ut(t.$$.fragment,a),r=!1},d(a){Yt(t,a)}}}function Jd(e){let t,r,n,a,s,l,u,c,f,h,p,v,x,g,E,m,B,_,C,S,F,k,L,R,q,P,O,H,Y,ce,$,ne,j,oe,_e,ue,W;function ee(me){e[33](me,e[60])}let se={};e[60].httpOption.customRequestHeaders!==void 0&&(se.options=e[60].httpOption.customRequestHeaders),L=new qd({props:se}),Gt.push(()=>Hr(L,"options",ee));function ie(me){e[34](me,e[60])}let we={};e[60].httpOption.customResponseHeaders!==void 0&&(we.options=e[60].httpOption.customResponseHeaders),Y=new qd({props:we}),Gt.push(()=>Hr(Y,"options",ie));function Se(me){e[35](me,e[60])}let Oe={};return e[60].httpOption.bodyRewriteRules!==void 0&&(Oe.options=e[60].httpOption.bodyRewriteRules),_e=new fA({props:Oe}),Gt.push(()=>Hr(_e,"options",Se)),{c(){t=U("h3"),t.textContent="HTTP Options",r=re(),n=U("div"),a=U("div"),s=re(),l=U("div"),u=U("label"),u.textContent="Replace Host(address) in text body",c=re(),f=U("select"),h=U("option"),h.textContent="Enabled",p=U("option"),p.textContent="Disabled",v=re(),x=U("div"),g=U("label"),g.textContent="Replace Access-Control-Allow-Origin header",E=re(),m=U("select"),B=U("option"),B.textContent="Enabled",_=U("option"),_.textContent="Disabled",C=re(),S=U("div"),F=U("div"),F.textContent="Inject request header",k=re(),$t(L.$$.fragment),q=re(),P=U("div"),O=U("div"),O.textContent="Inject response header",H=re(),$t(Y.$$.fragment),$=re(),ne=U("div"),j=U("div"),j.textContent="Replace text in body",oe=re(),$t(_e.$$.fragment),M(a,"class","http-select-box-vertical-line svelte-9x5gaz"),M(u,"for","select-change-host-in-body"),M(u,"class","form-label"),h.__value="true",ct(h,h.__value),p.__value="false",ct(p,p.__value),M(f,"id","select-change-host-in-body"),M(f,"class","svelte-9x5gaz"),M(l,"class","input-box"),M(g,"for","select-change-acao"),M(g,"class","form-label"),B.__value="true",ct(B,B.__value),_.__value="false",ct(_,_.__value),M(m,"id","select-change-acao"),M(m,"class","svelte-9x5gaz"),M(x,"class","input-box"),M(F,"class","form-label"),M(S,"class","input-box"),M(O,"class","form-label"),M(P,"class","input-box"),M(j,"class","form-label"),M(ne,"class","input-box"),M(n,"class","http-select-box svelte-9x5gaz")},m(me,Me){be(me,t,Me),be(me,r,Me),be(me,n,Me),A(n,a),A(n,s),A(n,l),A(l,u),A(l,c),A(l,f),A(f,h),A(f,p),A(n,v),A(n,x),A(x,g),A(x,E),A(x,m),A(m,B),A(m,_),A(n,C),A(n,S),A(S,F),A(S,k),Qt(L,S,null),A(n,q),A(n,P),A(P,O),A(P,H),Qt(Y,P,null),A(n,$),A(n,ne),A(ne,j),A(ne,oe),Qt(_e,ne,null),W=!0},p(me,Me){e=me;const st={};!R&&Me[0]&1&&(R=!0,st.options=e[60].httpOption.customRequestHeaders,Kr(()=>R=!1)),L.$set(st);const Ze={};!ce&&Me[0]&1&&(ce=!0,Ze.options=e[60].httpOption.customResponseHeaders,Kr(()=>ce=!1)),Y.$set(Ze);const je={};!ue&&Me[0]&1&&(ue=!0,je.options=e[60].httpOption.bodyRewriteRules,Kr(()=>ue=!1)),_e.$set(je)},i(me){W||(Je(L.$$.fragment,me),Je(Y.$$.fragment,me),Je(_e.$$.fragment,me),W=!0)},o(me){ut(L.$$.fragment,me),ut(Y.$$.fragment,me),ut(_e.$$.fragment,me),W=!1},d(me){me&&(Ae(t),Ae(r),Ae(n)),Yt(L),Yt(Y),Yt(_e)}}}function $d(e){var a0;let t,r,n,a,s,l,u=e[60].forwardPort+"",c,f,h=e[60].destinationAddress+"",p,v,x=e[60].destinationPort+"",g,E,m=(e[60].protocol??"").toUpperCase()+"",B,_,C,S,F,k,L,R,q,P,O,H,Y,ce,$,ne,j,oe,_e,ue,W,ee,se,ie,we,Se,Oe,me,Me,st,Ze,je,$e,Ne,Ge,He,Ve,Et,Vt,jt,ot,kt,pt,dr,rr,Rr,ae,de,ke,Le,It,Kt,mi,en,ei,cn,wn,Wi,_r,Dn,Rn,hn,ma,Qi,ti,zr,Yi,Nn,Xi,ri,qr,ar=e[0][e[62]].isSync?" Apply and Restart ":"Start",Ir,ni,Ca,Ci,Ea=e[0][e[62]].isSync?"Stop and ":"",t0,M0,Nr,r0,n0;function V0(tn,bt){return tn[1][tn[60].forwardPort]?bA:BA}let _a=V0(e),dn=_a(e),sr=((a0=e[1][e[60].forwardPort])==null?void 0:a0.online)&&Xd(e);function po(){e[21].call(H,e[61],e[62])}function vo(){return e[22](e[60])}function Aa(){e[23].call($,e[61],e[62])}let or=e[60].tls===!0&&jd(e);function Ba(){e[25].call(ie,e[61],e[62])}function xo(){e[26].call(Me,e[61],e[62])}function go(){e[27].call(Ne,e[61],e[62])}function yo(){e[28].call(Vt,e[61],e[62])}function K0(){e[29].call(ae,e[61],e[62])}function H0(){e[30].call(Kt,e[61],e[62])}function i0(){e[31].call(_r,e[61],e[62])}function mo(){return e[32](e[60])}let lr=(e[60].protocol==="https"||e[60].protocol==="http")&&Jd(e);function Co(){e[36].call(zr,e[61],e[62])}function Eo(){return e[37](e[62])}function z0(){return e[38](e[62])}return{c(){t=U("div"),r=U("div"),n=U("div"),a=U("div"),a.textContent=`${e[62]+1}.`,s=re(),l=U("div"),c=Ie(u),f=Ie("  ⬌ "),p=Ie(h),v=Ie(":"),g=Ie(x),E=Ie(" ("),B=Ie(m),_=Ie(")"),C=re(),S=U("div"),F=U("div"),dn.c(),k=re(),sr&&sr.c(),L=re(),R=U("div"),q=U("div"),P=U("label"),P.textContent="External Server Port",O=re(),H=U("input"),Y=re(),ce=U("div"),$=U("input"),j=re(),oe=U("div"),oe.textContent="Secure tunneling Server/Client",_e=re(),or&&or.c(),ue=re(),W=U("div"),ee=U("label"),ee.textContent="Destination Host",se=re(),ie=U("input"),we=re(),Se=U("div"),Oe=U("label"),Oe.textContent="Destination Port",me=re(),Me=U("input"),st=re(),Ze=U("div"),je=U("label"),je.innerHTML='Allowed Client names <span style="font-size: 8pt">(Separate names with a semicolon(;))</span>',$e=re(),Ne=U("input"),Ge=re(),He=U("div"),Ve=U("label"),Ve.textContent="Keep-Alive Timeout (ms)",Et=re(),Vt=U("input"),jt=re(),ot=U("div"),kt=U("div"),kt.textContent="Mem Buffer size limit per Sessions (MiB)",pt=re(),dr=U("div"),rr=U("label"),rr.textContent="Server",Rr=re(),ae=U("input"),de=re(),ke=U("div"),Le=U("label"),Le.textContent="Client",It=re(),Kt=U("input"),mi=re(),en=U("div"),en.innerHTML='<ul class="svelte-9x5gaz"><li class="svelte-9x5gaz"><span style="font-weight: 900">0&gt;=n</span> : Unlimited memory buffer.</li> <li class="svelte-9x5gaz"><span style="font-weight: 900">0&lt;n</span> : If the memory buffer limit is exceeded, it is written to the file cache.</li></ul>',ei=re(),cn=U("div"),wn=U("label"),wn.textContent="Protocol type",Wi=re(),_r=U("select"),Dn=U("option"),Dn.textContent="TCP",Rn=U("option"),Rn.textContent="HTTP (http/1.1)",hn=U("option"),hn.textContent="HTTPS (http/1.1)",ma=re(),lr&&lr.c(),Qi=re(),ti=U("div"),zr=U("input"),Yi=re(),Nn=U("div"),Nn.textContent="Inactive on startup",Xi=re(),ri=U("div"),qr=U("button"),Ir=Ie(ar),Ca=re(),Ci=U("button"),t0=Ie(Ea),M0=Ie("Remove"),M(a,"class","tunneling-title svelte-9x5gaz"),V(a,"display","inline"),V(a,"min-width","25px"),V(a,"font-weight","900"),M(l,"class","tunneling-title svelte-9x5gaz"),V(l,"display","inline"),V(l,"color","#444"),V(n,"display","block"),V(F,"font-size","18pt"),V(F,"font-weight","400"),V(F,"margin-top","-5px"),V(F,"display","inline-block"),M(S,"class","round-box"),V(S,"margin-bottom","5px"),V(r,"font-size","16pt"),M(P,"for","input-external-port"),M(P,"class","form-label"),M(H,"type","number"),M(H,"id","input-external-port"),M(H,"class","form-control"),M(q,"class","input-box"),V(q,"margin-bottom","0"),M($,"type","checkbox"),M($,"id","sdf"),V($,"width","14px"),$.disabled=ne=e[60].protocol!=="tcp",V(oe,"display","inline-block"),V(oe,"position","relative"),V(oe,"top","-7px"),V(oe,"font-size","10pt"),M(ce,"class","input-box check-box"),V(ce,"margin-bottom",(e[60].tls?10:20)+"px"),M(ee,"for","input-destination-host"),M(ee,"class","form-label"),M(ie,"type","text"),M(ie,"id","input-destination-host"),M(ie,"class","form-control"),M(W,"class","input-box"),M(Oe,"for","input-destination-port"),M(Oe,"class","form-label"),M(Me,"type","number"),M(Me,"id","input-destination-port"),M(Me,"class","form-control"),M(Se,"class","input-box"),M(je,"for","input-allow-client-names"),M(je,"class","form-label"),M(Ne,"type","text"),M(Ne,"id","input-allow-client-names"),M(Ne,"class","form-control"),M(Ze,"class","input-box"),M(Ve,"for","input-active-timeout"),M(Ve,"class","form-label"),M(Vt,"type","number"),M(Vt,"id","input-active-timeout"),M(Vt,"class","form-control"),M(He,"class","input-box"),M(kt,"class","form-label"),M(rr,"for","input-buffer-limit-server"),M(rr,"class","form-label"),V(rr,"font-size","10pt"),V(rr,"color","#666666"),M(ae,"type","number"),M(ae,"id","input-buffer-limit-server"),M(ae,"class","form-control"),V(dr,"width","calc(50% - 2px)"),V(dr,"display","inline-block"),M(Le,"for","input-buffer-limit-client"),M(Le,"class","form-label"),V(Le,"font-size","10pt"),V(Le,"color","#666666"),M(Kt,"type","number"),M(Kt,"id","input-buffer-limit-client"),M(Kt,"class","form-control"),V(ke,"width","calc(50% - 2px)"),V(ke,"display","inline-block"),V(en,"color","#666"),V(en,"font-size","10pt"),V(en,"margin-left","-10px"),M(ot,"class","input-box"),M(wn,"for","select-protocol"),M(wn,"class","form-label"),Dn.__value="tcp",ct(Dn,Dn.__value),Rn.__value="http",ct(Rn,Rn.__value),hn.__value="https",ct(hn,hn.__value),M(_r,"id","select-protocol"),V(_r,"min-width","calc(100% - 5px)"),M(_r,"class","svelte-9x5gaz"),e[60].protocol===void 0&&Ks(i0),M(cn,"class","input-box"),M(zr,"type","checkbox"),V(zr,"width","14px"),V(Nn,"display","inline-block"),V(Nn,"position","relative"),V(Nn,"top","-7px"),V(Nn,"font-size","10pt"),V(qr,"width","160px"),qr.disabled=ni=!e[0][e[62]].updatable,V(Ci,"width","140px"),M(R,"class","round-box"),V(t,"width","100%"),V(t,"margin-bottom","20px")},m(tn,bt){be(tn,t,bt),A(t,r),A(r,n),A(n,a),A(n,s),A(n,l),A(l,c),A(l,f),A(l,p),A(l,v),A(l,g),A(l,E),A(l,B),A(l,_),A(r,C),A(r,S),A(S,F),dn.m(F,null),A(S,k),sr&&sr.m(S,null),A(t,L),A(t,R),A(R,q),A(q,P),A(q,O),A(q,H),ct(H,e[60].forwardPort),A(R,Y),A(R,ce),A(ce,$),$.checked=e[60].tls,A(ce,j),A(ce,oe),A(R,_e),or&&or.m(R,null),A(R,ue),A(R,W),A(W,ee),A(W,se),A(W,ie),ct(ie,e[60].destinationAddress),A(R,we),A(R,Se),A(Se,Oe),A(Se,me),A(Se,Me),ct(Me,e[60].destinationPort),A(R,st),A(R,Ze),A(Ze,je),A(Ze,$e),A(Ze,Ne),ct(Ne,e[60].allowedClientNamesQuery),A(R,Ge),A(R,He),A(He,Ve),A(He,Et),A(He,Vt),ct(Vt,e[60].keepAlive),A(R,jt),A(R,ot),A(ot,kt),A(ot,pt),A(ot,dr),A(dr,rr),A(dr,Rr),A(dr,ae),ct(ae,e[60].bufferLimitOnServer),A(ot,de),A(ot,ke),A(ke,Le),A(ke,It),A(ke,Kt),ct(Kt,e[60].bufferLimitOnClient),A(ot,mi),A(ot,en),A(R,ei),A(R,cn),A(cn,wn),A(cn,Wi),A(cn,_r),A(_r,Dn),A(_r,Rn),A(_r,hn),Rh(_r,e[60].protocol,!0),A(R,ma),lr&&lr.m(R,null),A(R,Qi),A(R,ti),A(ti,zr),zr.checked=e[60].inactiveOnStartup,A(ti,Yi),A(ti,Nn),A(R,Xi),A(R,ri),A(ri,qr),A(qr,Ir),A(ri,Ca),A(ri,Ci),A(Ci,t0),A(Ci,M0),Nr=!0,r0||(n0=[Ke(H,"input",po),Ke($,"change",vo),Ke($,"change",Aa),Ke(ie,"input",Ba),Ke(Me,"input",xo),Ke(Ne,"input",go),Ke(Vt,"input",yo),Ke(ae,"input",K0),Ke(Kt,"input",H0),Ke(_r,"change",i0),Ke(_r,"change",mo),Ke(zr,"change",DA),Ke(zr,"change",Co),Ke(qr,"click",Eo),Ke(Ci,"click",z0)],r0=!0)},p(tn,bt){var q0;e=tn,(!Nr||bt[0]&1)&&u!==(u=e[60].forwardPort+"")&&ht(c,u),(!Nr||bt[0]&1)&&h!==(h=e[60].destinationAddress+"")&&ht(p,h),(!Nr||bt[0]&1)&&x!==(x=e[60].destinationPort+"")&&ht(g,x),(!Nr||bt[0]&1)&&m!==(m=(e[60].protocol??"").toUpperCase()+"")&&ht(B,m),_a===(_a=V0(e))&&dn?dn.p(e,bt):(dn.d(1),dn=_a(e),dn&&(dn.c(),dn.m(F,null))),(q0=e[1][e[60].forwardPort])!=null&&q0.online?sr?(sr.p(e,bt),bt[0]&3&&Je(sr,1)):(sr=Xd(e),sr.c(),Je(sr,1),sr.m(S,null)):sr&&(Vi(),ut(sr,1,1,()=>{sr=null}),Ki()),bt[0]&1&&yr(H.value)!==e[60].forwardPort&&ct(H,e[60].forwardPort),(!Nr||bt[0]&1&&ne!==(ne=e[60].protocol!=="tcp"))&&($.disabled=ne),bt[0]&1&&($.checked=e[60].tls),(!Nr||bt[0]&1)&&V(ce,"margin-bottom",(e[60].tls?10:20)+"px"),e[60].tls===!0?or?(or.p(e,bt),bt[0]&1&&Je(or,1)):(or=jd(e),or.c(),Je(or,1),or.m(R,ue)):or&&(Vi(),ut(or,1,1,()=>{or=null}),Ki()),bt[0]&1&&ie.value!==e[60].destinationAddress&&ct(ie,e[60].destinationAddress),bt[0]&1&&yr(Me.value)!==e[60].destinationPort&&ct(Me,e[60].destinationPort),bt[0]&1&&Ne.value!==e[60].allowedClientNamesQuery&&ct(Ne,e[60].allowedClientNamesQuery),bt[0]&1&&yr(Vt.value)!==e[60].keepAlive&&ct(Vt,e[60].keepAlive),bt[0]&1&&yr(ae.value)!==e[60].bufferLimitOnServer&&ct(ae,e[60].bufferLimitOnServer),bt[0]&1&&yr(Kt.value)!==e[60].bufferLimitOnClient&&ct(Kt,e[60].bufferLimitOnClient),bt[0]&1&&Rh(_r,e[60].protocol),e[60].protocol==="https"||e[60].protocol==="http"?lr?(lr.p(e,bt),bt[0]&1&&Je(lr,1)):(lr=Jd(e),lr.c(),Je(lr,1),lr.m(R,Qi)):lr&&(Vi(),ut(lr,1,1,()=>{lr=null}),Ki()),bt[0]&1&&(zr.checked=e[60].inactiveOnStartup),(!Nr||bt[0]&1)&&ar!==(ar=e[0][e[62]].isSync?" Apply and Restart ":"Start")&&ht(Ir,ar),(!Nr||bt[0]&1&&ni!==(ni=!e[0][e[62]].updatable))&&(qr.disabled=ni),(!Nr||bt[0]&1)&&Ea!==(Ea=e[0][e[62]].isSync?"Stop and ":"")&&ht(t0,Ea)},i(tn){Nr||(Je(sr),Je(or),Je(lr),Nr=!0)},o(tn){ut(sr),ut(or),ut(lr),Nr=!1},d(tn){tn&&Ae(t),dn.d(),sr&&sr.d(),or&&or.d(),lr&&lr.d(),r0=!1,In(n0)}}}function IA(e){let t,r;return{c(){t=new $s(!1),r=k0(),t.a=r},m(n,a){t.m(e[5],n,a),be(n,r,a)},p(n,a){a[0]&32&&t.p(n[5])},d(n){n&&(Ae(r),t.d())}}}function wA(e){let t,r,n,a,s,l,u,c,f,h,p,v,x,g,E,m,B,_=Tn(e[0]),C=[];for(let O=0;O<_.length;O+=1)C[O]=$d(Yd(e,_,O));const S=O=>ut(C[O],1,1,()=>{C[O]=null});function F(O){e[39](O)}function k(O){e[40](O)}let L={$$slots:{default:[IA]},$$scope:{ctx:e}};e[4]!==void 0&&(L.show=e[4]),e[6]!==void 0&&(L.button=e[6]),c=new O0({props:L}),Gt.push(()=>Hr(c,"show",F)),Gt.push(()=>Hr(c,"button",k)),c.$on("close",function(){N0(e[7])&&e[7].apply(this,arguments)});function R(O){e[41](O)}function q(O){e[42](O)}let P={};return e[2]!==void 0&&(P.show=e[2]),e[3]!==void 0&&(P.transition=e[3]),v=new s1({props:P}),Gt.push(()=>Hr(v,"show",R)),Gt.push(()=>Hr(v,"transition",q)),{c(){t=U("main"),r=U("div"),n=U("h2"),n.textContent="Tunneling settings",a=re();for(let O=0;O<C.length;O+=1)C[O].c();s=re(),l=U("button"),l.textContent="Add tunneling service",u=re(),$t(c.$$.fragment),p=re(),$t(v.$$.fragment),M(n,"class","title svelte-9x5gaz"),V(l,"margin-top","8px"),V(l,"width","180px"),M(r,"class",""),V(r,"margin-top","20px"),M(t,"class","svelte-9x5gaz")},m(O,H){be(O,t,H),A(t,r),A(r,n),A(r,a);for(let Y=0;Y<C.length;Y+=1)C[Y]&&C[Y].m(r,null);A(r,s),A(r,l),A(t,u),Qt(c,t,null),A(t,p),Qt(v,t,null),E=!0,m||(B=Ke(l,"click",e[9]),m=!0)},p(O,H){if(e=O,H[0]&130307){_=Tn(e[0]);let $;for($=0;$<_.length;$+=1){const ne=Yd(e,_,$);C[$]?(C[$].p(ne,H),Je(C[$],1)):(C[$]=$d(ne),C[$].c(),Je(C[$],1),C[$].m(r,s))}for(Vi(),$=_.length;$<C.length;$+=1)S($);Ki()}const Y={};H[0]&32|H[2]&2&&(Y.$$scope={dirty:H,ctx:e}),!f&&H[0]&16&&(f=!0,Y.show=e[4],Kr(()=>f=!1)),!h&&H[0]&64&&(h=!0,Y.button=e[6],Kr(()=>h=!1)),c.$set(Y);const ce={};!x&&H[0]&4&&(x=!0,ce.show=e[2],Kr(()=>x=!1)),!g&&H[0]&8&&(g=!0,ce.transition=e[3],Kr(()=>g=!1)),v.$set(ce)},i(O){if(!E){for(let H=0;H<_.length;H+=1)Je(C[H]);Je(c.$$.fragment,O),Je(v.$$.fragment,O),E=!0}},o(O){C=C.filter(Boolean);for(let H=0;H<C.length;H+=1)ut(C[H]);ut(c.$$.fragment,O),ut(v.$$.fragment,O),E=!1},d(O){O&&Ae(t),Za(C,O),Yt(c),Yt(v),m=!1,B()}}}const DA=()=>{};function RA(e,t,r){let n={},a=0,s=[],l=[],u=!1,c=!1,f=!1,h=!1,p="",v="Ok",x=()=>{},g={},E=null;yi(async()=>{u||(await C(),await L(),k(),r(17,u=!0))});let m=ae=>ae<0?0:ae>65535?65535:ae,B=ae=>ae<-1?-1:ae>1048576?1048576:ae,_=()=>{for(let ae of s)ae.updatable=Mr.checkValidTunnelingOption(ae)},C=async()=>{var ae;try{r(2,c=!0),r(0,s=await Mr.instance.getTunnelingOption());for(let de of s)de.isSync=!0,de.updatable=!0,de.allowedClientNamesQuery=(ae=de.allowedClientNames)==null?void 0:ae.join("; "),de.allowedClientNamesQuery?de.allowedClientNamesQuery+=";":de.allowedClientNamesQuery="";l=hr.cloneDeep(s),await S(),_(),r(2,c=!1)}catch(de){if(console.error(de),r(2,c=!1),de instanceof Pt){ce();return}Y()}},S=async()=>{r(2,c=!0);for(let ae of s)await F(ae.forwardPort);r(2,c=!1)},F=async ae=>{try{let de=s.find(ke=>ke.forwardPort===ae);if(de===void 0)return;de.certInfo=await Fi.instance.loadExternalServerCert(ae),r(0,s=[...s])}catch(de){if(console.error(de),de instanceof Pt){ce();return}Y()}},k=()=>{L(),E||(E=setInterval(async()=>{c||await L(!0)==!1&&clearInterval(E)},1e3))},L=async ae=>{try{let de={},ke=await Mr.instance.loadTunnelingStatus();a=ke.serverTime;for(let Le of ke.statuses)de[Le.port]=Le,Le&&Le.active&&g[Le.port]&&g[Le.port].update(ue(Le),Le.activeTimeout);return r(1,n=de),!0}catch(de){return ae?!1:de instanceof Pt?(ce(),!1):(Y(),!1)}},R=async()=>{s.push({forwardPort:Math.floor(Math.random()*65534+10),tls:!1,protocol:"tcp",httpOption:{rewriteHostInTextBody:!0,replaceAccessControlAllowOrigin:!1,customRequestHeaders:[],customResponseHeaders:[],bodyRewriteRules:[]},destinationAddress:"127.0.0.1",destinationPort:8080,isSync:!1,updatable:!0,inactiveOnStartup:!1,bufferLimitOnClient:10,bufferLimitOnServer:10,allowedClientNamesQuery:""}),r(0,s=[...s])},q=ae=>{if(ae.protocol=="https"){let de=ae.tls;ae.tls=!0,de||ne(ae.forwardPort)}else ae.tls=!1;r(0,s=[...s])},P=async ae=>{if(s[ae]===void 0)return;let ke=s[ae];r(2,c=!0);try{let Le={success:!0,message:"",forwardPort:ke.forwardPort};ke.isSync&&(Le=await Mr.instance.removeTunnelingOption(ke)),r(2,c=!1),Le.success?(s.splice(ae,1),r(0,s=[...s]),ke.isSync&&$("Tunneling option has been removed.<br/>The external server has been shut down."),await C()):$("Fail: "+Le.message)}catch(Le){if(r(2,c=!1),Le instanceof Pt){ce();return}Y()}},O=async()=>{let ae=l.map(ke=>ke.forwardPort),de=s.map(ke=>ke.forwardPort);for(let ke of ae)if(de.indexOf(ke)===-1)try{let Le=l.find(It=>It.forwardPort===ke);Le&&Le.certInfo&&await Fi.instance.deleteExternalServerCert(ke),await Mr.instance.removeTunnelingOption({forwardPort:ke})}catch(Le){console.error(Le)}},H=async ae=>{var ke;r(2,c=!0);let de=s[ae];de.allowedClientNames=de.allowedClientNamesQuery.split(";").map(Le=>Le.trim()).filter(Le=>Le!=="");try{if(await O(),de.tls,de.tls&&de.certInfo){let It=await Fi.instance.updateExternalServerCert(de.forwardPort,de.certInfo);if(!It.success){r(2,c=!1),$("Fail to apply tunneling option: "+It.message);return}}let Le=await Mr.instance.updateTunnelingOption(de);r(2,c=!1),Le.success?(g[de.forwardPort]&&((ke=n[de.forwardPort])!=null&&ke.activeTimeout)&&g[de.forwardPort].reset(n[de.forwardPort].activeTimeout),l=hr.cloneDeep(s),$("Success to apply tunneling option")):$("Fail to apply tunneling option: "+Le.message),await C(),await L()}catch(Le){if(console.error(Le),r(2,c=!1),Le instanceof Pt){ce();return}Y()}},Y=()=>{$("Unable to connect to the server.","OK",()=>{location.href="/"})},ce=()=>{$("Session is expired.<br/>Please login again.","OK",()=>{location.href="/"})},$=(ae,de,ke)=>{de?r(6,v=de):de="OK",ke==null?r(7,x=()=>{}):r(7,x=ke),r(5,p=ae),r(4,h=!0)},ne=async ae=>{s.find(ke=>ke.forwardPort===ae)!==void 0&&await F(ae)},j=ae=>{if(!ae)return"0s";let de=Date.now()-ae;return de>1e3*60*60*24?Math.floor(de/(1e3*60*60*24))+"d, "+Math.floor(de%(1e3*60*60*24)/(1e3*60*60))+"h":de>1e3*60*60?Math.floor(de/(1e3*60*60))+"h, "+Math.floor(de%(1e3*60*60)/(1e3*60))+"m":de>1e3*60?Math.floor(de/(1e3*60))+"m":Math.floor(de/1e3)+"s"},oe=(ae,de)=>{let ke=Math.pow(10,de);return Math.floor(ae*ke)/ke},_e=ae=>(ae=ae,ae>1024*1024*1024?oe(ae/(1024*1024*1024),2)+"Gb":ae>1024*1024?oe(ae/(1024*1024),2)+"Mb":ae>1024?oe(ae/1024,2)+"Kb":ae+"B"),ue=ae=>{let de=ae.activeStart+ae.activeTimeout*1e3-a;return de<0&&(de=0),de=Math.floor(de/1e3),de},W=async(ae,de,ke)=>{if(ae){let It=n[de];It&&g[It.port]&&g[It.port].update(ue(It),It.activeTimeout)}let Le=n[de].active;if(Le==ae&&ke==null){console.log("time: "+ke);return}ke=ke??n[de].activeTimeout;try{r(2,c=!0),r(3,f=!0);let It=await Mr.instance.activeExternalPortServer(ae,de,ke);await L(),It.success?r(1,n[de].active=ae,n):r(1,n[de].active=Le,n),ke>0,r(2,c=!1),r(3,f=!1)}catch(It){if(console.error(It),r(2,c=!1),r(3,f=!1),It instanceof Pt){ce();return}Y()}};const ee=(ae,de)=>W(de.detail.on,ae.forwardPort);function se(ae,de){Gt[ae?"unshift":"push"](()=>{g[de.forwardPort]=ae,r(8,g)})}const ie=(ae,de)=>{W(!0,ae.forwardPort,de.detail.time)};function we(ae,de){ae[de].forwardPort=yr(this.value),r(0,s)}const Se=ae=>{ne(ae.forwardPort)};function Oe(ae,de){ae[de].tls=this.checked,r(0,s)}const me=(ae,de,ke,Le)=>{r(0,de[ke].certInfo=Le.detail,s)};function Me(ae,de){ae[de].destinationAddress=this.value,r(0,s)}function st(ae,de){ae[de].destinationPort=yr(this.value),r(0,s)}function Ze(ae,de){ae[de].allowedClientNamesQuery=this.value,r(0,s)}function je(ae,de){ae[de].keepAlive=yr(this.value),r(0,s)}function $e(ae,de){ae[de].bufferLimitOnServer=yr(this.value),r(0,s)}function Ne(ae,de){ae[de].bufferLimitOnClient=yr(this.value),r(0,s)}function Ge(ae,de){ae[de].protocol=xC(this),r(0,s)}const He=ae=>q(ae);function Ve(ae,de){e.$$.not_equal(de.httpOption.customRequestHeaders,ae)&&(de.httpOption.customRequestHeaders=ae,r(0,s))}function Et(ae,de){e.$$.not_equal(de.httpOption.customResponseHeaders,ae)&&(de.httpOption.customResponseHeaders=ae,r(0,s))}function Vt(ae,de){e.$$.not_equal(de.httpOption.bodyRewriteRules,ae)&&(de.httpOption.bodyRewriteRules=ae,r(0,s))}function jt(ae,de){ae[de].inactiveOnStartup=this.checked,r(0,s)}const ot=ae=>H(ae),kt=ae=>P(ae);function pt(ae){h=ae,r(4,h)}function dr(ae){v=ae,r(6,v)}function rr(ae){c=ae,r(2,c)}function Rr(ae){f=ae,r(3,f)}return e.$$.update=()=>{if(e.$$.dirty[0]&131073){u&&s.length>0&&_();for(let ae of s)ae.destinationPort=m(ae.destinationPort),ae.forwardPort=m(ae.forwardPort),ae.bufferLimitOnClient=B(ae.bufferLimitOnClient),ae.bufferLimitOnServer=B(ae.bufferLimitOnServer)}},[s,n,c,f,h,p,v,x,g,R,q,P,H,ne,j,_e,W,u,ee,se,ie,we,Se,Oe,me,Me,st,Ze,je,$e,Ne,Ge,He,Ve,Et,Vt,jt,ot,kt,pt,dr,rr,Rr]}class NA extends $r{constructor(t){super(),Jr(this,t,RA,wA,jr,{},null,[-1,-1,-1])}}function kA(e){let t,r,n,a,s,l,u,c,f,h,p,v;return{c(){t=U("main"),r=U("h2"),r.textContent="Sign in",n=re(),a=U("div"),s=U("input"),l=re(),u=U("div"),c=re(),f=U("div"),h=U("button"),h.textContent="OK",M(r,"class","svelte-16cov7s"),M(s,"type","password"),M(s,"class","form-control svelte-16cov7s"),M(s,"placeholder","Password"),M(s,"aria-label","Password"),M(u,"id","login-message"),M(u,"class","svelte-16cov7s"),M(a,"class","input-box svelte-16cov7s"),M(h,"type","button"),M(h,"class","svelte-16cov7s"),M(f,"class","button-box svelte-16cov7s"),M(t,"class","svelte-16cov7s")},m(x,g){be(x,t,g),A(t,r),A(t,n),A(t,a),A(a,s),A(a,l),A(a,u),e[3](u),A(t,c),A(t,f),A(f,h),p||(v=[Ke(s,"keyup",e[2]),Ke(h,"click",e[1])],p=!0)},p:Xt,i:Xt,o:Xt,d(x){x&&Ae(t),e[3](null),p=!1,In(v)}}}function FA(e,t,r){let n,a=!1;yi(async()=>{if(a=await D0.isEmptyKey(),a&&n){r(0,n.innerHTML="No password has been set. Enter the desired password.",n);return}});let s=async()=>{let f=document.querySelector("input").value;if(f==""){r(0,n.innerHTML="Please enter your password.",n);return}if(a){if(f.length<12){r(0,n.innerHTML="The password must be at least 12 characters long.",n);return}else if(!f.match(/[0-9]/g)||!f.match(/[~!@#$%^&*()_+|<>?:{}]/g)){r(0,n.innerHTML="The password must contain at least one number or special character.",n);return}}await D0.login(f)?window.location.href="/":r(0,n.innerHTML="The password is incorrect.",n)},l=c=>{c.key=="Enter"&&s()};function u(c){Gt[c?"unshift":"push"](()=>{n=c,r(0,n)})}return[n,s,l,u]}class LA extends $r{constructor(t){super(),Jr(this,t,FA,kA,jr,{})}}class Vn{static map(t,r,n,a,s){return(t-r)*(s-a)/(n-r)+a}static floor(t,r){let n=Math.pow(10,r);return Math.floor(t*n)/n}static ceil(t,r){let n=Math.pow(10,r);return Math.ceil(t*n)/n}static round(t,r){let n=Math.pow(10,r);return Math.round(t*n)/n}}function PA(e){let t,r,n,a,s,l,u,c,f,h,p,v,x,g,E,m,B,_,C,S,F,k,L,R,q,P,O,H,Y,ce,$,ne,j;return{c(){t=U("div"),r=U("div"),n=Ie(e[1]),a=re(),s=U("div"),l=U("div"),u=re(),c=U("div"),f=re(),h=U("div"),p=re(),v=U("div"),x=re(),g=U("div"),E=re(),m=U("div"),B=re(),_=U("div"),C=re(),S=U("div"),F=re(),k=U("div"),L=re(),R=U("div"),q=re(),P=U("div"),O=re(),H=U("div"),Y=Ie(e[4]),ce=U("span"),ce.textContent="%",$=re(),ne=U("div"),j=Ie(e[2]),M(r,"class","title svelte-1495737"),M(l,"class","gauge svelte-1495737"),M(c,"class","tick-mark mark-center svelte-1495737"),M(h,"class","tick-mark mark-30 svelte-1495737"),M(v,"class","tick-mark mark-60 svelte-1495737"),M(g,"class","tick-mark mark-90 svelte-1495737"),M(m,"class","tick-mark mark-120 svelte-1495737"),M(_,"class","tick-mark mark-150 svelte-1495737"),M(S,"class","gauge-background svelte-1495737"),M(k,"class","needle svelte-1495737"),M(R,"class","gauge-border-bottom svelte-1495737"),M(P,"class","gauge-ball svelte-1495737"),M(s,"class","gauge-container svelte-1495737"),V(ce,"font-size","12pt"),M(H,"class","percent-box svelte-1495737"),M(ne,"class","message svelte-1495737"),M(t,"class","main svelte-1495737"),M(t,"style",e[0])},m(oe,_e){be(oe,t,_e),A(t,r),A(r,n),A(t,a),A(t,s),A(s,l),A(s,u),A(s,c),A(s,f),A(s,h),A(s,p),A(s,v),A(s,x),A(s,g),A(s,E),A(s,m),A(s,B),A(s,_),A(s,C),A(s,S),A(s,F),A(s,k),e[9](k),A(s,L),A(s,R),A(s,q),A(s,P),A(t,O),A(t,H),A(H,Y),A(H,ce),A(t,$),A(t,ne),A(ne,j)},p(oe,[_e]){_e&2&&ht(n,oe[1]),_e&16&&ht(Y,oe[4]),_e&4&&ht(j,oe[2]),_e&1&&M(t,"style",oe[0])},i:Xt,o:Xt,d(oe){oe&&Ae(t),e[9](null)}}}const Cu=82;function UA(e,t,r){let{style:n=""}=t,{max:a=100}=t,{min:s=0}=t,{value:l=0}=t,{duration:u=1e3}=t,{title:c=""}=t,{message:f=""}=t,h;const p=-82;let v=-82,x=null,g=0,E={min:s,max:a,value:l};yi(()=>{h&&m()}),yC(()=>{l<s?r(6,l=s):l>a&&r(6,l=a),a<=0&&r(5,a=1),On.equalsDeep(E,{min:s,max:a,value:l})||(m(),E={min:s,max:a,value:l})});let m=()=>{if(!h)return;r(4,g=Vn.round(Vn.map(l,s,a,0,100),1));let C=Vn.map(l,s,a,p,Cu);B(C)},B=C=>{h&&(C=Math.round(C),C<p?C=p:C>Cu&&(C=Cu),v!=C&&(x==null||x.pause(),setTimeout(()=>{x=h.animate([{transform:`rotate(${v}deg)`},{transform:`rotate(${C}deg)`}],{duration:u,easing:"ease-in-out",fill:"forwards"}),v=C},0)))};function _(C){Gt[C?"unshift":"push"](()=>{h=C,r(3,h)})}return e.$$set=C=>{"style"in C&&r(0,n=C.style),"max"in C&&r(5,a=C.max),"min"in C&&r(7,s=C.min),"value"in C&&r(6,l=C.value),"duration"in C&&r(8,u=C.duration),"title"in C&&r(1,c=C.title),"message"in C&&r(2,f=C.message)},[n,c,f,h,g,a,l,s,u,_]}class Ps extends $r{constructor(t){super(),Jr(this,t,UA,PA,jr,{style:0,max:5,min:7,value:6,duration:8,title:1,message:2})}get style(){return this.$$.ctx[0]}set style(t){this.$$set({style:t}),Wn()}get max(){return this.$$.ctx[5]}set max(t){this.$$set({max:t}),Wn()}get min(){return this.$$.ctx[7]}set min(t){this.$$set({min:t}),Wn()}get value(){return this.$$.ctx[6]}set value(t){this.$$set({value:t}),Wn()}get duration(){return this.$$.ctx[8]}set duration(t){this.$$set({duration:t}),Wn()}get title(){return this.$$.ctx[1]}set title(t){this.$$set({title:t}),Wn()}get message(){return this.$$.ctx[2]}set message(t){this.$$set({message:t}),Wn()}}const OA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVR4nO2ZbwrCMAzF36fdST2fTq/VIuI9Nq8RESrM4lib/u/yg3wppMtr9rrAgB3zBPAosB4dMpF7PToipLaONMcA4AbgtTilUjEDGE1N3lwrEEBWXDhCZpN8QHmOi854U5vpiFuPCEkEuXREW6ZyTswI/amNTO1dCFE+iTVAYnbsqCP3iF/tH9NyhXDNHnsEKXZrxXr9QoSo2JuHkPRZJEL8kY7YtGx23YsQFXvzEMQjLkhHSh6abtjsupehUW3kOW1uH0BIbBWUdNbKCYkQNNgRzTR7TijlrZUTSnlr5YTE7OikI7NJ/PxkKc3J1DJxkscEI0honDlCBiPm25mSMRkRrJ+h3UMrpku9Hh0RUltH9MpYkHodu+ANSkYsKecABh8AAAAASUVORK5CYII=",MA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAABlklEQVR4nO2VzUrDQBSFv415hD6E6br40wrqw1kRpf5UEJ/DutGN1W7ala2PUF0r7qJEBk7gkuYPkxRFD1wY7tw752RyZgb+kY0m0ANmwLtippyby0MDmCjcuDA8oA98AmFKfACnqk0jn5r6aVERHnCrpgA4AVrAlaKlXKCamwQRlnwaG+eK6Kv4GdjMqGurJpQgi0mM0AoaZ5E3tbVBDrkVEajHN/mhiHzjAV+5u6wFe1J5kWMqRxDhTD1HVXjgScXbKeRJ27hmCEp74M0ojr7yIeb++CID5V1vaQ+8GqLoXw1NbpzwBZEA11vaAzMttkNxrKvnsQoPHOaYMAnn6jmowgO+OYbuiOVhy9SvVuEBh2NzEXXIJn9JOYKRB+zXNop4AF2r1+a+vwR2ZbaB/vm55kLlVqgAHrBvrtc6Yg500x6wbo3E8XBcC5hrcoP60DY7sYBQUQYj4D5nnMoTViBgGLtBk8a1CiiCXAHhkuLnCqgbtQoY/epTMNdEkVfwu+hkXUTdJRpwL0mAJxHRTiz9MeJP4gtUX2rbPT2HhAAAAABJRU5ErkJggg==";function ep(e,t,r){const n=e.slice();return n[6]=t[r],n}function tp(e,t,r){const n=e.slice();return n[9]=t[r],n}function rp(e){let t,r,n,a,s,l=e[2].cpuInfo.model+"",u,c,f,h,p=e[2].cpuInfo.speed+"",v,x,g,E,m=e[2].cpuInfo.cores+"",B,_,C,S,F=e[4](e[2].ram)+"",k,L,R,q,P,O,H,Y=e[2].osInfo.type+"",ce,$,ne,j,oe=e[2].osInfo.platform+"",_e,ue,W,ee,se=e[2].osInfo.release+"",ie,we,Se,Oe,me=e[2].osInfo.hostname+"",Me,st,Ze,je,$e,Ne=Tn(Object.keys(e[2].network)),Ge=[];for(let He=0;He<Ne.length;He+=1)Ge[He]=ip(ep(e,Ne,He));return{c(){t=U("h4"),t.textContent="HW Info",r=re(),n=U("ul"),a=U("li"),s=Ie("CPU: "),u=Ie(l),c=re(),f=U("li"),h=Ie("Clock: "),v=Ie(p),x=re(),g=U("li"),E=Ie("Cores: "),B=Ie(m),_=re(),C=U("li"),S=Ie("RAM: "),k=Ie(F),L=re(),R=U("h4"),R.textContent="OS Info",q=re(),P=U("ul"),O=U("li"),H=Ie("Type: "),ce=Ie(Y),$=re(),ne=U("li"),j=Ie("Platform: "),_e=Ie(oe),ue=re(),W=U("li"),ee=Ie("Release: "),ie=Ie(se),we=re(),Se=U("li"),Oe=Ie("hostname: "),Me=Ie(me),st=re(),Ze=U("h4"),Ze.textContent="Network",je=re(),$e=U("ul");for(let He=0;He<Ge.length;He+=1)Ge[He].c();M(t,"class","svelte-1jfva93"),M(n,"class","svelte-1jfva93"),M(R,"class","svelte-1jfva93"),M(P,"class","svelte-1jfva93"),M(Ze,"class","svelte-1jfva93"),M($e,"class","svelte-1jfva93")},m(He,Ve){be(He,t,Ve),be(He,r,Ve),be(He,n,Ve),A(n,a),A(a,s),A(a,u),A(n,c),A(n,f),A(f,h),A(f,v),A(n,x),A(n,g),A(g,E),A(g,B),A(n,_),A(n,C),A(C,S),A(C,k),be(He,L,Ve),be(He,R,Ve),be(He,q,Ve),be(He,P,Ve),A(P,O),A(O,H),A(O,ce),A(P,$),A(P,ne),A(ne,j),A(ne,_e),A(P,ue),A(P,W),A(W,ee),A(W,ie),A(P,we),A(P,Se),A(Se,Oe),A(Se,Me),be(He,st,Ve),be(He,Ze,Ve),be(He,je,Ve),be(He,$e,Ve);for(let Et=0;Et<Ge.length;Et+=1)Ge[Et]&&Ge[Et].m($e,null)},p(He,Ve){if(Ve&4&&l!==(l=He[2].cpuInfo.model+"")&&ht(u,l),Ve&4&&p!==(p=He[2].cpuInfo.speed+"")&&ht(v,p),Ve&4&&m!==(m=He[2].cpuInfo.cores+"")&&ht(B,m),Ve&4&&F!==(F=He[4](He[2].ram)+"")&&ht(k,F),Ve&4&&Y!==(Y=He[2].osInfo.type+"")&&ht(ce,Y),Ve&4&&oe!==(oe=He[2].osInfo.platform+"")&&ht(_e,oe),Ve&4&&se!==(se=He[2].osInfo.release+"")&&ht(ie,se),Ve&4&&me!==(me=He[2].osInfo.hostname+"")&&ht(Me,me),Ve&4){Ne=Tn(Object.keys(He[2].network));let Et;for(Et=0;Et<Ne.length;Et+=1){const Vt=ep(He,Ne,Et);Ge[Et]?Ge[Et].p(Vt,Ve):(Ge[Et]=ip(Vt),Ge[Et].c(),Ge[Et].m($e,null))}for(;Et<Ge.length;Et+=1)Ge[Et].d(1);Ge.length=Ne.length}},d(He){He&&(Ae(t),Ae(r),Ae(n),Ae(L),Ae(R),Ae(q),Ae(P),Ae(st),Ae(Ze),Ae(je),Ae($e)),Za(Ge,He)}}}function np(e){let t,r,n,a=e[9].address+"",s,l,u,c,f=e[9].netmask+"",h,p,v,x,g=e[9].mac+"",E,m,B,_,C=e[9].internal+"",S,F,k,L,R=e[9].family+"",q,P,O,H,Y=e[9].cidr+"",ce,$;return{c(){t=U("ul"),r=U("li"),n=Ie("address: "),s=Ie(a),l=re(),u=U("li"),c=Ie("netmask: "),h=Ie(f),p=re(),v=U("li"),x=Ie("mac: "),E=Ie(g),m=re(),B=U("li"),_=Ie("internal: "),S=Ie(C),F=re(),k=U("li"),L=Ie("family: "),q=Ie(R),P=re(),O=U("li"),H=Ie("cidr: "),ce=Ie(Y),$=re(),M(t,"class","svelte-1jfva93")},m(ne,j){be(ne,t,j),A(t,r),A(r,n),A(r,s),A(t,l),A(t,u),A(u,c),A(u,h),A(t,p),A(t,v),A(v,x),A(v,E),A(t,m),A(t,B),A(B,_),A(B,S),A(t,F),A(t,k),A(k,L),A(k,q),A(t,P),A(t,O),A(O,H),A(O,ce),A(t,$)},p(ne,j){j&4&&a!==(a=ne[9].address+"")&&ht(s,a),j&4&&f!==(f=ne[9].netmask+"")&&ht(h,f),j&4&&g!==(g=ne[9].mac+"")&&ht(E,g),j&4&&C!==(C=ne[9].internal+"")&&ht(S,C),j&4&&R!==(R=ne[9].family+"")&&ht(q,R),j&4&&Y!==(Y=ne[9].cidr+"")&&ht(ce,Y)},d(ne){ne&&Ae(t)}}}function ip(e){let t,r=e[6]+"",n,a,s,l,u=Tn(e[2].network[e[6]]),c=[];for(let f=0;f<u.length;f+=1)c[f]=np(tp(e,u,f));return{c(){t=U("li"),n=Ie(r),a=Ie(":"),s=re();for(let f=0;f<c.length;f+=1)c[f].c();l=k0(),V(t,"margin-top","10px")},m(f,h){be(f,t,h),A(t,n),A(t,a),be(f,s,h);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(f,h);be(f,l,h)},p(f,h){if(h&4&&r!==(r=f[6]+"")&&ht(n,r),h&4){u=Tn(f[2].network[f[6]]);let p;for(p=0;p<u.length;p+=1){const v=tp(f,u,p);c[p]?c[p].p(v,h):(c[p]=np(v),c[p].c(),c[p].m(l.parentNode,l))}for(;p<c.length;p+=1)c[p].d(1);c.length=u.length}},d(f){f&&(Ae(t),Ae(s),Ae(l)),Za(c,f)}}}function VA(e){let t,r,n,a,s,l,u,c,f,h,p,v,x=e[2]&&rp(e);return{c(){t=U("main"),r=U("div"),n=re(),a=U("div"),s=U("div"),l=U("div"),x&&x.c(),u=re(),c=U("div"),f=U("button"),h=Ie(e[1]),M(r,"class","background svelte-1jfva93"),V(l,"height","100%"),V(l,"width","100%"),V(l,"overflow-y","auto"),V(l,"overflow-x","hidden"),M(s,"class","content-box svelte-1jfva93"),V(f,"width","150px"),V(c,"width","100%"),V(c,"display","flex"),V(c,"justify-content","center"),V(c,"align-items","center"),M(a,"class","popup-box svelte-1jfva93"),V(t,"display",e[0]?"flex":"none"),M(t,"class","svelte-1jfva93")},m(g,E){be(g,t,E),A(t,r),A(t,n),A(t,a),A(a,s),A(s,l),x&&x.m(l,null),A(a,u),A(a,c),A(c,f),A(f,h),p||(v=Ke(f,"click",e[3]),p=!0)},p(g,[E]){g[2]?x?x.p(g,E):(x=rp(g),x.c(),x.m(l,null)):x&&(x.d(1),x=null),E&2&&ht(h,g[1]),E&1&&V(t,"display",g[0]?"flex":"none")},i:Xt,o:Xt,d(g){g&&Ae(t),x&&x.d(),p=!1,v()}}}function KA(e,t,r){let{show:n=!1}=t,{button:a="Ok"}=t,{sysInfo:s=void 0}=t;const l=F0();let u=()=>{l("close"),setTimeout(()=>{r(0,n=!1)},0)},c=(f,h)=>f>1099511627776?`${Vn.round(f/1099511627776,1)}${h?"":"TiB"}`:f>1073741824?`${Vn.round(f/1073741824,1)}${h?"":"GiB"}`:f>1048576?`${Vn.round(f/1048576,1)}${h?"":"MiB"}`:f>1024?`${Vn.round(f/1024,1)}${h?"":"KiB"}`:`${f}${h?"":"B"}`;return e.$$set=f=>{"show"in f&&r(0,n=f.show),"button"in f&&r(1,a=f.button),"sysInfo"in f&&r(2,s=f.sysInfo)},[n,a,s,u,c]}class HA extends $r{constructor(t){super(),Jr(this,t,KA,VA,jr,{show:0,button:1,sysInfo:2})}}function ap(e,t,r){const n=e.slice();return n[21]=t[r],n[23]=r,n}function sp(e){let t,r,n,a,s,l,u=e[11](e[6].uptime)+"",c;return{c(){t=U("div"),r=U("div"),n=U("img"),s=re(),l=U("span"),c=Ie(u),Hu(n.src,a=MA)||M(n,"src",a),M(n,"width","16"),M(n,"height","16"),M(n,"alt","info"),V(l,"margin-left","2px"),V(l,"font-size","10pt"),V(l,"color","#555"),V(r,"display","flex"),V(r,"align-items","center"),V(r,"margin-bottom","5px"),V(t,"display","inline-block"),V(t,"margin-left","10px")},m(f,h){be(f,t,h),A(t,r),A(r,n),A(r,s),A(r,l),A(l,c)},p(f,h){h&64&&u!==(u=f[11](f[6].uptime)+"")&&ht(c,u)},d(f){f&&Ae(t)}}}function op(e){let t,r,n,a,s,l,u,c,f,h,p,v;return r=new Ps({props:{style:"",title:"CPU",message:`${e[6].cpu.process}/${e[6].cpu.total}%`,value:e[6].cpu.process,duration:900}}),s=new Ps({props:{style:"",title:"Memory",message:`${e[8](e[6].memory.process)}/${e[8](e[6].memory.total)}`,value:e[6].memory.process,max:e[6].memory.total,duration:900}}),c=new Ps({props:{style:"",title:"Heap",message:`${e[8](e[6].heap.used)}/${e[8](e[6].heap.total)}`,value:e[6].heap.used,max:e[6].heap.total,duration:900}}),p=new Ps({props:{style:"",title:"Buffer",message:`${e[8](e[6].totalBuffer.used)}/${e[8](e[6].totalBuffer.total)}`,value:e[6].totalBuffer.used,max:e[6].totalBuffer.total,duration:900}}),{c(){t=U("div"),$t(r.$$.fragment),n=re(),a=U("div"),$t(s.$$.fragment),l=re(),u=U("div"),$t(c.$$.fragment),f=re(),h=U("div"),$t(p.$$.fragment),M(t,"class","gauge-box svelte-1emz6h9"),M(a,"class","gauge-box svelte-1emz6h9"),M(u,"class","gauge-box svelte-1emz6h9"),M(h,"class","gauge-box svelte-1emz6h9")},m(x,g){be(x,t,g),Qt(r,t,null),be(x,n,g),be(x,a,g),Qt(s,a,null),be(x,l,g),be(x,u,g),Qt(c,u,null),be(x,f,g),be(x,h,g),Qt(p,h,null),v=!0},p(x,g){const E={};g&64&&(E.message=`${x[6].cpu.process}/${x[6].cpu.total}%`),g&64&&(E.value=x[6].cpu.process),r.$set(E);const m={};g&64&&(m.message=`${x[8](x[6].memory.process)}/${x[8](x[6].memory.total)}`),g&64&&(m.value=x[6].memory.process),g&64&&(m.max=x[6].memory.total),s.$set(m);const B={};g&64&&(B.message=`${x[8](x[6].heap.used)}/${x[8](x[6].heap.total)}`),g&64&&(B.value=x[6].heap.used),g&64&&(B.max=x[6].heap.total),c.$set(B);const _={};g&64&&(_.message=`${x[8](x[6].totalBuffer.used)}/${x[8](x[6].totalBuffer.total)}`),g&64&&(_.value=x[6].totalBuffer.used),g&64&&(_.max=x[6].totalBuffer.total),p.$set(_)},i(x){v||(Je(r.$$.fragment,x),Je(s.$$.fragment,x),Je(c.$$.fragment,x),Je(p.$$.fragment,x),v=!0)},o(x){ut(r.$$.fragment,x),ut(s.$$.fragment,x),ut(c.$$.fragment,x),ut(p.$$.fragment,x),v=!1},d(x){x&&(Ae(t),Ae(n),Ae(a),Ae(l),Ae(u),Ae(f),Ae(h)),Yt(r),Yt(s),Yt(c),Yt(p)}}}function lp(e){let t,r,n,a=e[21].id+"",s,l,u=e[21].name+"",c,f,h,p,v,x,g=e[21].address+"",E,m,B,_,C,S=e[11](e[21].uptime)+"",F,k,L,R,q,P=e[21].activeSessionCount+"",O,H,Y,ce;function $(){return e[12](e[21])}return{c(){t=U("li"),r=U("span"),n=Ie("ID: "),s=Ie(a),l=Ie(", "),c=Ie(u),f=re(),h=U("ul"),p=U("li"),v=U("span"),v.textContent="Address",x=Ie(": "),E=Ie(g),m=re(),B=U("li"),_=U("span"),_.textContent="Uptime",C=Ie(": "),F=Ie(S),k=re(),L=U("li"),R=U("span"),R.textContent="Active session",q=Ie(": "),O=Ie(P),H=re(),V(r,"text-decoration","underline"),V(r,"cursor","pointer"),V(t,"font-size","11pt"),V(t,"font-weight","100"),M(t,"class","svelte-1emz6h9"),V(v,"font-weight","600"),M(p,"class","svelte-1emz6h9"),V(_,"font-weight","600"),M(B,"class","svelte-1emz6h9"),V(R,"font-weight","600"),M(L,"class","svelte-1emz6h9"),V(h,"padding-left","18px"),V(h,"font-size","10pt"),V(h,"line-height","12pt"),V(h,"margin-bottom","10px"),V(h,"color","#717171")},m(ne,j){be(ne,t,j),A(t,r),A(r,n),A(r,s),A(t,l),A(t,c),be(ne,f,j),be(ne,h,j),A(h,p),A(p,v),A(p,x),A(p,E),A(h,m),A(h,B),A(B,_),A(B,C),A(B,F),A(h,k),A(h,L),A(L,R),A(L,q),A(L,O),A(h,H),Y||(ce=Ke(r,"click",$),Y=!0)},p(ne,j){e=ne,j&128&&a!==(a=e[21].id+"")&&ht(s,a),j&128&&u!==(u=e[21].name+"")&&ht(c,u),j&128&&g!==(g=e[21].address+"")&&ht(E,g),j&128&&S!==(S=e[11](e[21].uptime)+"")&&ht(F,S),j&128&&P!==(P=e[21].activeSessionCount+"")&&ht(O,P)},d(ne){ne&&(Ae(t),Ae(f),Ae(h)),Y=!1,ce()}}}function zA(e){let t,r;return{c(){t=new $s(!1),r=k0(),t.a=r},m(n,a){t.m(e[2],n,a),be(n,r,a)},p(n,a){a&4&&t.p(n[2])},d(n){n&&(Ae(r),t.d())}}}function qA(e){let t,r,n,a,s,l,u,c,f,h,p,v,x,g,E,m,B,_,C,S,F,k,L,R,q=e[6]!==void 0&&sp(e),P=e[6]!==void 0&&op(e),O=Tn(e[7]),H=[];for(let oe=0;oe<O.length;oe+=1)H[oe]=lp(ap(e,O,oe));function Y(oe){e[13](oe)}function ce(oe){e[14](oe)}let $={$$slots:{default:[zA]},$$scope:{ctx:e}};e[1]!==void 0&&($.show=e[1]),e[3]!==void 0&&($.button=e[3]),m=new O0({props:$}),Gt.push(()=>Hr(m,"show",Y)),Gt.push(()=>Hr(m,"button",ce)),m.$on("close",function(){N0(e[4])&&e[4].apply(this,arguments)});function ne(oe){e[15](oe)}let j={sysInfo:e[5]};return e[0]!==void 0&&(j.show=e[0]),S=new HA({props:j}),Gt.push(()=>Hr(S,"show",ne)),{c(){t=U("main"),r=U("h2"),r.textContent="Status",n=re(),a=U("div"),s=U("div"),l=U("div"),u=U("div"),u.innerHTML=`<img src="${OA}" width="16" height="16" alt="info"/> <span style="margin-left: 2px; font-size: 10pt; text-decoration: underline;color: #555;">INFO</span>`,c=re(),q&&q.c(),f=re(),P&&P.c(),h=re(),p=U("div"),v=U("div"),v.textContent="Client list",x=re(),g=U("ul");for(let oe=0;oe<H.length;oe+=1)H[oe].c();E=re(),$t(m.$$.fragment),C=re(),$t(S.$$.fragment),M(r,"class","title"),V(u,"display","flex"),V(u,"align-items","center"),V(u,"cursor","pointer"),V(u,"margin-bottom","5px"),V(l,"display","inline-block"),V(v,"margin-top","10px"),V(v,"font-size","12pt"),V(v,"font-weight","bold"),V(g,"padding-left","20px"),V(g,"margin-top","5px"),V(p,"margin-top","10px"),M(a,"class","round-box"),M(t,"class","svelte-1emz6h9")},m(oe,_e){be(oe,t,_e),A(t,r),A(t,n),A(t,a),A(a,s),A(s,l),A(l,u),A(s,c),q&&q.m(s,null),A(a,f),P&&P.m(a,null),A(a,h),A(a,p),A(p,v),A(p,x),A(p,g);for(let ue=0;ue<H.length;ue+=1)H[ue]&&H[ue].m(g,null);A(t,E),Qt(m,t,null),A(t,C),Qt(S,t,null),k=!0,L||(R=Ke(u,"click",e[9]),L=!0)},p(oe,[_e]){if(e=oe,e[6]!==void 0?q?q.p(e,_e):(q=sp(e),q.c(),q.m(s,null)):q&&(q.d(1),q=null),e[6]!==void 0?P?(P.p(e,_e),_e&64&&Je(P,1)):(P=op(e),P.c(),Je(P,1),P.m(a,h)):P&&(Vi(),ut(P,1,1,()=>{P=null}),Ki()),_e&3200){O=Tn(e[7]);let ee;for(ee=0;ee<O.length;ee+=1){const se=ap(e,O,ee);H[ee]?H[ee].p(se,_e):(H[ee]=lp(se),H[ee].c(),H[ee].m(g,null))}for(;ee<H.length;ee+=1)H[ee].d(1);H.length=O.length}const ue={};_e&16777220&&(ue.$$scope={dirty:_e,ctx:e}),!B&&_e&2&&(B=!0,ue.show=e[1],Kr(()=>B=!1)),!_&&_e&8&&(_=!0,ue.button=e[3],Kr(()=>_=!1)),m.$set(ue);const W={};_e&32&&(W.sysInfo=e[5]),!F&&_e&1&&(F=!0,W.show=e[0],Kr(()=>F=!1)),S.$set(W)},i(oe){k||(Je(P),Je(m.$$.fragment,oe),Je(S.$$.fragment,oe),k=!0)},o(oe){ut(P),ut(m.$$.fragment,oe),ut(S.$$.fragment,oe),k=!1},d(oe){oe&&Ae(t),q&&q.d(),P&&P.d(),Za(H,oe),Yt(m),Yt(S),L=!1,R()}}}function GA(e,t,r){let n=!1,a=!1,s="",l="Ok",u,c=()=>{},f,h,p=[];vi.getVersion(),yi(async()=>{u||v()});let v=()=>{x(),u||(u=setInterval(async()=>{await x()==!1&&clearInterval(u)},1e3))},x=async()=>{try{return r(6,h=await vi.instance.getSysUsage()),r(7,p=await vi.instance.getClientStatus()),!0}catch(R){R instanceof Pt&&g()}return!1},g=()=>{E("Session is expired.<br/>Please login again.","OK",()=>{location.href="/"})},E=(R,q,P)=>{q?r(3,l=q):q="OK",P==null?r(4,c=()=>{}):r(4,c=P),r(2,s=R),r(1,a=!0)},m=(R,q)=>R>1099511627776?`${Vn.round(R/1099511627776,1)}${q?"":"TiB"}`:R>1073741824?`${Vn.round(R/1073741824,1)}${q?"":"GiB"}`:R>1048576?`${Vn.round(R/1048576,1)}${q?"":"MiB"}`:R>1024?`${Vn.round(R/1024,1)}${q?"":"KiB"}`:`${R}${q?"":"B"}`,B=async R=>{try{r(5,f=await vi.instance.getSysInfo()),r(0,n=!0)}catch(q){E(q+"")}},_=async R=>{try{r(5,f=await vi.instance.getClientSysInfo(R)),r(0,n=!0)}catch(q){q instanceof Error&&E(q.message),console.log(q)}},C=R=>{R=R/1e3;const q=Math.floor(R/(24*60*60)),P=Math.floor(R%(24*60*60)/(60*60)),O=Math.floor(R%(60*60)/60),H=Math.floor(R%60);return`${q}d ${P}h ${O}m ${H}s`};const S=R=>_(R.id);function F(R){a=R,r(1,a)}function k(R){l=R,r(3,l)}function L(R){n=R,r(0,n)}return[n,a,s,l,c,f,h,p,m,B,_,C,S,F,k,L]}class WA extends $r{constructor(t){super(),Jr(this,t,GA,qA,jr,{})}}function QA(e){let t;return{c(){t=U("div"),t.textContent="Offline server..."},m(r,n){be(r,t,n)},i:Xt,o:Xt,d(r){r&&Ae(t)}}}function YA(e){let t,r;return t=new LA({}),{c(){$t(t.$$.fragment)},m(n,a){Qt(t,n,a),r=!0},i(n){r||(Je(t.$$.fragment,n),r=!0)},o(n){ut(t.$$.fragment,n),r=!1},d(n){Yt(t,n)}}}function XA(e){let t,r,n,a,s,l;return t=new tA({}),n=new WA({}),s=new NA({}),{c(){$t(t.$$.fragment),r=re(),$t(n.$$.fragment),a=re(),$t(s.$$.fragment)},m(u,c){Qt(t,u,c),be(u,r,c),Qt(n,u,c),be(u,a,c),Qt(s,u,c),l=!0},i(u){l||(Je(t.$$.fragment,u),Je(n.$$.fragment,u),Je(s.$$.fragment,u),l=!0)},o(u){ut(t.$$.fragment,u),ut(n.$$.fragment,u),ut(s.$$.fragment,u),l=!1},d(u){u&&(Ae(r),Ae(a)),Yt(t,u),Yt(n,u),Yt(s,u)}}}function ZA(e){let t,r,n,a,s,l,u,c,f,h=e[1].name+"",p,v,x,g=e[1].build+"",E,m;const B=[XA,YA,QA],_=[];function C(S,F){return S[0]==="Valid"?0:S[0]==="Invalid"?1:2}return r=C(e),n=_[r]=B[r](e),{c(){t=U("main"),n.c(),a=re(),s=U("div"),l=U("div"),u=re(),c=U("div"),f=U("div"),p=Ie(h),v=re(),x=U("div"),E=Ie(g),M(l,"class","version-background svelte-4ld5sr"),M(f,"class","version-info svelte-4ld5sr"),M(x,"class","version-info svelte-4ld5sr"),M(c,"class","version-info-box svelte-4ld5sr"),M(s,"class","version-box svelte-4ld5sr"),M(t,"class","svelte-4ld5sr")},m(S,F){be(S,t,F),_[r].m(t,null),A(t,a),A(t,s),A(s,l),A(s,u),A(s,c),A(c,f),A(f,p),A(c,v),A(c,x),A(x,E),m=!0},p(S,[F]){let k=r;r=C(S),r!==k&&(Vi(),ut(_[k],1,1,()=>{_[k]=null}),Ki(),n=_[r],n||(n=_[r]=B[r](S),n.c()),Je(n,1),n.m(t,a)),(!m||F&2)&&h!==(h=S[1].name+"")&&ht(p,h),(!m||F&2)&&g!==(g=S[1].build+"")&&ht(E,g)},i(S){m||(Je(n),m=!0)},o(S){ut(n),m=!1},d(S){S&&Ae(t),_[r].d()}}}function jA(e,t,r){let n="Checking",a={name:"",build:""};return yi(async()=>{r(0,n=await D0.validateSession()?"Valid":"Invalid"),r(1,a=await vi.getVersion())}),vi.getVersion(),[n,a]}class JA extends $r{constructor(t){super(),Jr(this,t,jA,ZA,jr,{})}}new JA({target:document.getElementById("app")});
